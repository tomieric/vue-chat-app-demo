(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"01f9":function(t,e,n){"use strict";var r=n("2d00"),o=n("5ca1"),i=n("2aba"),s=n("32e9"),a=n("84f2"),c=n("41a0"),u=n("7f20"),l=n("38fd"),d=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",g="values",E=function(){return this};t.exports=function(t,e,n,m,_,v,C){c(n,e,m);var S,y,T,A=function(t){if(!f&&t in O)return O[t];switch(t){case h:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},I=e+" Iterator",R=_==g,N=!1,O=t.prototype,M=O[d]||O[p]||_&&O[_],b=M||A(_),P=_?R?A("entries"):b:void 0,w="Array"==e&&O.entries||M;if(w&&(T=l(w.call(new t)),T!==Object.prototype&&T.next&&(u(T,I,!0),r||"function"==typeof T[d]||s(T,d,E))),R&&M&&M.name!==g&&(N=!0,b=function(){return M.call(this)}),r&&!C||!f&&!N&&O[d]||s(O,d,b),a[e]=b,a[I]=E,_)if(S={values:R?b:A(g),keys:v?b:A(h),entries:P},C)for(y in S)y in O||i(O,y,S[y]);else o(o.P+o.F*(f||N),e,S);return S}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"097d":function(t,e,n){"use strict";var r=n("5ca1"),o=n("8378"),i=n("7726"),s=n("ebd6"),a=n("bcaa");r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},"0d58":function(t,e,n){var r=n("ce10"),o=n("e11e");t.exports=Object.keys||function(t){return r(t,o)}},"0fc9":function(t,e,n){var r=n("3a38"),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},"11e9":function(t,e,n){var r=n("52a7"),o=n("4630"),i=n("6821"),s=n("6a99"),a=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=i(t),e=s(e,!0),c)try{return u(t,e)}catch(n){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},1495:function(t,e,n){var r=n("86cc"),o=n("cb7c"),i=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){o(t);var n,s=i(e),a=s.length,c=0;while(a>c)r.f(t,n=s[c++],e[n]);return t}},1654:function(t,e,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},1991:function(t,e,n){var r,o,i,s=n("9b43"),a=n("31f4"),c=n("fab2"),u=n("230e"),l=n("7726"),d=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,g=l.Dispatch,E=0,m={},_="onreadystatechange",v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},C=function(t){v.call(t.data)};f&&p||(f=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return m[++E]=function(){a("function"==typeof t?t:Function(t),e)},r(E),E},p=function(t){delete m[t]},"process"==n("2d95")(d)?r=function(t){d.nextTick(s(v,t,1))}:g&&g.now?r=function(t){g.now(s(v,t,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=C,r=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",C,!1)):r=_ in u("script")?function(t){c.appendChild(u("script"))[_]=function(){c.removeChild(this),v.call(t)}}:function(t){setTimeout(s(v,t,1),0)}),t.exports={set:f,clear:p}},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"1bc3":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var r=n("f772"),o=n("e53d").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},"1fa8":function(t,e,n){var r=n("cb7c");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(s){var i=t["return"];throw void 0!==i&&r(i.call(t)),s}}},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),o=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},"230e":function(t,e,n){var r=n("d3f4"),o=n("7726").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"241e":function(t,e,n){var r=n("25eb");t.exports=function(t){return Object(r(t))}},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"27ee":function(t,e,n){var r=n("23c6"),o=n("2b4c")("iterator"),i=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},2877:function(t,e,n){"use strict";function r(t,e,n,r,o,i,s,a){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}n.d(e,"a",function(){return r})},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var r=n("7726"),o=n("32e9"),i=n("69a8"),s=n("ca5a")("src"),a=n("fa5b"),c="toString",u=(""+a).split(c);n("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(i(n,s)||o(n,s,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,c,function(){return"function"==typeof this&&this[s]||a.call(this)})},"2aeb":function(t,e,n){var r=n("cb7c"),o=n("1495"),i=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},c="prototype",u=function(){var t,e=n("230e")("iframe"),r=i.length,o="<",s=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),u=t.F;while(r--)delete u[c][i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[s]=t):n=u(),void 0===e?n:o(n,e)}},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function i(t){return!0===t}function s(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return null!==t&&"object"===typeof t}var u=Object.prototype.toString;function l(t){return"[object Object]"===u.call(t)}function d(t){return"[object RegExp]"===u.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return o(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function h(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function E(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}E("slot,component",!0);var m=E("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var v=Object.prototype.hasOwnProperty;function C(t,e){return v.call(t,e)}function S(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var y=/-(\w)/g,T=S(function(t){return t.replace(y,function(t,e){return e?e.toUpperCase():""})}),A=S(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),I=/\B([A-Z])/g,R=S(function(t){return t.replace(I,"-$1").toLowerCase()});function N(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function O(t,e){return t.bind(e)}var M=Function.prototype.bind?O:N;function b(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function P(t,e){for(var n in e)t[n]=e[n];return t}function w(t){for(var e={},n=0;n<t.length;n++)t[n]&&P(e,t[n]);return e}function L(t,e,n){}var D=function(t,e,n){return!1},x=function(t){return t};function U(t,e){if(t===e)return!0;var n=c(t),r=c(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every(function(t,n){return U(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every(function(n){return U(t[n],e[n])})}catch(u){return!1}}function Y(t,e){for(var n=0;n<t.length;n++)if(U(t[n],e))return n;return-1}function k(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",G=["component","directive","filter"],j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],K={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:L,parsePlatformTagName:x,mustUseProp:D,async:!0,_lifecycleHooks:j},B=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function V(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var q=new RegExp("[^"+B.source+".$_\\d]");function $(t){if(!q.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var X,J="__proto__"in{},W="undefined"!==typeof window,z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=z&&WXEnvironment.platform.toLowerCase(),Z=W&&window.navigator.userAgent.toLowerCase(),tt=Z&&/msie|trident/.test(Z),et=Z&&Z.indexOf("msie 9.0")>0,nt=Z&&Z.indexOf("edge/")>0,rt=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),ot=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),it={}.watch,st=!1;if(W)try{var at={};Object.defineProperty(at,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,at)}catch(Ts){}var ct=function(){return void 0===X&&(X=!W&&!z&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),X},ut=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function lt(t){return"function"===typeof t&&/native code/.test(t.toString())}var dt,ft="undefined"!==typeof Symbol&&lt(Symbol)&&"undefined"!==typeof Reflect&&lt(Reflect.ownKeys);dt="undefined"!==typeof Set&&lt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=L,ht=0,gt=function(){this.id=ht++,this.subs=[]};gt.prototype.addSub=function(t){this.subs.push(t)},gt.prototype.removeSub=function(t){_(this.subs,t)},gt.prototype.depend=function(){gt.target&&gt.target.addDep(this)},gt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},gt.target=null;var Et=[];function mt(t){Et.push(t),gt.target=t}function _t(){Et.pop(),gt.target=Et[Et.length-1]}var vt=function(t,e,n,r,o,i,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Ct={child:{configurable:!0}};Ct.child.get=function(){return this.componentInstance},Object.defineProperties(vt.prototype,Ct);var St=function(t){void 0===t&&(t="");var e=new vt;return e.text=t,e.isComment=!0,e};function yt(t){return new vt(void 0,void 0,void 0,String(t))}function Tt(t){var e=new vt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var At=Array.prototype,It=Object.create(At),Rt=["push","pop","shift","unshift","splice","sort","reverse"];Rt.forEach(function(t){var e=At[t];V(It,t,function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var o,i=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&s.observeArray(o),s.dep.notify(),i})});var Nt=Object.getOwnPropertyNames(It),Ot=!0;function Mt(t){Ot=t}var bt=function(t){this.value=t,this.dep=new gt,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t)?(J?Pt(t,It):wt(t,It,Nt),this.observeArray(t)):this.walk(t)};function Pt(t,e){t.__proto__=e}function wt(t,e,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];V(t,i,e[i])}}function Lt(t,e){var n;if(c(t)&&!(t instanceof vt))return C(t,"__ob__")&&t.__ob__ instanceof bt?n=t.__ob__:Ot&&!ct()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new bt(t)),e&&n&&n.vmCount++,n}function Dt(t,e,n,r,o){var i=new gt,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(n=t[e]);var u=!o&&Lt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return gt.target&&(i.depend(),u&&(u.dep.depend(),Array.isArray(e)&&Yt(e))),e},set:function(e){var r=a?a.call(t):n;e===r||e!==e&&r!==r||a&&!c||(c?c.call(t,e):n=e,u=!o&&Lt(e),i.notify())}})}}function xt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Dt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Ut(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||C(t,e)&&(delete t[e],n&&n.dep.notify())}}function Yt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Yt(e)}bt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Dt(t,e[n])},bt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Lt(t[e])};var kt=K.optionMergeStrategies;function Ft(t,e){if(!e)return t;for(var n,r,o,i=ft?Reflect.ownKeys(e):Object.keys(e),s=0;s<i.length;s++)n=i[s],"__ob__"!==n&&(r=t[n],o=e[n],C(t,n)?r!==o&&l(r)&&l(o)&&Ft(r,o):xt(t,n,o));return t}function Gt(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,o="function"===typeof t?t.call(n,n):t;return r?Ft(r,o):o}:e?t?function(){return Ft("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function jt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Kt(n):n}function Kt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Bt(t,e,n,r){var o=Object.create(t||null);return e?P(o,e):o}kt.data=function(t,e,n){return n?Gt(t,e,n):e&&"function"!==typeof e?t:Gt(t,e)},j.forEach(function(t){kt[t]=jt}),G.forEach(function(t){kt[t+"s"]=Bt}),kt.watch=function(t,e,n,r){if(t===it&&(t=void 0),e===it&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var i in P(o,t),e){var s=o[i],a=e[i];s&&!Array.isArray(s)&&(s=[s]),o[i]=s?s.concat(a):Array.isArray(a)?a:[a]}return o},kt.props=kt.methods=kt.inject=kt.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return P(o,t),e&&P(o,e),o},kt.provide=Gt;var Ht=function(t,e){return void 0===e?t:e};function Vt(t,e){var n=t.props;if(n){var r,o,i,s={};if(Array.isArray(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(i=T(o),s[i]={type:null})}else if(l(n))for(var a in n)o=n[a],i=T(a),s[i]=l(o)?o:{type:o};else 0;t.props=s}}function qt(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(l(n))for(var i in n){var s=n[i];r[i]=l(s)?P({from:i},s):{from:s}}else 0}}function $t(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Xt(t,e,n){if("function"===typeof e&&(e=e.options),Vt(e,n),qt(e,n),$t(e),!e._base&&(e.extends&&(t=Xt(t,e.extends,n)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)t=Xt(t,e.mixins[r],n);var i,s={};for(i in t)a(i);for(i in e)C(t,i)||a(i);function a(r){var o=kt[r]||Ht;s[r]=o(t[r],e[r],n,r)}return s}function Jt(t,e,n,r){if("string"===typeof n){var o=t[e];if(C(o,n))return o[n];var i=T(n);if(C(o,i))return o[i];var s=A(i);if(C(o,s))return o[s];var a=o[n]||o[i]||o[s];return a}}function Wt(t,e,n,r){var o=e[t],i=!C(n,t),s=n[t],a=te(Boolean,o.type);if(a>-1)if(i&&!C(o,"default"))s=!1;else if(""===s||s===R(t)){var c=te(String,o.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=zt(r,o,t);var u=Ot;Mt(!0),Lt(s),Mt(u)}return s}function zt(t,e,n){if(C(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==Qt(e.type)?r.call(t):r}}function Qt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Zt(t,e){return Qt(t)===Qt(e)}function te(t,e){if(!Array.isArray(e))return Zt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Zt(e[n],t))return n;return-1}function ee(t,e,n){mt();try{if(e){var r=e;while(r=r.$parent){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{var s=!1===o[i].call(r,t,e,n);if(s)return}catch(Ts){re(Ts,r,"errorCaptured hook")}}}re(t,e,n)}finally{_t()}}function ne(t,e,n,r,o){var i;try{i=n?t.apply(e,n):t.call(e),i&&!i._isVue&&p(i)&&!i._handled&&(i.catch(function(t){return ee(t,r,o+" (Promise/async)")}),i._handled=!0)}catch(Ts){ee(Ts,r,o)}return i}function re(t,e,n){if(K.errorHandler)try{return K.errorHandler.call(null,t,e,n)}catch(Ts){Ts!==t&&oe(Ts,null,"config.errorHandler")}oe(t,e,n)}function oe(t,e,n){if(!W&&!z||"undefined"===typeof console)throw t;console.error(t)}var ie,se=!1,ae=[],ce=!1;function ue(){ce=!1;var t=ae.slice(0);ae.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&lt(Promise)){var le=Promise.resolve();ie=function(){le.then(ue),rt&&setTimeout(L)},se=!0}else if(tt||"undefined"===typeof MutationObserver||!lt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ie="undefined"!==typeof setImmediate&&lt(setImmediate)?function(){setImmediate(ue)}:function(){setTimeout(ue,0)};else{var de=1,fe=new MutationObserver(ue),pe=document.createTextNode(String(de));fe.observe(pe,{characterData:!0}),ie=function(){de=(de+1)%2,pe.data=String(de)},se=!0}function he(t,e){var n;if(ae.push(function(){if(t)try{t.call(e)}catch(Ts){ee(Ts,e,"nextTick")}else n&&n(e)}),ce||(ce=!0,ie()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var ge=new dt;function Ee(t){me(t,ge),ge.clear()}function me(t,e){var n,r,o=Array.isArray(t);if(!(!o&&!c(t)||Object.isFrozen(t)||t instanceof vt)){if(t.__ob__){var i=t.__ob__.dep.id;if(e.has(i))return;e.add(i)}if(o){n=t.length;while(n--)me(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)me(t[r[n]],e)}}}var _e=S(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}});function ve(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return ne(r,null,arguments,e,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)ne(o[i],null,t,e,"v-on handler")}return n.fns=t,n}function Ce(t,e,n,o,s,a){var c,u,l,d;for(c in t)u=t[c],l=e[c],d=_e(c),r(u)||(r(l)?(r(u.fns)&&(u=t[c]=ve(u,a)),i(d.once)&&(u=t[c]=s(d.name,u,d.capture)),n(d.name,u,d.capture,d.passive,d.params)):u!==l&&(l.fns=u,t[c]=l));for(c in e)r(t[c])&&(d=_e(c),o(d.name,e[c],d.capture))}function Se(t,e,n){var s;t instanceof vt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){n.apply(this,arguments),_(s.fns,c)}r(a)?s=ve([c]):o(a.fns)&&i(a.merged)?(s=a,s.fns.push(c)):s=ve([a,c]),s.merged=!0,t[e]=s}function ye(t,e,n){var i=e.options.props;if(!r(i)){var s={},a=t.attrs,c=t.props;if(o(a)||o(c))for(var u in i){var l=R(u);Te(s,c,u,l,!0)||Te(s,a,u,l,!1)}return s}}function Te(t,e,n,r,i){if(o(e)){if(C(e,n))return t[n]=e[n],i||delete e[n],!0;if(C(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Ae(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ie(t){return a(t)?[yt(t)]:Array.isArray(t)?Ne(t):void 0}function Re(t){return o(t)&&o(t.text)&&s(t.isComment)}function Ne(t,e){var n,s,c,u,l=[];for(n=0;n<t.length;n++)s=t[n],r(s)||"boolean"===typeof s||(c=l.length-1,u=l[c],Array.isArray(s)?s.length>0&&(s=Ne(s,(e||"")+"_"+n),Re(s[0])&&Re(u)&&(l[c]=yt(u.text+s[0].text),s.shift()),l.push.apply(l,s)):a(s)?Re(u)?l[c]=yt(u.text+s):""!==s&&l.push(yt(s)):Re(s)&&Re(u)?l[c]=yt(u.text+s.text):(i(t._isVList)&&o(s.tag)&&r(s.key)&&o(e)&&(s.key="__vlist"+e+"_"+n+"__"),l.push(s)));return l}function Oe(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Me(t){var e=be(t.$options.inject,t);e&&(Mt(!1),Object.keys(e).forEach(function(n){Dt(t,n,e[n])}),Mt(!0))}function be(t,e){if(t){for(var n=Object.create(null),r=ft?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var s=t[i].from,a=e;while(a){if(a._provided&&C(a._provided,s)){n[i]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[i]){var c=t[i].default;n[i]="function"===typeof c?c.call(e):c}else 0}}return n}}function Pe(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],s=i.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,i.context!==e&&i.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(i);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var u in n)n[u].every(we)&&delete n[u];return n}function we(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Le(t,e,r){var o,i=Object.keys(e).length>0,s=t?!!t.$stable:!i,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&r&&r!==n&&a===r.$key&&!i&&!r.$hasNormal)return r;for(var c in o={},t)t[c]&&"$"!==c[0]&&(o[c]=De(e,c,t[c]))}else o={};for(var u in e)u in o||(o[u]=xe(e,u));return t&&Object.isExtensible(t)&&(t._normalized=o),V(o,"$stable",s),V(o,"$key",a),V(o,"$hasNormal",i),o}function De(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ie(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function xe(t,e){return function(){return t[e]}}function Ue(t,e){var n,r,i,s,a;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(c(t))if(ft&&t[Symbol.iterator]){n=[];var u=t[Symbol.iterator](),l=u.next();while(!l.done)n.push(e(l.value,n.length)),l=u.next()}else for(s=Object.keys(t),n=new Array(s.length),r=0,i=s.length;r<i;r++)a=s[r],n[r]=e(t[a],a,r);return o(n)||(n=[]),n._isVList=!0,n}function Ye(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=P(P({},r),n)),o=i(n)||e):o=this.$slots[t]||e;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},o):o}function ke(t){return Jt(this.$options,"filters",t,!0)||x}function Fe(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ge(t,e,n,r,o){var i=K.keyCodes[e]||n;return o&&r&&!K.keyCodes[e]?Fe(o,r):i?Fe(i,t):r?R(r)!==e:void 0}function je(t,e,n,r,o){if(n)if(c(n)){var i;Array.isArray(n)&&(n=w(n));var s=function(s){if("class"===s||"style"===s||m(s))i=t;else{var a=t.attrs&&t.attrs.type;i=r||K.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=T(s),u=R(s);if(!(c in i)&&!(u in i)&&(i[s]=n[s],o)){var l=t.on||(t.on={});l["update:"+s]=function(t){n[s]=t}}};for(var a in n)s(a)}else;return t}function Ke(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),He(r,"__static__"+t,!1),r)}function Be(t,e,n){return He(t,"__once__"+e+(n?"_"+n:""),!0),t}function He(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&Ve(t[r],e+"_"+r,n);else Ve(t,e,n)}function Ve(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function qe(t,e){if(e)if(l(e)){var n=t.on=t.on?P({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}else;return t}function $e(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var i=t[o];Array.isArray(i)?$e(i,e,n):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function Xe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Je(t,e){return"string"===typeof t?e+t:t}function We(t){t._o=Be,t._n=g,t._s=h,t._l=Ue,t._t=Ye,t._q=U,t._i=Y,t._m=Ke,t._f=ke,t._k=Ge,t._b=je,t._v=yt,t._e=St,t._u=$e,t._g=qe,t._d=Xe,t._p=Je}function ze(t,e,r,o,s){var a,c=this,u=s.options;C(o,"_uid")?(a=Object.create(o),a._original=o):(a=o,o=o._original);var l=i(u._compiled),d=!l;this.data=t,this.props=e,this.children=r,this.parent=o,this.listeners=t.on||n,this.injections=be(u.inject,o),this.slots=function(){return c.$slots||Le(t.scopedSlots,c.$slots=Pe(r,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Le(t.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Le(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var i=dn(a,t,e,n,r,d);return i&&!Array.isArray(i)&&(i.fnScopeId=u._scopeId,i.fnContext=o),i}:this._c=function(t,e,n,r){return dn(a,t,e,n,r,d)}}function Qe(t,e,r,i,s){var a=t.options,c={},u=a.props;if(o(u))for(var l in u)c[l]=Wt(l,u,e||n);else o(r.attrs)&&tn(c,r.attrs),o(r.props)&&tn(c,r.props);var d=new ze(r,c,s,i,t),f=a.render.call(null,d._c,d);if(f instanceof vt)return Ze(f,r,d.parent,a,d);if(Array.isArray(f)){for(var p=Ie(f)||[],h=new Array(p.length),g=0;g<p.length;g++)h[g]=Ze(p[g],r,d.parent,a,d);return h}}function Ze(t,e,n,r,o){var i=Tt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function tn(t,e){for(var n in e)t[T(n)]=e[n]}We(ze.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var r=t.componentInstance=on(t,bn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;xn(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Fn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Qn(n):Yn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?kn(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,s,a){if(!r(t)){var u=n.$options._base;if(c(t)&&(t=u.extend(t)),"function"===typeof t){var l;if(r(t.cid)&&(l=t,t=Sn(l,u),void 0===t))return Cn(l,e,n,s,a);e=e||{},Sr(t),o(e.model)&&cn(t.options,e);var d=ye(e,t,a);if(i(t.options.functional))return Qe(t,d,e,n,s);var f=e.on;if(e.on=e.nativeOn,i(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}sn(e);var h=t.options.name||a,g=new vt("vue-component-"+t.cid+(h?"-"+h:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:d,listeners:f,tag:a,children:s},l);return g}}}function on(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function sn(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var r=nn[n],o=e[r],i=en[r];o===i||o&&o._merged||(e[r]=o?an(i,o):i)}}function an(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function cn(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),s=i[r],a=e.model.callback;o(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(i[r]=[a].concat(s)):i[r]=a}var un=1,ln=2;function dn(t,e,n,r,o,s){return(Array.isArray(n)||a(n))&&(o=r,r=n,n=void 0),i(s)&&(o=ln),fn(t,e,n,r,o)}function fn(t,e,n,r,i){if(o(n)&&o(n.__ob__))return St();if(o(n)&&o(n.is)&&(e=n.is),!e)return St();var s,a,c;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===ln?r=Ie(r):i===un&&(r=Ae(r)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||K.getTagNamespace(e),s=K.isReservedTag(e)?new vt(K.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!o(c=Jt(t.$options,"components",e))?new vt(e,n,r,void 0,void 0,t):rn(c,n,t,r,e)):s=rn(e,n,t,r);return Array.isArray(s)?s:o(s)?(o(a)&&pn(s,a),o(n)&&hn(n),s):St()}function pn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var s=0,a=t.children.length;s<a;s++){var c=t.children[s];o(c.tag)&&(r(c.ns)||i(n)&&"svg"!==c.tag)&&pn(c,e,n)}}function hn(t){c(t.style)&&Ee(t.style),c(t.class)&&Ee(t.class)}function gn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,o=r&&r.context;t.$slots=Pe(e._renderChildren,o),t.$scopedSlots=n,t._c=function(e,n,r,o){return dn(t,e,n,r,o,!1)},t.$createElement=function(e,n,r,o){return dn(t,e,n,r,o,!0)};var i=r&&r.data;Dt(t,"$attrs",i&&i.attrs||n,null,!0),Dt(t,"$listeners",e._parentListeners||n,null,!0)}var En,mn=null;function _n(t){We(t.prototype),t.prototype.$nextTick=function(t){return he(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;o&&(e.$scopedSlots=Le(o.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=o;try{mn=e,t=r.call(e._renderProxy,e.$createElement)}catch(Ts){ee(Ts,e,"render"),t=e._vnode}finally{mn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof vt||(t=St()),t.parent=o,t}}function vn(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function Cn(t,e,n,r,o){var i=St();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}function Sn(t,e){if(i(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=mn;if(n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),i(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var s=t.owners=[n],a=!0,u=null,l=null;n.$on("hook:destroyed",function(){return _(s,n)});var d=function(t){for(var e=0,n=s.length;e<n;e++)s[e].$forceUpdate();t&&(s.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},f=k(function(n){t.resolved=vn(n,e),a?s.length=0:d(!0)}),h=k(function(e){o(t.errorComp)&&(t.error=!0,d(!0))}),g=t(f,h);return c(g)&&(p(g)?r(t.resolved)&&g.then(f,h):p(g.component)&&(g.component.then(f,h),o(g.error)&&(t.errorComp=vn(g.error,e)),o(g.loading)&&(t.loadingComp=vn(g.loading,e),0===g.delay?t.loading=!0:u=setTimeout(function(){u=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,d(!1))},g.delay||200)),o(g.timeout)&&(l=setTimeout(function(){l=null,r(t.resolved)&&h(null)},g.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function yn(t){return t.isComment&&t.asyncFactory}function Tn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||yn(n)))return n}}function An(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&On(t,e)}function In(t,e){En.$on(t,e)}function Rn(t,e){En.$off(t,e)}function Nn(t,e){var n=En;return function r(){var o=e.apply(null,arguments);null!==o&&n.$off(t,r)}}function On(t,e,n){En=t,Ce(e,n||{},In,Rn,Nn,t),En=void 0}function Mn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var i,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;var a=s.length;while(a--)if(i=s[a],i===e||i.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?b(n):n;for(var r=b(arguments,1),o='event handler for "'+t+'"',i=0,s=n.length;i<s;i++)ne(n[i],e,r,e,o)}return e}}var bn=null;function Pn(t){var e=bn;return bn=t,function(){bn=e}}function wn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ln(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=Pn(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Fn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Fn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Dn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=St),Fn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new nr(t,r,L,{before:function(){t._isMounted&&!t._isDestroyed&&Fn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Fn(t,"mounted")),t}function xn(t,e,r,o,i){var s=o.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key),u=!!(i||t.$options._renderChildren||c);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i,t.$attrs=o.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Mt(!1);for(var l=t._props,d=t.$options._propKeys||[],f=0;f<d.length;f++){var p=d[f],h=t.$options.props;l[p]=Wt(p,h,e,t)}Mt(!0),t.$options.propsData=e}r=r||n;var g=t.$options._parentListeners;t.$options._parentListeners=r,On(t,r,g),u&&(t.$slots=Pe(i,o.context),t.$forceUpdate())}function Un(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Yn(t,e){if(e){if(t._directInactive=!1,Un(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Yn(t.$children[n]);Fn(t,"activated")}}function kn(t,e){if((!e||(t._directInactive=!0,!Un(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)kn(t.$children[n]);Fn(t,"deactivated")}}function Fn(t,e){mt();var n=t.$options[e],r=e+" hook";if(n)for(var o=0,i=n.length;o<i;o++)ne(n[o],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),_t()}var Gn=[],jn=[],Kn={},Bn=!1,Hn=!1,Vn=0;function qn(){Vn=Gn.length=jn.length=0,Kn={},Bn=Hn=!1}var $n=0,Xn=Date.now;if(W&&!tt){var Jn=window.performance;Jn&&"function"===typeof Jn.now&&Xn()>document.createEvent("Event").timeStamp&&(Xn=function(){return Jn.now()})}function Wn(){var t,e;for($n=Xn(),Hn=!0,Gn.sort(function(t,e){return t.id-e.id}),Vn=0;Vn<Gn.length;Vn++)t=Gn[Vn],t.before&&t.before(),e=t.id,Kn[e]=null,t.run();var n=jn.slice(),r=Gn.slice();qn(),Zn(n),zn(r),ut&&K.devtools&&ut.emit("flush")}function zn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Fn(r,"updated")}}function Qn(t){t._inactive=!1,jn.push(t)}function Zn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Yn(t[e],!0)}function tr(t){var e=t.id;if(null==Kn[e]){if(Kn[e]=!0,Hn){var n=Gn.length-1;while(n>Vn&&Gn[n].id>t.id)n--;Gn.splice(n+1,0,t)}else Gn.push(t);Bn||(Bn=!0,he(Wn))}}var er=0,nr=function(t,e,n,r,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++er,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dt,this.newDepIds=new dt,this.expression="","function"===typeof e?this.getter=e:(this.getter=$(e),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var t;mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Ts){if(!this.user)throw Ts;ee(Ts,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Ee(t),_t(),this.cleanupDeps()}return t},nr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},nr.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():tr(this)},nr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Ts){ee(Ts,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:L,set:L};function or(t,e,n){rr.get=function(){return this[e][n]},rr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,rr)}function ir(t){t._watchers=[];var e=t.$options;e.props&&sr(t,e.props),e.methods&&hr(t,e.methods),e.data?ar(t):Lt(t._data={},!0),e.computed&&lr(t,e.computed),e.watch&&e.watch!==it&&gr(t,e.watch)}function sr(t,e){var n=t.$options.propsData||{},r=t._props={},o=t.$options._propKeys=[],i=!t.$parent;i||Mt(!1);var s=function(i){o.push(i);var s=Wt(i,e,n,t);Dt(r,i,s),i in t||or(t,"_props",i)};for(var a in e)s(a);Mt(!0)}function ar(t){var e=t.$options.data;e=t._data="function"===typeof e?cr(e,t):e||{},l(e)||(e={});var n=Object.keys(e),r=t.$options.props,o=(t.$options.methods,n.length);while(o--){var i=n[o];0,r&&C(r,i)||H(i)||or(t,"_data",i)}Lt(e,!0)}function cr(t,e){mt();try{return t.call(e,e)}catch(Ts){return ee(Ts,e,"data()"),{}}finally{_t()}}var ur={lazy:!0};function lr(t,e){var n=t._computedWatchers=Object.create(null),r=ct();for(var o in e){var i=e[o],s="function"===typeof i?i:i.get;0,r||(n[o]=new nr(t,s||L,L,ur)),o in t||dr(t,o,i)}}function dr(t,e,n){var r=!ct();"function"===typeof n?(rr.get=r?fr(e):pr(n),rr.set=L):(rr.get=n.get?r&&!1!==n.cache?fr(e):pr(n.get):L,rr.set=n.set||L),Object.defineProperty(t,e,rr)}function fr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),gt.target&&e.depend(),e.value}}function pr(t){return function(){return t.call(this,this)}}function hr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?L:M(e[n],t)}function gr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)Er(t,n,r[o]);else Er(t,n,r)}}function Er(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function mr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=xt,t.prototype.$delete=Ut,t.prototype.$watch=function(t,e,n){var r=this;if(l(e))return Er(r,t,e,n);n=n||{},n.user=!0;var o=new nr(r,t,e,n);if(n.immediate)try{e.call(r,o.value)}catch(i){ee(i,r,'callback for immediate watcher "'+o.expression+'"')}return function(){o.teardown()}}}var _r=0;function vr(t){t.prototype._init=function(t){var e=this;e._uid=_r++,e._isVue=!0,t&&t._isComponent?Cr(e,t):e.$options=Xt(Sr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,wn(e),An(e),gn(e),Fn(e,"beforeCreate"),Me(e),ir(e),Oe(e),Fn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Cr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Sr(t){var e=t.options;if(t.super){var n=Sr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var o=yr(t);o&&P(t.extendOptions,o),e=t.options=Xt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function yr(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}function Tr(t){this._init(t)}function Ar(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=b(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ir(t){t.mixin=function(t){return this.options=Xt(this.options,t),this}}function Rr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=t.name||n.options.name;var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Xt(n.options,t),s["super"]=n,s.options.props&&Nr(s),s.options.computed&&Or(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,G.forEach(function(t){s[t]=n[t]}),i&&(s.options.components[i]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=P({},s.options),o[r]=s,s}}function Nr(t){var e=t.options.props;for(var n in e)or(t.prototype,"_props",n)}function Or(t){var e=t.options.computed;for(var n in e)dr(t.prototype,n,e[n])}function Mr(t){G.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function br(t){return t&&(t.Ctor.options.name||t.tag)}function Pr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!d(t)&&t.test(e)}function wr(t,e){var n=t.cache,r=t.keys,o=t._vnode;for(var i in n){var s=n[i];if(s){var a=br(s.componentOptions);a&&!e(a)&&Lr(n,i,r,o)}}}function Lr(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,_(n,e)}vr(Tr),mr(Tr),Mn(Tr),Ln(Tr),_n(Tr);var Dr=[String,RegExp,Array],xr={name:"keep-alive",abstract:!0,props:{include:Dr,exclude:Dr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Lr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){wr(t,function(t){return Pr(e,t)})}),this.$watch("exclude",function(e){wr(t,function(t){return!Pr(e,t)})})},render:function(){var t=this.$slots.default,e=Tn(t),n=e&&e.componentOptions;if(n){var r=br(n),o=this,i=o.include,s=o.exclude;if(i&&(!r||!Pr(i,r))||s&&r&&Pr(s,r))return e;var a=this,c=a.cache,u=a.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;c[l]?(e.componentInstance=c[l].componentInstance,_(u,l),u.push(l)):(c[l]=e,u.push(l),this.max&&u.length>parseInt(this.max)&&Lr(c,u[0],u,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Ur={KeepAlive:xr};function Yr(t){var e={get:function(){return K}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:P,mergeOptions:Xt,defineReactive:Dt},t.set=xt,t.delete=Ut,t.nextTick=he,t.observable=function(t){return Lt(t),t},t.options=Object.create(null),G.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,P(t.options.components,Ur),Ar(t),Ir(t),Rr(t),Mr(t)}Yr(Tr),Object.defineProperty(Tr.prototype,"$isServer",{get:ct}),Object.defineProperty(Tr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Tr,"FunctionalRenderContext",{value:ze}),Tr.version="2.6.10";var kr=E("style,class"),Fr=E("input,textarea,option,select,progress"),Gr=function(t,e,n){return"value"===n&&Fr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},jr=E("contenteditable,draggable,spellcheck"),Kr=E("events,caret,typing,plaintext-only"),Br=function(t,e){return Xr(e)||"false"===e?"false":"contenteditable"===t&&Kr(e)?e:"true"},Hr=E("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Vr="http://www.w3.org/1999/xlink",qr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},$r=function(t){return qr(t)?t.slice(6,t.length):""},Xr=function(t){return null==t||!1===t};function Jr(t){var e=t.data,n=t,r=t;while(o(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Wr(r.data,e));while(o(n=n.parent))n&&n.data&&(e=Wr(e,n.data));return zr(e.staticClass,e.class)}function Wr(t,e){return{staticClass:Qr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function zr(t,e){return o(t)||o(e)?Qr(t,Zr(e)):""}function Qr(t,e){return t?e?t+" "+e:t:e||""}function Zr(t){return Array.isArray(t)?to(t):c(t)?eo(t):"string"===typeof t?t:""}function to(t){for(var e,n="",r=0,i=t.length;r<i;r++)o(e=Zr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function eo(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var no={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ro=E("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),oo=E("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),io=function(t){return ro(t)||oo(t)};function so(t){return oo(t)?"svg":"math"===t?"math":void 0}var ao=Object.create(null);function co(t){if(!W)return!0;if(io(t))return!1;if(t=t.toLowerCase(),null!=ao[t])return ao[t];var e=document.createElement(t);return t.indexOf("-")>-1?ao[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ao[t]=/HTMLUnknownElement/.test(e.toString())}var uo=E("text,number,password,search,email,tel,url");function lo(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function fo(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function po(t,e){return document.createElementNS(no[t],e)}function ho(t){return document.createTextNode(t)}function go(t){return document.createComment(t)}function Eo(t,e,n){t.insertBefore(e,n)}function mo(t,e){t.removeChild(e)}function _o(t,e){t.appendChild(e)}function vo(t){return t.parentNode}function Co(t){return t.nextSibling}function So(t){return t.tagName}function yo(t,e){t.textContent=e}function To(t,e){t.setAttribute(e,"")}var Ao=Object.freeze({createElement:fo,createElementNS:po,createTextNode:ho,createComment:go,insertBefore:Eo,removeChild:mo,appendChild:_o,parentNode:vo,nextSibling:Co,tagName:So,setTextContent:yo,setStyleScope:To}),Io={create:function(t,e){Ro(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ro(t,!0),Ro(e))},destroy:function(t){Ro(t,!0)}};function Ro(t,e){var n=t.data.ref;if(o(n)){var r=t.context,i=t.componentInstance||t.elm,s=r.$refs;e?Array.isArray(s[n])?_(s[n],i):s[n]===i&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(i)<0&&s[n].push(i):s[n]=[i]:s[n]=i}}var No=new vt("",{},[]),Oo=["create","activate","update","remove","destroy"];function Mo(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&bo(t,e)||i(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function bo(t,e){if("input"!==t.tag)return!0;var n,r=o(n=t.data)&&o(n=n.attrs)&&n.type,i=o(n=e.data)&&o(n=n.attrs)&&n.type;return r===i||uo(r)&&uo(i)}function Po(t,e,n){var r,i,s={};for(r=e;r<=n;++r)i=t[r].key,o(i)&&(s[i]=r);return s}function wo(t){var e,n,s={},c=t.modules,u=t.nodeOps;for(e=0;e<Oo.length;++e)for(s[Oo[e]]=[],n=0;n<c.length;++n)o(c[n][Oo[e]])&&s[Oo[e]].push(c[n][Oo[e]]);function l(t){return new vt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function d(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=u.parentNode(t);o(e)&&u.removeChild(e,t)}function p(t,e,n,r,s,a,c){if(o(t.elm)&&o(a)&&(t=a[c]=Tt(t)),t.isRootInsert=!s,!h(t,e,n,r)){var l=t.data,d=t.children,f=t.tag;o(f)?(t.elm=t.ns?u.createElementNS(t.ns,f):u.createElement(f,t),y(t),v(t,d,e),o(l)&&S(t,e),_(n,t.elm,r)):i(t.isComment)?(t.elm=u.createComment(t.text),_(n,t.elm,r)):(t.elm=u.createTextNode(t.text),_(n,t.elm,r))}}function h(t,e,n,r){var s=t.data;if(o(s)){var a=o(t.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(t,!1),o(t.componentInstance))return g(t,e),_(n,t.elm,r),i(a)&&m(t,e,n,r),!0}}function g(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,C(t)?(S(t,e),y(t)):(Ro(t),e.push(t))}function m(t,e,n,r){var i,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,o(i=a.data)&&o(i=i.transition)){for(i=0;i<s.activate.length;++i)s.activate[i](No,a);e.push(a);break}_(n,t.elm,r)}function _(t,e,n){o(t)&&(o(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function v(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else a(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function C(t){while(t.componentInstance)t=t.componentInstance._vnode;return o(t.tag)}function S(t,n){for(var r=0;r<s.create.length;++r)s.create[r](No,t);e=t.data.hook,o(e)&&(o(e.create)&&e.create(No,t),o(e.insert)&&n.push(t))}function y(t){var e;if(o(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var n=t;while(n)o(e=n.context)&&o(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent}o(e=bn)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function T(t,e,n,r,o,i){for(;r<=o;++r)p(n[r],i,t,e,!1,n,r)}function A(t){var e,n,r=t.data;if(o(r))for(o(e=r.hook)&&o(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)A(t.children[n])}function I(t,e,n,r){for(;n<=r;++n){var i=e[n];o(i)&&(o(i.tag)?(R(i),A(i)):f(i.elm))}}function R(t,e){if(o(e)||o(t.data)){var n,r=s.remove.length+1;for(o(e)?e.listeners+=r:e=d(t.elm,r),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&R(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else f(t.elm)}function N(t,e,n,i,s){var a,c,l,d,f=0,h=0,g=e.length-1,E=e[0],m=e[g],_=n.length-1,v=n[0],C=n[_],S=!s;while(f<=g&&h<=_)r(E)?E=e[++f]:r(m)?m=e[--g]:Mo(E,v)?(M(E,v,i,n,h),E=e[++f],v=n[++h]):Mo(m,C)?(M(m,C,i,n,_),m=e[--g],C=n[--_]):Mo(E,C)?(M(E,C,i,n,_),S&&u.insertBefore(t,E.elm,u.nextSibling(m.elm)),E=e[++f],C=n[--_]):Mo(m,v)?(M(m,v,i,n,h),S&&u.insertBefore(t,m.elm,E.elm),m=e[--g],v=n[++h]):(r(a)&&(a=Po(e,f,g)),c=o(v.key)?a[v.key]:O(v,e,f,g),r(c)?p(v,i,t,E.elm,!1,n,h):(l=e[c],Mo(l,v)?(M(l,v,i,n,h),e[c]=void 0,S&&u.insertBefore(t,l.elm,E.elm)):p(v,i,t,E.elm,!1,n,h)),v=n[++h]);f>g?(d=r(n[_+1])?null:n[_+1].elm,T(t,d,n,h,_,i)):h>_&&I(t,e,f,g)}function O(t,e,n,r){for(var i=n;i<r;i++){var s=e[i];if(o(s)&&Mo(t,s))return i}}function M(t,e,n,a,c,l){if(t!==e){o(e.elm)&&o(a)&&(e=a[c]=Tt(e));var d=e.elm=t.elm;if(i(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?w(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(i(e.isStatic)&&i(t.isStatic)&&e.key===t.key&&(i(e.isCloned)||i(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,p=e.data;o(p)&&o(f=p.hook)&&o(f=f.prepatch)&&f(t,e);var h=t.children,g=e.children;if(o(p)&&C(e)){for(f=0;f<s.update.length;++f)s.update[f](t,e);o(f=p.hook)&&o(f=f.update)&&f(t,e)}r(e.text)?o(h)&&o(g)?h!==g&&N(d,h,g,n,l):o(g)?(o(t.text)&&u.setTextContent(d,""),T(d,null,g,0,g.length-1,n)):o(h)?I(d,h,0,h.length-1):o(t.text)&&u.setTextContent(d,""):t.text!==e.text&&u.setTextContent(d,e.text),o(p)&&o(f=p.hook)&&o(f=f.postpatch)&&f(t,e)}}}function b(t,e,n){if(i(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var P=E("attrs,class,staticClass,staticStyle,key");function w(t,e,n,r){var s,a=e.tag,c=e.data,u=e.children;if(r=r||c&&c.pre,e.elm=t,i(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(c)&&(o(s=c.hook)&&o(s=s.init)&&s(e,!0),o(s=e.componentInstance)))return g(e,n),!0;if(o(a)){if(o(u))if(t.hasChildNodes())if(o(s=c)&&o(s=s.domProps)&&o(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var l=!0,d=t.firstChild,f=0;f<u.length;f++){if(!d||!w(d,u[f],n,r)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else v(e,u,n);if(o(c)){var p=!1;for(var h in c)if(!P(h)){p=!0,S(e,n);break}!p&&c["class"]&&Ee(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!r(e)){var c=!1,d=[];if(r(t))c=!0,p(e,d);else{var f=o(t.nodeType);if(!f&&Mo(t,e))M(t,e,d,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),n=!0),i(n)&&w(t,e,d))return b(e,d,!0),t;t=l(t)}var h=t.elm,g=u.parentNode(h);if(p(e,d,h._leaveCb?null:g,u.nextSibling(h)),o(e.parent)){var E=e.parent,m=C(e);while(E){for(var _=0;_<s.destroy.length;++_)s.destroy[_](E);if(E.elm=e.elm,m){for(var v=0;v<s.create.length;++v)s.create[v](No,E);var S=E.data.hook.insert;if(S.merged)for(var y=1;y<S.fns.length;y++)S.fns[y]()}else Ro(E);E=E.parent}}o(g)?I(g,[t],0,0):o(t.tag)&&A(t)}}return b(e,d,c),e.elm}o(t)&&A(t)}}var Lo={create:Do,update:Do,destroy:function(t){Do(t,No)}};function Do(t,e){(t.data.directives||e.data.directives)&&xo(t,e)}function xo(t,e){var n,r,o,i=t===No,s=e===No,a=Yo(t.data.directives,t.context),c=Yo(e.data.directives,e.context),u=[],l=[];for(n in c)r=a[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,Fo(o,"update",e,t),o.def&&o.def.componentUpdated&&l.push(o)):(Fo(o,"bind",e,t),o.def&&o.def.inserted&&u.push(o));if(u.length){var d=function(){for(var n=0;n<u.length;n++)Fo(u[n],"inserted",e,t)};i?Se(e,"insert",d):d()}if(l.length&&Se(e,"postpatch",function(){for(var n=0;n<l.length;n++)Fo(l[n],"componentUpdated",e,t)}),!i)for(n in a)c[n]||Fo(a[n],"unbind",t,t,s)}var Uo=Object.create(null);function Yo(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Uo),o[ko(r)]=r,r.def=Jt(e.$options,"directives",r.name,!0);return o}function ko(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Fo(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(Ts){ee(Ts,n.context,"directive "+t.name+" "+e+" hook")}}var Go=[Io,Lo];function jo(t,e){var n=e.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var i,s,a,c=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(i in o(l.__ob__)&&(l=e.data.attrs=P({},l)),l)s=l[i],a=u[i],a!==s&&Ko(c,i,s);for(i in(tt||nt)&&l.value!==u.value&&Ko(c,"value",l.value),u)r(l[i])&&(qr(i)?c.removeAttributeNS(Vr,$r(i)):jr(i)||c.removeAttribute(i))}}function Ko(t,e,n){t.tagName.indexOf("-")>-1?Bo(t,e,n):Hr(e)?Xr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):jr(e)?t.setAttribute(e,Br(e,n)):qr(e)?Xr(n)?t.removeAttributeNS(Vr,$r(e)):t.setAttributeNS(Vr,e,n):Bo(t,e,n)}function Bo(t,e,n){if(Xr(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Ho={create:jo,update:jo};function Vo(t,e){var n=e.elm,i=e.data,s=t.data;if(!(r(i.staticClass)&&r(i.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=Jr(e),c=n._transitionClasses;o(c)&&(a=Qr(a,Zr(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var qo,$o={create:Vo,update:Vo},Xo="__r",Jo="__c";function Wo(t){if(o(t[Xo])){var e=tt?"change":"input";t[e]=[].concat(t[Xo],t[e]||[]),delete t[Xo]}o(t[Jo])&&(t.change=[].concat(t[Jo],t.change||[]),delete t[Jo])}function zo(t,e,n){var r=qo;return function o(){var i=e.apply(null,arguments);null!==i&&ti(t,o,n,r)}}var Qo=se&&!(ot&&Number(ot[1])<=53);function Zo(t,e,n,r){if(Qo){var o=$n,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}qo.addEventListener(t,e,st?{capture:n,passive:r}:n)}function ti(t,e,n,r){(r||qo).removeEventListener(t,e._wrapper||e,n)}function ei(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},o=t.data.on||{};qo=e.elm,Wo(n),Ce(n,o,Zo,ti,zo,e.context),qo=void 0}}var ni,ri={create:ei,update:ei};function oi(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,i,s=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in o(c.__ob__)&&(c=e.data.domProps=P({},c)),a)n in c||(s[n]="");for(n in c){if(i=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=i;var u=r(i)?"":String(i);ii(s,u)&&(s.value=u)}else if("innerHTML"===n&&oo(s.tagName)&&r(s.innerHTML)){ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+i+"</svg>";var l=ni.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(l.firstChild)s.appendChild(l.firstChild)}else if(i!==a[n])try{s[n]=i}catch(Ts){}}}}function ii(t,e){return!t.composing&&("OPTION"===t.tagName||si(t,e)||ai(t,e))}function si(t,e){var n=!0;try{n=document.activeElement!==t}catch(Ts){}return n&&t.value!==e}function ai(t,e){var n=t.value,r=t._vModifiers;if(o(r)){if(r.number)return g(n)!==g(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var ci={create:oi,update:oi},ui=S(function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function li(t){var e=di(t.style);return t.staticStyle?P(t.staticStyle,e):e}function di(t){return Array.isArray(t)?w(t):"string"===typeof t?ui(t):t}function fi(t,e){var n,r={};if(e){var o=t;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(n=li(o.data))&&P(r,n)}(n=li(t.data))&&P(r,n);var i=t;while(i=i.parent)i.data&&(n=li(i.data))&&P(r,n);return r}var pi,hi=/^--/,gi=/\s*!important$/,Ei=function(t,e,n){if(hi.test(e))t.style.setProperty(e,n);else if(gi.test(n))t.style.setProperty(R(e),n.replace(gi,""),"important");else{var r=_i(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},mi=["Webkit","Moz","ms"],_i=S(function(t){if(pi=pi||document.createElement("div").style,t=T(t),"filter"!==t&&t in pi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<mi.length;n++){var r=mi[n]+e;if(r in pi)return r}});function vi(t,e){var n=e.data,i=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var s,a,c=e.elm,u=i.staticStyle,l=i.normalizedStyle||i.style||{},d=u||l,f=di(e.data.style)||{};e.data.normalizedStyle=o(f.__ob__)?P({},f):f;var p=fi(e,!0);for(a in d)r(p[a])&&Ei(c,a,"");for(a in p)s=p[a],s!==d[a]&&Ei(c,a,null==s?"":s)}}var Ci={create:vi,update:vi},Si=/\s+/;function yi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Si).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ti(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Si).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Ai(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&P(e,Ii(t.name||"v")),P(e,t),e}return"string"===typeof t?Ii(t):void 0}}var Ii=S(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Ri=W&&!et,Ni="transition",Oi="animation",Mi="transition",bi="transitionend",Pi="animation",wi="animationend";Ri&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Mi="WebkitTransition",bi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Pi="WebkitAnimation",wi="webkitAnimationEnd"));var Li=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Di(t){Li(function(){Li(t)})}function xi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),yi(t,e))}function Ui(t,e){t._transitionClasses&&_(t._transitionClasses,e),Ti(t,e)}function Yi(t,e,n){var r=Fi(t,e),o=r.type,i=r.timeout,s=r.propCount;if(!o)return n();var a=o===Ni?bi:wi,c=0,u=function(){t.removeEventListener(a,l),n()},l=function(e){e.target===t&&++c>=s&&u()};setTimeout(function(){c<s&&u()},i+1),t.addEventListener(a,l)}var ki=/\b(transform|all)(,|$)/;function Fi(t,e){var n,r=window.getComputedStyle(t),o=(r[Mi+"Delay"]||"").split(", "),i=(r[Mi+"Duration"]||"").split(", "),s=Gi(o,i),a=(r[Pi+"Delay"]||"").split(", "),c=(r[Pi+"Duration"]||"").split(", "),u=Gi(a,c),l=0,d=0;e===Ni?s>0&&(n=Ni,l=s,d=i.length):e===Oi?u>0&&(n=Oi,l=u,d=c.length):(l=Math.max(s,u),n=l>0?s>u?Ni:Oi:null,d=n?n===Ni?i.length:c.length:0);var f=n===Ni&&ki.test(r[Mi+"Property"]);return{type:n,timeout:l,propCount:d,hasTransform:f}}function Gi(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return ji(e)+ji(t[n])}))}function ji(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ki(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Ai(t.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){var s=i.css,a=i.type,u=i.enterClass,l=i.enterToClass,d=i.enterActiveClass,f=i.appearClass,p=i.appearToClass,h=i.appearActiveClass,E=i.beforeEnter,m=i.enter,_=i.afterEnter,v=i.enterCancelled,C=i.beforeAppear,S=i.appear,y=i.afterAppear,T=i.appearCancelled,A=i.duration,I=bn,R=bn.$vnode;while(R&&R.parent)I=R.context,R=R.parent;var N=!I._isMounted||!t.isRootInsert;if(!N||S||""===S){var O=N&&f?f:u,M=N&&h?h:d,b=N&&p?p:l,P=N&&C||E,w=N&&"function"===typeof S?S:m,L=N&&y||_,D=N&&T||v,x=g(c(A)?A.enter:A);0;var U=!1!==s&&!et,Y=Vi(w),F=n._enterCb=k(function(){U&&(Ui(n,b),Ui(n,M)),F.cancelled?(U&&Ui(n,O),D&&D(n)):L&&L(n),n._enterCb=null});t.data.show||Se(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),w&&w(n,F)}),P&&P(n),U&&(xi(n,O),xi(n,M),Di(function(){Ui(n,O),F.cancelled||(xi(n,b),Y||(Hi(x)?setTimeout(F,x):Yi(n,a,F)))})),t.data.show&&(e&&e(),w&&w(n,F)),U||Y||F()}}}function Bi(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Ai(t.data.transition);if(r(i)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var s=i.css,a=i.type,u=i.leaveClass,l=i.leaveToClass,d=i.leaveActiveClass,f=i.beforeLeave,p=i.leave,h=i.afterLeave,E=i.leaveCancelled,m=i.delayLeave,_=i.duration,v=!1!==s&&!et,C=Vi(p),S=g(c(_)?_.leave:_);0;var y=n._leaveCb=k(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),v&&(Ui(n,l),Ui(n,d)),y.cancelled?(v&&Ui(n,u),E&&E(n)):(e(),h&&h(n)),n._leaveCb=null});m?m(T):T()}function T(){y.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),v&&(xi(n,u),xi(n,d),Di(function(){Ui(n,u),y.cancelled||(xi(n,l),C||(Hi(S)?setTimeout(y,S):Yi(n,a,y)))})),p&&p(n,y),v||C||y())}}function Hi(t){return"number"===typeof t&&!isNaN(t)}function Vi(t){if(r(t))return!1;var e=t.fns;return o(e)?Vi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function qi(t,e){!0!==e.data.show&&Ki(e)}var $i=W?{create:qi,activate:qi,remove:function(t,e){!0!==t.data.show?Bi(t,e):e()}}:{},Xi=[Ho,$o,ri,ci,Ci,$i],Ji=Xi.concat(Go),Wi=wo({nodeOps:Ao,modules:Ji});et&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&os(t,"input")});var zi={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Se(n,"postpatch",function(){zi.componentUpdated(t,e,n)}):Qi(t,e,n.context),t._vOptions=[].map.call(t.options,es)):("textarea"===n.tag||uo(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ns),t.addEventListener("compositionend",rs),t.addEventListener("change",rs),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Qi(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,es);if(o.some(function(t,e){return!U(t,r[e])})){var i=t.multiple?e.value.some(function(t){return ts(t,o)}):e.value!==e.oldValue&&ts(e.value,o);i&&os(t,"change")}}}};function Qi(t,e,n){Zi(t,e,n),(tt||nt)&&setTimeout(function(){Zi(t,e,n)},0)}function Zi(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],o)i=Y(r,es(s))>-1,s.selected!==i&&(s.selected=i);else if(U(es(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));o||(t.selectedIndex=-1)}}function ts(t,e){return e.every(function(e){return!U(e,t)})}function es(t){return"_value"in t?t._value:t.value}function ns(t){t.target.composing=!0}function rs(t){t.target.composing&&(t.target.composing=!1,os(t.target,"input"))}function os(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function is(t){return!t.componentInstance||t.data&&t.data.transition?t:is(t.componentInstance._vnode)}var ss={bind:function(t,e,n){var r=e.value;n=is(n);var o=n.data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,Ki(n,function(){t.style.display=i})):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value,o=e.oldValue;if(!r!==!o){n=is(n);var i=n.data&&n.data.transition;i?(n.data.show=!0,r?Ki(n,function(){t.style.display=t.__vOriginalDisplay}):Bi(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}},as={model:zi,show:ss},cs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function us(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?us(Tn(e.children)):t}function ls(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var i in o)e[T(i)]=o[i];return e}function ds(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function fs(t){while(t=t.parent)if(t.data.transition)return!0}function ps(t,e){return e.key===t.key&&e.tag===t.tag}var hs=function(t){return t.tag||yn(t)},gs=function(t){return"show"===t.name},Es={name:"transition",props:cs,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(hs),n.length)){0;var r=this.mode;0;var o=n[0];if(fs(this.$vnode))return o;var i=us(o);if(!i)return o;if(this._leaving)return ds(t,o);var s="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?s+"comment":s+i.tag:a(i.key)?0===String(i.key).indexOf(s)?i.key:s+i.key:i.key;var c=(i.data||(i.data={})).transition=ls(this),u=this._vnode,l=us(u);if(i.data.directives&&i.data.directives.some(gs)&&(i.data.show=!0),l&&l.data&&!ps(i,l)&&!yn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var d=l.data.transition=P({},c);if("out-in"===r)return this._leaving=!0,Se(d,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),ds(t,o);if("in-out"===r){if(yn(i))return u;var f,p=function(){f()};Se(c,"afterEnter",p),Se(c,"enterCancelled",p),Se(d,"delayLeave",function(t){f=t})}}return o}}},ms=P({tag:String,moveClass:String},cs);delete ms.mode;var _s={props:ms,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=Pn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],s=ls(this),a=0;a<o.length;a++){var c=o[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(r){for(var u=[],l=[],d=0;d<r.length;d++){var f=r[d];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?u.push(f):l.push(f)}this.kept=t(e,null,u),this.removed=l}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(vs),t.forEach(Cs),t.forEach(Ss),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;xi(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(bi,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(bi,t),n._moveCb=null,Ui(n,e))})}}))},methods:{hasMove:function(t,e){if(!Ri)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Ti(n,t)}),yi(n,e),n.style.display="none",this.$el.appendChild(n);var r=Fi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function vs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Cs(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ss(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}var ys={Transition:Es,TransitionGroup:_s};Tr.config.mustUseProp=Gr,Tr.config.isReservedTag=io,Tr.config.isReservedAttr=kr,Tr.config.getTagNamespace=so,Tr.config.isUnknownElement=co,P(Tr.options.directives,as),P(Tr.options.components,ys),Tr.prototype.__patch__=W?Wi:L,Tr.prototype.$mount=function(t,e){return t=t&&W?lo(t):void 0,Dn(this,t,e)},W&&setTimeout(function(){K.devtools&&ut&&ut.emit("init",Tr)},0),e["a"]=Tr}).call(this,n("c8ba"))},"2b4c":function(t,e,n){var r=n("5537")("wks"),o=n("ca5a"),i=n("7726").Symbol,s="function"==typeof i,a=t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))};a.store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"30f1":function(t,e,n){"use strict";var r=n("b8e3"),o=n("63b6"),i=n("9138"),s=n("35e8"),a=n("481b"),c=n("8f60"),u=n("45f2"),l=n("53e2"),d=n("5168")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",g="values",E=function(){return this};t.exports=function(t,e,n,m,_,v,C){c(n,e,m);var S,y,T,A=function(t){if(!f&&t in O)return O[t];switch(t){case h:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},I=e+" Iterator",R=_==g,N=!1,O=t.prototype,M=O[d]||O[p]||_&&O[_],b=M||A(_),P=_?R?A("entries"):b:void 0,w="Array"==e&&O.entries||M;if(w&&(T=l(w.call(new t)),T!==Object.prototype&&T.next&&(u(T,I,!0),r||"function"==typeof T[d]||s(T,d,E))),R&&M&&M.name!==g&&(N=!0,b=function(){return M.call(this)}),r&&!C||!f&&!N&&O[d]||s(O,d,b),a[e]=b,a[I]=E,_)if(S={values:R?b:A(g),keys:v?b:A(h),entries:P},C)for(y in S)y in O||i(O,y,S[y]);else o(o.P+o.F*(f||N),e,S);return S}},"31f4":function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32e9":function(t,e,n){var r=n("86cc"),o=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var r=n("e53d").document;t.exports=r&&r.documentElement},"335c":function(t,e,n){var r=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"33a4":function(t,e,n){var r=n("84f2"),o=n("2b4c")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},"35e8":function(t,e,n){var r=n("d9f6"),o=n("aebd");t.exports=n("8e60")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var r=n("335c"),o=n("25eb");t.exports=function(t){return r(o(t))}},3702:function(t,e,n){var r=n("481b"),o=n("5168")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},"38fd":function(t,e,n){var r=n("69a8"),o=n("4bf8"),i=n("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"3a38":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"40c3":function(t,e,n){var r=n("6b4c"),o=n("5168")("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),o=n("4630"),i=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"45f2":function(t,e,n){var r=n("d9f6").f,o=n("07e3"),i=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"481b":function(t,e){t.exports={}},"4a59":function(t,e,n){var r=n("9b43"),o=n("1fa8"),i=n("33a4"),s=n("cb7c"),a=n("9def"),c=n("27ee"),u={},l={};e=t.exports=function(t,e,n,d,f){var p,h,g,E,m=f?function(){return t}:c(t),_=r(n,d,e?2:1),v=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(p=a(t.length);p>v;v++)if(E=e?_(s(h=t[v])[0],h[1]):_(t[v]),E===u||E===l)return E}else for(g=m.call(t);!(h=g.next()).done;)if(E=o(g,_,h.value,e),E===u||E===l)return E};e.BREAK=u,e.RETURN=l},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4ee1":function(t,e,n){var r=n("5168")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5168:function(t,e,n){var r=n("dbdb")("wks"),o=n("62a0"),i=n("e53d").Symbol,s="function"==typeof i,a=t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))};a.store=r},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53e2":function(t,e,n){var r=n("07e3"),o=n("241e"),i=n("5559")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"549b":function(t,e,n){"use strict";var r=n("d864"),o=n("63b6"),i=n("241e"),s=n("b0dc"),a=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");o(o.S+o.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,d,f=i(t),p="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,E=void 0!==g,m=0,_=l(f);if(E&&(g=r(g,h>2?arguments[2]:void 0,2)),void 0==_||p==Array&&a(_))for(e=c(f.length),n=new p(e);e>m;m++)u(n,m,E?g(f[m],m):f[m]);else for(d=_.call(f),n=new p;!(o=d.next()).done;m++)u(n,m,E?s(d,g,[o.value,m],!0):o.value);return n.length=m,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"551c":function(t,e,n){"use strict";var r,o,i,s,a=n("2d00"),c=n("7726"),u=n("9b43"),l=n("23c6"),d=n("5ca1"),f=n("d3f4"),p=n("d8e8"),h=n("f605"),g=n("4a59"),E=n("ebd6"),m=n("1991").set,_=n("8079")(),v=n("a5b8"),C=n("9c80"),S=n("a25f"),y=n("bcaa"),T="Promise",A=c.TypeError,I=c.process,R=I&&I.versions,N=R&&R.v8||"",O=c[T],M="process"==l(I),b=function(){},P=o=v.f,w=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(b,b)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(b)instanceof e&&0!==N.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(r){}}(),L=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){var r=t._v,o=1==t._s,i=0,s=function(e){var n,i,s,a=o?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(o||(2==t._h&&Y(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===e.promise?u(A("Promise-chain cycle")):(i=L(n))?i.call(n,c,u):c(n)):u(r)}catch(d){l&&!s&&l.exit(),u(d)}};while(n.length>i)s(n[i++]);t._c=[],t._n=!1,e&&!t._h&&x(t)})}},x=function(t){m.call(c,function(){var e,n,r,o=t._v,i=U(t);if(i&&(e=C(function(){M?I.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=M||U(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},U=function(t){return 1!==t._h&&0===(t._a||t._c).length},Y=function(t){m.call(c,function(){var e;M?I.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},k=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},F=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw A("Promise can't be resolved itself");(e=L(t))?_(function(){var r={_w:n,_d:!1};try{e.call(t,u(F,r,1),u(k,r,1))}catch(o){k.call(r,o)}}):(n._v=t,n._s=1,D(n,!1))}catch(r){k.call({_w:n,_d:!1},r)}}};w||(O=function(t){h(this,O,T,"_h"),p(t),r.call(this);try{t(u(F,this,1),u(k,this,1))}catch(e){k.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("dcbc")(O.prototype,{then:function(t,e){var n=P(E(this,O));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=u(F,t,1),this.reject=u(k,t,1)},v.f=P=function(t){return t===O||t===s?new i(t):o(t)}),d(d.G+d.W+d.F*!w,{Promise:O}),n("7f20")(O,T),n("7a56")(T),s=n("8378")[T],d(d.S+d.F*!w,T,{reject:function(t){var e=P(this),n=e.reject;return n(t),e.promise}}),d(d.S+d.F*(a||!w),T,{resolve:function(t){return y(a&&this===s?O:this,t)}}),d(d.S+d.F*!(w&&n("5cc5")(function(t){O.all(t)["catch"](b)})),T,{all:function(t){var e=this,n=P(e),r=n.resolve,o=n.reject,i=C(function(){var n=[],i=0,s=1;g(t,!1,function(t){var a=i++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,o=C(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},5537:function(t,e,n){var r=n("8378"),o=n("7726"),i="__core-js_shared__",s=o[i]||(o[i]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var r=n("dbdb")("keys"),o=n("62a0");t.exports=function(t){return r[t]||(r[t]=o(t))}},"584a":function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"5b4e":function(t,e,n){var r=n("36c3"),o=n("b447"),i=n("0fc9");t.exports=function(t){return function(e,n,s){var a,c=r(e),u=o(c.length),l=i(s,u);if(t&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},"5ca1":function(t,e,n){var r=n("7726"),o=n("8378"),i=n("32e9"),s=n("2aba"),a=n("9b43"),c="prototype",u=function(t,e,n){var l,d,f,p,h=t&u.F,g=t&u.G,E=t&u.S,m=t&u.P,_=t&u.B,v=g?r:E?r[e]||(r[e]={}):(r[e]||{})[c],C=g?o:o[e]||(o[e]={}),S=C[c]||(C[c]={});for(l in g&&(n=e),n)d=!h&&v&&void 0!==v[l],f=(d?v:n)[l],p=_&&d?a(f,r):m&&"function"==typeof f?a(Function.call,f):f,v&&s(v,l,f,t&u.U),C[l]!=f&&i(C,l,p),m&&S[l]!=f&&(S[l]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},"5cc5":function(t,e,n){var r=n("2b4c")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},"5dbc":function(t,e,n){var r=n("d3f4"),o=n("8b97").set;t.exports=function(t,e,n){var i,s=e.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},"613b":function(t,e,n){var r=n("5537")("keys"),o=n("ca5a");t.exports=function(t){return r[t]||(r[t]=o(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"63b6":function(t,e,n){var r=n("e53d"),o=n("584a"),i=n("d864"),s=n("35e8"),a=n("07e3"),c="prototype",u=function(t,e,n){var l,d,f,p=t&u.F,h=t&u.G,g=t&u.S,E=t&u.P,m=t&u.B,_=t&u.W,v=h?o:o[e]||(o[e]={}),C=v[c],S=h?r:g?r[e]:(r[e]||{})[c];for(l in h&&(n=e),n)d=!p&&S&&void 0!==S[l],d&&a(v,l)||(f=d?S[l]:n[l],v[l]=h&&"function"!=typeof S[l]?n[l]:m&&d?i(f,r):_&&S[l]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[c]=t[c],e}(f):E&&"function"==typeof f?i(Function.call,f):f,E&&((v.virtual||(v.virtual={}))[l]=f,t&u.R&&C&&!C[l]&&s(C,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},6821:function(t,e,n){var r=n("626a"),o=n("be13");t.exports=function(t){return r(o(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6c1c":function(t,e,n){n("c367");for(var r=n("e53d"),o=n("35e8"),i=n("481b"),s=n("5168")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],l=r[u],d=l&&l.prototype;d&&!d[s]&&o(d,s,u),i[u]=i.Array}},"71c1":function(t,e,n){var r=n("3a38"),o=n("25eb");t.exports=function(t){return function(e,n){var i,s,a=String(o(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(i=a.charCodeAt(c),i<55296||i>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):i:t?a.slice(c,c+2):s-56320+(i-55296<<10)+65536)}}},7333:function(t,e,n){"use strict";var r=n("9e1e"),o=n("0d58"),i=n("2621"),s=n("52a7"),a=n("4bf8"),c=n("626a"),u=Object.assign;t.exports=!u||n("79e5")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){var n=a(t),u=arguments.length,l=1,d=i.f,f=s.f;while(u>l){var p,h=c(arguments[l++]),g=d?o(h).concat(d(h)):o(h),E=g.length,m=0;while(E>m)p=g[m++],r&&!f.call(h,p)||(n[p]=h[p])}return n}:u},"75fc":function(t,e,n){"use strict";var r=n("a745"),o=n.n(r);function i(t){if(o()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var s=n("774e"),a=n.n(s),c=n("c8bb"),u=n.n(c);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return a()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return i(t)||l(t)||d()}n.d(e,"a",function(){return f})},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(t,e,n){t.exports=n("d2d5")},"77f1":function(t,e,n){var r=n("4588"),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var r=n("7726"),o=n("86cc"),i=n("9e1e"),s=n("2b4c")("species");t.exports=function(t){var e=r[t];i&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},"7cd6":function(t,e,n){var r=n("40c3"),o=n("5168")("iterator"),i=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},"7e90":function(t,e,n){var r=n("d9f6"),o=n("e4ae"),i=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){o(t);var n,s=i(e),a=s.length,c=0;while(a>c)r.f(t,n=s[c++],e[n]);return t}},"7f20":function(t,e,n){var r=n("86cc").f,o=n("69a8"),i=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},"7f7f":function(t,e,n){var r=n("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,s="name";s in o||n("9e1e")&&r(o,s,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},8079:function(t,e,n){var r=n("7726"),o=n("1991").set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n("2d95")(s);t.exports=function(){var t,e,n,u=function(){var r,o;c&&(r=s.domain)&&r.exit();while(t){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var d=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},8378:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},8436:function(t,e){t.exports=function(){}},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),o=n("c69a"),i=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"8b97":function(t,e,n){var r=n("d3f4"),o=n("cb7c"),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},"8c4f":function(t,e,n){"use strict";
/*!
  * vue-router v3.1.2
  * (c) 2019 Evan You
  * @license MIT
  */function r(t,e){0}function o(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function i(t,e){return e instanceof t||e&&(e.name===t.name||e._name===t._name)}function s(t,e){for(var n in e)t[n]=e[n];return t}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,o=e.parent,i=e.data;i.routerView=!0;var a=o.$createElement,u=n.name,l=o.$route,d=o._routerViewCache||(o._routerViewCache={}),f=0,p=!1;while(o&&o._routerRoot!==o){var h=o.$vnode&&o.$vnode.data;h&&(h.routerView&&f++,h.keepAlive&&o._inactive&&(p=!0)),o=o.$parent}if(i.routerViewDepth=f,p)return a(d[u],i,r);var g=l.matched[f];if(!g)return d[u]=null,a();var E=d[u]=g.components[u];i.registerRouteInstance=function(t,e){var n=g.instances[u];(e&&n!==t||!e&&n===t)&&(g.instances[u]=e)},(i.hook||(i.hook={})).prepatch=function(t,e){g.instances[u]=e.componentInstance},i.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[u]&&(g.instances[u]=t.componentInstance)};var m=i.props=c(l,g.props&&g.props[u]);if(m){m=i.props=s({},m);var _=i.attrs=i.attrs||{};for(var v in m)E.props&&v in E.props||(_[v]=m[v],delete m[v])}return a(E,i,r)}};function c(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}var u=/[!'()*]/g,l=function(t){return"%"+t.charCodeAt(0).toString(16)},d=/%2C/g,f=function(t){return encodeURIComponent(t).replace(u,l).replace(d,",")},p=decodeURIComponent;function h(t,e,n){void 0===e&&(e={});var r,o=n||g;try{r=o(t||"")}catch(s){r={}}for(var i in e)r[i]=e[i];return r}function g(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),r=p(n.shift()),o=n.length>0?p(n.join("=")):null;void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]}),e):e}function E(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return f(e);if(Array.isArray(n)){var r=[];return n.forEach(function(t){void 0!==t&&(null===t?r.push(f(e)):r.push(f(e)+"="+f(t)))}),r.join("&")}return f(e)+"="+f(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var m=/\/?$/;function _(t,e,n,r){var o=r&&r.options.stringifyQuery,i=e.query||{};try{i=v(i)}catch(a){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:y(e,o),matched:t?S(t):[]};return n&&(s.redirectedFrom=y(n,o)),Object.freeze(s)}function v(t){if(Array.isArray(t))return t.map(v);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=v(t[n]);return e}return t}var C=_(null,{path:"/"});function S(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function y(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var o=t.hash;void 0===o&&(o="");var i=e||E;return(n||"/")+i(r)+o}function T(t,e){return e===C?t===e:!!e&&(t.path&&e.path?t.path.replace(m,"")===e.path.replace(m,"")&&t.hash===e.hash&&A(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&A(t.query,e.query)&&A(t.params,e.params)))}function A(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(n){var r=t[n],o=e[n];return"object"===typeof r&&"object"===typeof o?A(r,o):String(r)===String(o)})}function I(t,e){return 0===t.path.replace(m,"/").indexOf(e.path.replace(m,"/"))&&(!e.hash||t.hash===e.hash)&&R(t.query,e.query)}function R(t,e){for(var n in e)if(!(n in t))return!1;return!0}function N(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var o=e.split("/");n&&o[o.length-1]||o.pop();for(var i=t.replace(/^\//,"").split("/"),s=0;s<i.length;s++){var a=i[s];".."===a?o.pop():"."!==a&&o.push(a)}return""!==o[0]&&o.unshift(""),o.join("/")}function O(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var o=t.indexOf("?");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{path:t,query:n,hash:e}}function M(t){return t.replace(/\/\//g,"/")}var b=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},P=W,w=Y,L=k,D=j,x=J,U=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Y(t,e){var n,r=[],o=0,i=0,s="",a=e&&e.delimiter||"/";while(null!=(n=U.exec(t))){var c=n[0],u=n[1],l=n.index;if(s+=t.slice(i,l),i=l+c.length,u)s+=u[1];else{var d=t[i],f=n[2],p=n[3],h=n[4],g=n[5],E=n[6],m=n[7];s&&(r.push(s),s="");var _=null!=f&&null!=d&&d!==f,v="+"===E||"*"===E,C="?"===E||"*"===E,S=n[2]||a,y=h||g;r.push({name:p||o++,prefix:f||"",delimiter:S,optional:C,repeat:v,partial:_,asterisk:!!m,pattern:y?B(y):m?".*":"[^"+K(S)+"]+?"})}}return i<t.length&&(s+=t.substr(i)),s&&r.push(s),r}function k(t,e){return j(Y(t,e))}function F(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function G(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function j(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var o="",i=n||{},s=r||{},a=s.pretty?F:encodeURIComponent,c=0;c<t.length;c++){var u=t[c];if("string"!==typeof u){var l,d=i[u.name];if(null==d){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(b(d)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(l=a(d[f]),!e[c].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===f?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?G(d):a(d),!e[c].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+l+'"');o+=u.prefix+l}}else o+=u}return o}}function K(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function B(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function H(t,e){return t.keys=e,t}function V(t){return t.sensitive?"":"i"}function q(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return H(t,e)}function $(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(W(t[o],e,n).source);var i=new RegExp("(?:"+r.join("|")+")",V(n));return H(i,e)}function X(t,e,n){return J(Y(t,n),e,n)}function J(t,e,n){b(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,o=!1!==n.end,i="",s=0;s<t.length;s++){var a=t[s];if("string"===typeof a)i+=K(a);else{var c=K(a.prefix),u="(?:"+a.pattern+")";e.push(a),a.repeat&&(u+="(?:"+c+u+")*"),u=a.optional?a.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")",i+=u}}var l=K(n.delimiter||"/"),d=i.slice(-l.length)===l;return r||(i=(d?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&d?"":"(?="+l+"|$)",H(new RegExp("^"+i,V(n)),e)}function W(t,e,n){return b(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?q(t,e):b(t)?$(t,e,n):X(t,e,n)}P.parse=w,P.compile=L,P.tokensToFunction=D,P.tokensToRegExp=x;var z=Object.create(null);function Q(t,e,n){e=e||{};try{var r=z[t]||(z[t]=P.compile(t));return e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(o){return""}finally{delete e[0]}}function Z(t,e,n,r){var o="string"===typeof t?{path:t}:t;if(o._normalized)return o;if(o.name)return s({},t);if(!o.path&&o.params&&e){o=s({},o),o._normalized=!0;var i=s(s({},e.params),o.params);if(e.name)o.name=e.name,o.params=i;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;o.path=Q(a,i,"path "+e.path)}else 0;return o}var c=O(o.path||""),u=e&&e.path||"/",l=c.path?N(c.path,u,n||o.append):u,d=h(c.query,o.query,r&&r.options.parseQuery),f=o.hash||c.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:l,query:d,hash:f}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},ot={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,o=n.resolve(this.to,r,this.append),i=o.location,a=o.route,c=o.href,u={},l=n.options.linkActiveClass,d=n.options.linkExactActiveClass,f=null==l?"router-link-active":l,p=null==d?"router-link-exact-active":d,h=null==this.activeClass?f:this.activeClass,g=null==this.exactActiveClass?p:this.exactActiveClass,E=a.redirectedFrom?_(null,Z(a.redirectedFrom),null,n):a;u[g]=T(r,E),u[h]=this.exact?u[g]:I(r,E);var m=function(t){it(t)&&(e.replace?n.replace(i,rt):n.push(i,rt))},v={click:it};Array.isArray(this.event)?this.event.forEach(function(t){v[t]=m}):v[this.event]=m;var C={class:u},S=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:m,isActive:u[h],isExactActive:u[g]});if(S){if(1===S.length)return S[0];if(S.length>1||!S.length)return 0===S.length?t():t("span",{},S)}if("a"===this.tag)C.on=v,C.attrs={href:c};else{var y=st(this.$slots.default);if(y){y.isStatic=!1;var A=y.data=s({},y.data);A.on=v;var R=y.data.attrs=s({},y.data.attrs);R.href=c}else C.on=v}return t(this.tag,C,this.$slots.default)}};function it(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function st(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=st(e.children)))return e}}function at(t){if(!at.installed||tt!==t){at.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",a),t.component("RouterLink",ot);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ct="undefined"!==typeof window;function ut(t,e,n,r){var o=e||[],i=n||Object.create(null),s=r||Object.create(null);t.forEach(function(t){lt(o,i,s,t)});for(var a=0,c=o.length;a<c;a++)"*"===o[a]&&(o.push(o.splice(a,1)[0]),c--,a--);return{pathList:o,pathMap:i,nameMap:s}}function lt(t,e,n,r,o,i){var s=r.path,a=r.name;var c=r.pathToRegexpOptions||{},u=ft(s,o,c.strict);"boolean"===typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var l={path:u,regex:dt(u,c),components:r.components||{default:r.component},instances:{},name:a,parent:o,matchAs:i,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach(function(r){var o=i?M(i+"/"+r.path):void 0;lt(t,e,n,r,l,o)}),e[l.path]||(t.push(l.path),e[l.path]=l),void 0!==r.alias)for(var d=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<d.length;++f){var p=d[f];0;var h={path:p,children:r.children};lt(t,e,n,h,o,l.path||"/")}a&&(n[a]||(n[a]=l))}function dt(t,e){var n=P(t,[],e);return n}function ft(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:M(e.path+"/"+t)}function pt(t,e){var n=ut(t),r=n.pathList,o=n.pathMap,i=n.nameMap;function s(t){ut(t,r,o,i)}function a(t,n,s){var a=Z(t,n,!1,e),c=a.name;if(c){var u=i[c];if(!u)return l(null,a);var d=u.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!==typeof a.params&&(a.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in a.params)&&d.indexOf(f)>-1&&(a.params[f]=n.params[f]);return a.path=Q(u.path,a.params,'named route "'+c+'"'),l(u,a,s)}if(a.path){a.params={};for(var p=0;p<r.length;p++){var h=r[p],g=o[h];if(ht(g.regex,a.path,a.params))return l(g,a,s)}}return l(null,a)}function c(t,n){var r=t.redirect,o="function"===typeof r?r(_(t,n,null,e)):r;if("string"===typeof o&&(o={path:o}),!o||"object"!==typeof o)return l(null,n);var s=o,c=s.name,u=s.path,d=n.query,f=n.hash,p=n.params;if(d=s.hasOwnProperty("query")?s.query:d,f=s.hasOwnProperty("hash")?s.hash:f,p=s.hasOwnProperty("params")?s.params:p,c){i[c];return a({_normalized:!0,name:c,query:d,hash:f,params:p},void 0,n)}if(u){var h=gt(u,t),g=Q(h,p,'redirect route with path "'+h+'"');return a({_normalized:!0,path:g,query:d,hash:f},void 0,n)}return l(null,n)}function u(t,e,n){var r=Q(n,e.params,'aliased route with path "'+n+'"'),o=a({_normalized:!0,path:r});if(o){var i=o.matched,s=i[i.length-1];return e.params=o.params,l(s,e)}return l(null,e)}function l(t,n,r){return t&&t.redirect?c(t,r||n):t&&t.matchAs?u(t,n,t.matchAs):_(t,n,r,e)}return{match:a,addRoutes:s}}function ht(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var o=1,i=r.length;o<i;++o){var s=t.keys[o-1],a="string"===typeof r[o]?decodeURIComponent(r[o]):r[o];s&&(n[s.name||"pathMatch"]=a)}return!0}function gt(t,e){return N(t,e.parent?e.parent.path:"/",!0)}var Et=Object.create(null);function mt(){var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,"");window.history.replaceState({key:wt()},"",e),window.addEventListener("popstate",function(t){vt(),t.state&&t.state.key&&Lt(t.state.key)})}function _t(t,e,n,r){if(t.app){var o=t.options.scrollBehavior;o&&t.app.$nextTick(function(){var i=Ct(),s=o.call(t,e,n,r?i:null);s&&("function"===typeof s.then?s.then(function(t){Nt(t,i)}).catch(function(t){0}):Nt(s,i))})}}function vt(){var t=wt();t&&(Et[t]={x:window.pageXOffset,y:window.pageYOffset})}function Ct(){var t=wt();if(t)return Et[t]}function St(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),o=t.getBoundingClientRect();return{x:o.left-r.left-e.x,y:o.top-r.top-e.y}}function yt(t){return It(t.x)||It(t.y)}function Tt(t){return{x:It(t.x)?t.x:window.pageXOffset,y:It(t.y)?t.y:window.pageYOffset}}function At(t){return{x:It(t.x)?t.x:0,y:It(t.y)?t.y:0}}function It(t){return"number"===typeof t}var Rt=/^#\d/;function Nt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=Rt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var o=t.offset&&"object"===typeof t.offset?t.offset:{};o=At(o),e=St(r,o)}else yt(t)&&(e=Tt(t))}else n&&yt(t)&&(e=Tt(t));e&&window.scrollTo(e.x,e.y)}var Ot=ct&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),Mt=ct&&window.performance&&window.performance.now?window.performance:Date,bt=Pt();function Pt(){return Mt.now().toFixed(3)}function wt(){return bt}function Lt(t){bt=t}function Dt(t,e){vt();var n=window.history;try{e?n.replaceState({key:bt},"",t):(bt=Pt(),n.pushState({key:bt},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function xt(t){Dt(t,!0)}function Ut(t,e,n){var r=function(o){o>=t.length?n():t[o]?e(t[o],function(){r(o+1)}):r(o+1)};r(0)}function Yt(t){return function(e,n,r){var i=!1,s=0,a=null;kt(t,function(t,e,n,c){if("function"===typeof t&&void 0===t.cid){i=!0,s++;var u,l=Kt(function(e){jt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[c]=e,s--,s<=0&&r()}),d=Kt(function(t){var e="Failed to resolve async component "+c+": "+t;a||(a=o(t)?t:new Error(e),r(a))});try{u=t(l,d)}catch(p){d(p)}if(u)if("function"===typeof u.then)u.then(l,d);else{var f=u.component;f&&"function"===typeof f.then&&f.then(l,d)}}}),i||r()}}function kt(t,e){return Ft(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Ft(t){return Array.prototype.concat.apply([],t)}var Gt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function jt(t){return t.__esModule||Gt&&"Module"===t[Symbol.toStringTag]}function Kt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var Bt=function(t){function e(){t.call(this,"Navigating to current location is not allowed"),this.name=this._name="NavigationDuplicated"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);Bt._name="NavigationDuplicated";var Ht=function(t,e){this.router=t,this.base=Vt(e),this.current=C,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Vt(t){if(!t)if(ct){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function qt(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function $t(t,e,n,r){var o=kt(t,function(t,r,o,i){var s=Xt(t,e);if(s)return Array.isArray(s)?s.map(function(t){return n(t,r,o,i)}):n(s,r,o,i)});return Ft(r?o.reverse():o)}function Xt(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function Jt(t){return $t(t,"beforeRouteLeave",zt,!0)}function Wt(t){return $t(t,"beforeRouteUpdate",zt)}function zt(t,e){if(e)return function(){return t.apply(e,arguments)}}function Qt(t,e,n){return $t(t,"beforeRouteEnter",function(t,r,o,i){return Zt(t,o,i,e,n)})}function Zt(t,e,n,r,o){return function(i,s,a){return t(i,s,function(t){"function"===typeof t&&r.push(function(){te(t,e.instances,n,o)}),a(t)})}}function te(t,e,n,r){e[n]&&!e[n]._isBeingDestroyed?t(e[n]):r()&&setTimeout(function(){te(t,e,n,r)},16)}Ht.prototype.listen=function(t){this.cb=t},Ht.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Ht.prototype.onError=function(t){this.errorCbs.push(t)},Ht.prototype.transitionTo=function(t,e,n){var r=this,o=this.router.match(t,this.current);this.confirmTransition(o,function(){r.updateRoute(o),e&&e(o),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach(function(t){t(o)}))},function(t){n&&n(t),t&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach(function(e){e(t)}))})},Ht.prototype.confirmTransition=function(t,e,n){var s=this,a=this.current,c=function(t){!i(Bt,t)&&o(t)&&(s.errorCbs.length?s.errorCbs.forEach(function(e){e(t)}):(r(!1,"uncaught error during route navigation:"),console.error(t))),n&&n(t)};if(T(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),c(new Bt(t));var u=qt(this.current.matched,t.matched),l=u.updated,d=u.deactivated,f=u.activated,p=[].concat(Jt(d),this.router.beforeHooks,Wt(l),f.map(function(t){return t.beforeEnter}),Yt(f));this.pending=t;var h=function(e,n){if(s.pending!==t)return c();try{e(t,a,function(t){!1===t||o(t)?(s.ensureURL(!0),c(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(c(),"object"===typeof t&&t.replace?s.replace(t):s.push(t)):n(t)})}catch(r){c(r)}};Ut(p,h,function(){var n=[],r=function(){return s.current===t},o=Qt(f,n,r),i=o.concat(s.router.resolveHooks);Ut(i,h,function(){if(s.pending!==t)return c();s.pending=null,e(t),s.router.app&&s.router.app.$nextTick(function(){n.forEach(function(t){t()})})})})},Ht.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var ee=function(t){function e(e,n){var r=this;t.call(this,e,n);var o=e.options.scrollBehavior,i=Ot&&o;i&&mt();var s=ne(this.base);window.addEventListener("popstate",function(t){var n=r.current,o=ne(r.base);r.current===C&&o===s||r.transitionTo(o,function(t){i&&_t(e,t,n,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,o=this,i=o.current;this.transitionTo(t,function(t){Dt(M(r.base+t.fullPath)),_t(r.router,t,i,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,o=this,i=o.current;this.transitionTo(t,function(t){xt(M(r.base+t.fullPath)),_t(r.router,t,i,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(ne(this.base)!==this.current.fullPath){var e=M(this.base+this.current.fullPath);t?Dt(e):xt(e)}},e.prototype.getCurrentLocation=function(){return ne(this.base)},e}(Ht);function ne(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var re=function(t){function e(e,n,r){t.call(this,e,n),r&&oe(this.base)||ie()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router,n=e.options.scrollBehavior,r=Ot&&n;r&&mt(),window.addEventListener(Ot?"popstate":"hashchange",function(){var e=t.current;ie()&&t.transitionTo(se(),function(n){r&&_t(t.router,n,e,!0),Ot||ue(n.fullPath)})})},e.prototype.push=function(t,e,n){var r=this,o=this,i=o.current;this.transitionTo(t,function(t){ce(t.fullPath),_t(r.router,t,i,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,o=this,i=o.current;this.transitionTo(t,function(t){ue(t.fullPath),_t(r.router,t,i,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;se()!==e&&(t?ce(e):ue(e))},e.prototype.getCurrentLocation=function(){return se()},e}(Ht);function oe(t){var e=ne(t);if(!/^\/#/.test(e))return window.location.replace(M(t+"/#"+e)),!0}function ie(){var t=se();return"/"===t.charAt(0)||(ue("/"+t),!1)}function se(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";t=t.slice(e+1);var n=t.indexOf("?");if(n<0){var r=t.indexOf("#");t=r>-1?decodeURI(t.slice(0,r))+t.slice(r):decodeURI(t)}else n>-1&&(t=decodeURI(t.slice(0,n))+t.slice(n));return t}function ae(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ce(t){Ot?Dt(ae(t)):window.location.hash=t}function ue(t){Ot?xt(ae(t)):window.location.replace(ae(t))}var le=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){e.index=n,e.updateRoute(r)},function(t){i(Bt,t)&&(e.index=n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Ht),de=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Ot&&!1!==t.fallback,this.fallback&&(e="hash"),ct||(e="abstract"),this.mode=e,e){case"history":this.history=new ee(this,t.base);break;case"hash":this.history=new re(this,t.base,this.fallback);break;case"abstract":this.history=new le(this,t.base);break;default:0}},fe={currentRoute:{configurable:!0}};function pe(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function he(t,e,n){var r="hash"===n?"#"+e:e;return t?M(t+"/"+r):r}de.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},fe.currentRoute.get=function(){return this.history&&this.history.current},de.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null)}),!this.app){this.app=t;var n=this.history;if(n instanceof ee)n.transitionTo(n.getCurrentLocation());else if(n instanceof re){var r=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},de.prototype.beforeEach=function(t){return pe(this.beforeHooks,t)},de.prototype.beforeResolve=function(t){return pe(this.resolveHooks,t)},de.prototype.afterEach=function(t){return pe(this.afterHooks,t)},de.prototype.onReady=function(t,e){this.history.onReady(t,e)},de.prototype.onError=function(t){this.history.onError(t)},de.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise(function(e,n){r.history.push(t,e,n)});this.history.push(t,e,n)},de.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise(function(e,n){r.history.replace(t,e,n)});this.history.replace(t,e,n)},de.prototype.go=function(t){this.history.go(t)},de.prototype.back=function(){this.go(-1)},de.prototype.forward=function(){this.go(1)},de.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},de.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=Z(t,e,n,this),o=this.match(r,e),i=o.redirectedFrom||o.fullPath,s=this.history.base,a=he(s,i,this.mode);return{location:r,route:o,href:a,normalizedTo:r,resolved:o}},de.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==C&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(de.prototype,fe),de.install=at,de.version="3.1.2",ct&&window.Vue&&window.Vue.use(de),e["a"]=de},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(t,e,n){"use strict";var r=n("a159"),o=n("aebd"),i=n("45f2"),s={};n("35e8")(s,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},9003:function(t,e,n){var r=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==r(t)}},9093:function(t,e,n){var r=n("ce10"),o=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},9138:function(t,e,n){t.exports=n("35e8")},"95d5":function(t,e,n){var r=n("40c3"),o=n("5168")("iterator"),i=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},"9ada":function(t,e,n){!function(e,n){t.exports=n()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=36)}([function(t,e,n){"use strict";e.__esModule=!0;var r,o,i,s=n(3);e.constants={DEFAULT_STORE:"cometchat",MSG_VER_PRE:"store-ver-pre",MSG_VER_POST:"store-ver-post"},e.DEFAULT_VALUES={MSGS_LIMIT:30,MSGS_MAX_LIMIT:100,CALL_TIMEOUT:45,DEFAULT_MSG_ID:0,DEFAULT_MAX_TYPING_INDICATOR_LIMIT:5},(r=e.GroupType||(e.GroupType={})).Public="public",r.Private="private",r.Protected="protected",r.Password="password",e.GROUP_TYPE={PUBLIC:"public",PRIVATE:"private",PROTECTED:"password",PASSWORD:"password"},(o=e.GroupMemberScope||(e.GroupMemberScope={})).Admin="admin",o.Moderator="moderator",o.Member="member",e.GROUP_MEMBER_SCOPE={ADMIN:"admin",MODERATOR:"moderator",PARTICIPANT:"participant"},e.XMPP={host:"shoemaker.cometchat.com",port:7443,bind_url:"/ws/",deafult_password:"CometChat",jid_string:"[%s]%s@%s/%s",bare_jid_string:"[%s]%s@%s",username_string:"[%s]%s",muc_jid_string:"[%s]%s@%s.%s",xmpp_resource:"javascripts_"+(new Date).getTime(),CONVERSATION:{TYPE:{CHAT:"chat",GROUP_CHAT:"groupchat"}}},e.LOCAL_STORE={COMMON_STORE:"common_store",MESSAGE_LISTENERS_LIST:"message_listeners_list",USERS_STORE:"users_store",MESSAGES_STORE:"messages_store",STORE_STRING:"%s:%s"},e.ResponseConstants={RESPONSE_KEYS:{KEY_DATA:"data",KEY_META:"meta",KEY_CURSOR:"cursor",KEY_ACTION:"action",KEY_MESSAGE:"message",KEY_ERROR:"error",KEY_ERROR_DETAILS:"details",KEY_ERROR_CODE:"code",KEY_ERROR_MESSAGE:"message",KEY_AUTH_TOKEN:"authToken",KEY_WS_CHANNEL:"wsChannel",KEY_IDENTITY:"identity",KEY_SERVICE:"identity",KEY_ENTITIES:"entities",KEY_ENTITITY:"entity",KEY_ATTACHMENTS:"attachments",CODE_REQUEST_OK:200,CODE_BAD_REQUEST:401,UNREAD_UNDELIVERED_KEYS:{ENTITY:"entity",ENTITY_TYPE:"entityType",ENTITY_Id:"entityId",COUNT:"count"},GROUP_MEMBERS_RESPONSE:{SUCCESS:"success",ERROR:"error",MESSAGE:"message"}}},e.DELIVERY_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",RECEIVED:"delivered",DELIVERED_AT:"deliveredAt",ID:"id",TIME:"time",DELIVERED_TO_ME_AT:"deliveredToMeAt"},e.READ_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",READ:"read",READ_AT:"readAt",ID:"id",TIME:"time",READ_BY_ME_AT:"readByMeAt"},e.MessageConstatnts={XMPP_KEYS:{FROM:"from",TO:"to",TYPE:"type",TYPE_USER:"chat",TYPE_GROUP:"groupchat"},TYPE:{TEXT:"text",MEDIA:"media",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",CUSTOM:"custom"},CATEGORY:{MESSAGE:"message",ACTION:"action",CALL:"call",CUSTOM:"custom"},RECEIVER_TYPE:{USER:"user",GROUP:"group"},KEYS:{ATTATCHMENT:"attatchment",ATTATCHMENTS:"attachments",ACTION:"action",TYPE:"type",DATA:"data",ID:"id",MUID:"muid",SENDER:"sender",RECEIVER:"receiver",CATEGORY:"category",RECEIVER_TYPE:"receiverType",SENT_AT:"sentAt",STATUS:"status",TEXT:"text",URL:"url",METADATA:"metadata",RECEIPTS:"receipts",MY_RECEIPTS:"myReceipt",CUSTOM_DATA:"customData",CUSTOM_SUB_TYPE:"subType"},KNOWN_MEDIA_TYPE:{IMAGE:[],VIDEO:[],AUDIO:[],FILE:[]},PAGINATION:{AFFIX:{APPEND:"append",PREPEND:"prepend"},CURSOR_FILEDS:{ID:"id",SENT_AT:"sentAt"},CURSOR_AFFIX_DEFAULT:"prepend",CURSOR_FIELD_DEFAULT:"sentAt",KEYS:{PER_PAGE:"per_page",CURSOR_AFFIX:"cursorAffix",AFFIX:"affix",CURSOR_FIELD:"cursorField",CURSOR_VALUE:"cursorValue",UID:"uid",SENT_AT:"sentAt",ID:"id",CURRENT_PAGE:"page",UNREAD:"unread",UNDELIVERED:"undelivered",HIDE_MESSAGES_FROM_BLOCKED_USER:"hideMessagesFromBlockedUsers",SEARCH_KEY:"searchKey",ONLY_UPDATES:"onlyUpdates",UPDATED_AT:"updatedAt"}}},e.ATTACHMENTS_CONSTANTS={KEYS:{EXTENSION:"extension",MIME_TYPE:"mimeType",NAME:"name",SIZE:"size",URL:"url"}},(i=e.MessageCategory||(e.MessageCategory={})).ACTION="action",i.MESSAGE="message",i.CALL="call",i.CUSTOM="custom",e.TYPING_NOTIFICATION={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"receiverType",META:"metadata",KEYS:{TYPING_NOTIFICATION:"typingNotification",TIMESTAMP:"timestamp"},ACTIONS:{STARTED:"started",ENDED:"ended"}},e.ActionConstatnts={ACTION_SUBJECTS:{ACTION_ON:"on",ACTION_BY:"by",ACTION_FOR:"for"},ACTION_ENTITY_TYPE:{GROUP_USER:"groupuser",USER:"user",GROUP:"group",MESSAGE:"message"},ACTION_KEYS:{ACTION_CREATED:"created",ACTION_UPDATED:"updated",ACTION_DELETED:"deleted",ENTITIES:"entities",ENTITY:"entity",ENTITY_TYPE:"entityType",TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_ADDED:"added",ACTION_SCOPE_CHANGED:"scopeChanged",ACTION_TYPE_USER:"user",ACTION_TYPE_GROUP:"group",ACTION_TYPE_GROUP_MEMBER:"groupMember",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",ACTION_TYPE_CALL:"call",EXTRAS:"extras",SCOPE:"scope",NEW:"new",OLD:"old"},ActionMessages:{ACTION_GROUP_JOINED_MESSAGE:"%s joined %s",ACTION_GROUP_LEFT_MESSAGE:"%s left %s",ACTION_MEMBER_KICKED_MESSAGE:"%s kicked %s from %s",ACTION_MEMBER_BANNED_MESSAGE:"%s banned %s from %s",ACTION_MEMBER_UNBANNED_MESSAGE:"%s unbanned %s from %s",ACTION_MEMBER_INVITED_MESSAGE:"%s banned %s from %s",ACTION_MESSAGE_EDITED_MESSAGE:" Message Edited",ACTION_MESSAGE_DELETED_MESSAGE:"Message Deleted",ACTION_MEMBER_SCOPE_CHANGED:"%s made %s %s",ACTION_MEMBER_ADDED_TO_GROUP:"%s added %s"},ACTION_TYPE:{TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_SCOPE_CHANGED:"scopeChanged",TYPE_MESSAGE:"message",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",TYPE_MEMBER_ADDED:"added"},ACTIONS:{MEMBER_JOINED:"joined",MEMBER_LEFT:"left",MEMBER_KICKED:"kicked",MEMBER_BANNED:"banned",MEMBER_UNBANNED:"unbanned",MEMBER_INVITED:"invited",MEMBER_SCOPE_CHANGED:"scopeChanged"}},e.BlockedUsersConstants={REQUEST_KEYS:{DIRECTIONS:{BOTH:"both",HAS_BLOCKED_ME:"hasBlockedMe",BLOCKED_BY_ME:"blockedByMe"}}},e.CallConstants={CALL_TYPE_AUDIO:"audio",CALL_TYPE_VIDEO:"video",CALL_TYPE:{AUDIO:"audio",VIDEO:"video"},RECEIVER_TYPE_GROUP:"group",RECEIVER_TYPE_USER:"user",CALL_KEYS:{CALL_DATA:"data",CALL_ID:"id",CALL_SESSION_ID:"sessionid",CALL_RECEIVER:"receiver",CALL_SENDER:"sender",CALL_RECEIVER_TYPE:"receiverType",CALL_STATUS:"status",CALL_TYPE:"type",CALL_INITIATED_AT:"initiatedAt",CALL_JOINED_AT:"joinedAt",CALL_LEFT_AT:"leftAt",CALL_METADATA:"metadata",CALL_ENTITIES:"entities",CALL_ENTITY_TYPE:"entityType",CALL_ENTITY:"entity",CALL_ENTITY_USER:"user",CALL_ENTITY_GROUP:"group"},CALL_STATUS:{INITIATED:"initiated",ONGOING:"ongoing",UNANSWERED:"unanswered",REJECTED:"rejected",BUSY:"busy",CANCELLED:"cancelled",ENDED:"ended"}},e.GroupConstants={KEYS:{NAME:"name",GUID:"guid",TYPE:"type",PASSWORD:"password",ICON:"icon",DESCRIPTION:"description",OWNER:"owner",METADATA:"metadata",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",HAS_JOINED:"hasJoined",WS_CHANNEL:"wsChannel"}},e.GroupMemersConstans={KEYS:{SCOPE:"scope",UID:"uid",GUID:"guid",USER:"user"}},e.UserConstants={UID:"uid",NAME:"name",AUTH_TOKEN:"authToken",AVATAR:"avatar",CREDITS:"credits",EMAIL:"email",LAST_ACTIVE_AT:"lastActiveAt",LINK:"link",META_DATA:"metaData",ROLE:"role",STATUS:"status",STATUS_MESSAGE:"statusMessage",USER_NAME:"user_name"},e.Errors={ERROR_IO_EXCEPTION:"ERROR_IO_EXCEPTION",ERROR_JSON_EXCEPTION:"ERROR_JSON_EXCEPTION",ERROR_PASSWORD_MISSING:"ERROR_PASSWORD_MISSING",ERROR_LIMIT_EXCEEDED:"ERROR_LIMIT_EXCEEDED",ERROR_USER_NOT_LOGGED_IN:"ERROR_USER_NOT_LOGGED_IN",ERROR_INVALID_GUID:"ERROR_INVALID_GUID",ERROR_PASSWORD_MISSING_MESSAGE:"Password is mandatory for a password group",ERROR_LIMIT_EXCEEDED_MESSAGE:"Limit Exceeded Max limit of %s",ERROR_USER_NOT_LOGGED_IN_MESSAGE:"Please log in to CometChat before calling this method",ERROR_INVALID_GUID_MESSAGE:"Please provide a valid GUID",ERROR_DEFAULT_MESSAGE:"Something went wrong"},e.CALL_ERROR={CALL_ALREADY_INITIATED:{code:"CALL_ALREADY_INITIATED",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},ERROR_IN_CALLING:{code:"CALL_IN_PROGRESS",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}}},e.PARAMETER_ERROR={PARAMETER_REQUIRED:{code:"%s_NOT_PROVIDED",name:"%s_NOT_PROVIDED",message:"please provide the %s",details:{}}},e.GroupErrors={NOT_A_GROUP:new s.CometChatException({code:"NOT_A_GROUP",message:"Please use group class to construct a new group"})},e.PresenceConstatnts={XMPP_KEYS:{FROM:"from",STATUS:"status",LAST_ACTIVE_AT:"lastActiveAt",TYPE:"type"},STATUS:{ONLINE:"online",OFFLINE:"offline",JOINED:"JOINED",LEFT:"LEFT"}},e.APP_SETTINGS={APP_SETTINGS:"app_settings",KEYS:{CHAT_HOST:"CHAT_HOST",CHAT_USE_SSL:"CHAT_USE_SSL",GROUP_SERVICE:"GROUP_SERVICE",CALL_SERVICE:"CALL_SERVICE",CHAT_WS_PORT:"CHAT_WS_PORT",CHAT_WSS_PORT:"CHAT_WSS_PORT",CHAT_HTTP_BIND_PORT:"CHAT_HTTP_BIND_PORT",CHAT_HTTPS_BIND_PORT:"CHAT_HTTPS_BIND_PORT",ADMIN_API_HOST:"ADMIN_API_HOST",CLIENT_API_HOST:"CLIENT_API_HOST",WEBRTC_HOST:"WEBRTC_HOST",WEBRTC_USE_SSL:"WEBRTC_USE_SSL",WEBRTC_WS_PORT:"WEBRTC_WS_PORT",WEBRTC_WSS_PORT:"WEBRTC_WSS_PORT",WEBRTC_HTTP_BIND_PORT:"WEBRTC_HTTP_BIND_PORT",WEBRTC_HTTPS_BIND_PORT:"WEBRTC_HTTPS_BIND_PORT",EXTENSION_LIST:"extensions",EXTENSION_KEYS:{ID:"id",NAME:"name"}}}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(6),o=n(0),i=n(4),s=n(3);function a(t){return null!=t&&("string"==typeof t&&(t=t.trim()),"object"==typeof t&&0===Object.keys(t).length&&(t=void 0)),["",0,"0",!1,null,"null",void 0,"undefined"].includes(t)}e.isObject=function(t){return t instanceof Object&&t.constructor===Object},e.isTruthy=function(t){return[!0,1,"1","true","TRUE"].includes(t)},e.isFalsy=a,e.getOrdinalSuffix=function(t){var e=t%10,n=t%100;return 1==e&&11!=n?t+"st":2==e&&12!=n?t+"nd":3==e&&13!=n?t+"rd":t+"th"},e.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.split("%s").reduce(function(t,n,r){return t+n+(e[r]||"")},"")},e.createUidFromJid=function(t){return t.substring(t.lastIndexOf("]")+1,t.lastIndexOf("@"))};var c=function(){function t(){}return t.log=function(t,e){},t.error=function(t,e){},t.info=function(t,e){},t}();function u(){return new Promise(function(t,e){i.makeApiCall("appSettings").then(function(e){r.LocalStorage.getInstance().set("app_settings",e.data),t(e.data)},function(t){e(new s.CometChatException(t.error))})})}e.Logger=c,e.getCurrentTime=function(){return(new Date).getTime()},e.getAppSettings=function(){return new Promise(function(t,e){r.LocalStorage.getInstance().get(o.APP_SETTINGS.APP_SETTINGS).then(function(n){a(n)?u().then(function(e){t(e)},function(t){e(t)}):t(n)},function(t){e(t)})})},e.getUpdatedSettings=u,e.isImage=function(t){var e;return t.type&&t.type.toLowerCase().includes("image")&&(e=!0),e},e.isVideo=function(t){var e;return t.type&&t.type.toLowerCase().includes("video")&&(e=!0),e},e.isAudio=function(t){var e;return t.type&&t.type.toLowerCase().includes("audio")&&(e=!0),e}},function(t,e,n){"use strict";(function(t){var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};e.__esModule=!0;var s=n(22),a=n(1),c=n(3),u=n(4),l=n(5),d=n(8),f=n(12),p=n(6),h=n(24),g=n(23),E=n(9),m=n(17),_=n(14),v=n(0),C=n(13),S=n(31),y=n(32),T=n(16),A=n(19),I=n(27),R=n(33),N=n(18),O=n(45),M=n(46),b=n(48),P=n(49),w=n(20),L=n(28),D=n(29),x=n(25),U=n(34),Y=n(50),k=n(30),F=n(15),G=n(51),j=d.XMPPConnectionHelper.getInstance(),K=function(){function e(r){"undefined"!=typeof document?a.Logger.info("This is browser","we have everything"):"undefined"!=typeof navigator&&"ReactNative"==navigator.product?(a.Logger.info("This is react-native","we do not have dom"),t.DOMParser=n(52).DOMParser,t.document=(new t.DOMParser).parseFromString("<?xml version='1.0'?>","text/xml"),e.isNative=!0):a.Logger.info("This is node","we do not have anything"),e.typingTimer(),e.appId=r,e.messagesStore=m.MessagesStore.getInstance(),e.localStorage=p.LocalStorage.getInstance(),e.userStore=y.UserStore.getInstance(),e.messageListnerMaping=w.MessageListnerMaping.getInstance()}return e.setAuthToken=function(t){e.authToken=t},e.prototype.getAuthToken=function(){return e.authToken},e.getAppId=function(){return e.appId},e.prototype.getApiKey=function(){return e.apiKey},e.init=function(t){var n=this;return void 0===t&&(t=""),new Promise(function(r,o){e.isNative||window.navigator.onLine||o(new c.CometChatException(R.INIT_ERROR.NO_INTERNET_CONNECTION)),"object"==typeof t&&t.hasOwnProperty("appId")&&(t=t.appId),a.isFalsy(t)?o(new c.CometChatException(R.INIT_ERROR.NO_APP_ID)):(n.initialzed=!0,n.getInstance(t)),e.localStorage.get("user").then(function(t){t?(e.user=new l.Me(t),e.setAuthToken(e.user.getAuthToken()),e.XMPPLogin(e.user,function(){r()},function(){e.logout()})):r()})})},e.isInitialized=function(){return this.initialzed},e.getInstance=function(t){return this.cometChat||(this.cometChat=new e(t)),this.cometChat},e.login=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if("object"==typeof n[0]){var o=n[0];n[0].hasOwnProperty("authToken")?n[0]=o.authToken:n[0].hasOwnProperty("username")&&n[0].hasOwnProperty("apiKey")&&(n[0]=o.username,n[1]=o.apiKey)}return new Promise(function(r,o){if(2==n.length?(a.isFalsy(n[0])||a.isFalsy(n[1]))&&o(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):1==n.length?a.isFalsy(n[0])&&o(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):o(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)),!a.isFalsy(t.getAppId()))return e.localStorage.get("user").then(function(i){if(2==n.length){e.isSecure=!1,e.apiKey=n[1];var s=n[0];null!=i&&i.uid!==n[0]?t.messagesStore.clearStore().then(function(){e.userStore.clearStore().then(function(){e.localStorage.clearStore().then(function(){d.XMPPConnectionHelper.getInstance().XMPPDisconnect(),e.generateAuthToken(s).then(function(t){e.user=new l.Me(t),e.setAuthToken(e.user.getAuthToken()),e.getLoggedinUser().then(function(t){(e.user=new l.Me(t)).setAuthToken(e.authToken),e.setAuthToken(e.user.getAuthToken()),F.ExtensionController.hookOnLogin(e.user),e.XMPPLogin(e.user,r,o)},function(t){o(new c.CometChatException(t.error))})},function(t){o(new c.CometChatException(t))})})})}):a.isFalsy(e.authToken)?a.isFalsy(s)||(a.isFalsy(e.apiKey)?o(new c.CometChatException(R.LOGIN_ERROR.UNAUTHORISED)):t.generateAuthToken(s).then(function(n){t.user=new l.Me(n),t.setAuthToken(e.user.getAuthToken()),t.getLoggedinUser().then(function(n){t.user=new l.Me(n),t.user.setAuthToken(e.authToken),t.setAuthToken(t.user.getAuthToken()),F.ExtensionController.hookOnLogin(e.user),d.XMPPConnectionHelper.getInstance().XMPPDisconnect(),t.XMPPLogin(t.user,r,o)},function(t){o(new c.CometChatException(t.error))})},function(t){o(new c.CometChatException(t))})):(F.ExtensionController.hookOnLogin(e.user),r(t.user))}else e.authToken=n[0],e.isSecure=!0,t.getLoggedinUser().then(function(s){if(s.authToken!=n[0]){var a=t;a.messagesStore.clearStore().then(function(){a.userStore.clearStore().then(function(){a.localStorage.clearStore().then(function(){d.XMPPConnectionHelper.getInstance().XMPPDisconnect(),a.getLoggedinUser().then(function(t){e.XMPPLogin(new l.Me(t),r,o)},function(t){o(t)})})})})}else i?r(new l.Me(s)):e.XMPPLogin(new l.Me(s),r,o)},function(t){})});o(new c.CometChatException(R.LOGIN_ERROR.NOT_INITIALIZED))})},e.sendMessage=function(t){return o(this,void 0,void 0,function(){var e,n,r=this;return i(this,function(s){switch(s.label){case 0:return t instanceof g.TextMessage||t instanceof h.MediaMessage||t instanceof x.CustomMessage||(t=t[v.MessageConstatnts.KEYS.ATTATCHMENT]?(e=v.MessageConstatnts.TYPE.FILE,a.isImage(t[v.MessageConstatnts.KEYS.ATTATCHMENT])?e=v.MessageConstatnts.TYPE.IMAGE:a.isAudio(t[v.MessageConstatnts.KEYS.ATTATCHMENT])?e=v.MessageConstatnts.TYPE.AUDIO:a.isVideo(t[v.MessageConstatnts.KEYS.ATTATCHMENT])&&(e=v.MessageConstatnts.TYPE.VIDEO),new h.MediaMessage(t[v.MessageConstatnts.KEYS.RECEIVER],t[v.MessageConstatnts.KEYS.ATTATCHMENT],e,t[v.MessageConstatnts.KEYS.RECEIVER_TYPE])):new g.TextMessage(t[v.MessageConstatnts.KEYS.RECEIVER],t[v.MessageConstatnts.KEYS.TEXT],v.MessageConstatnts.TYPE.TEXT,t[v.MessageConstatnts.KEYS.RECEIVER_TYPE])),[4,F.ExtensionController.hookBeforeMessageSent(t)];case 1:return n=s.sent(),t=n,[2,new Promise(function(e,n){return u.makeApiCall("sendMessage",{},t,t instanceof h.MediaMessage).then(function(t){return o(r,void 0,void 0,function(){var n,r;return i(this,function(o){switch(o.label){case 0:return n=E.MessageController.trasformJSONMessge(t.data),[4,F.ExtensionController.hookAfterMessageSent(n)];case 1:return r=o.sent(),e(n=r),[2]}})})},function(t){n(new c.CometChatException(t.error))})})]}})})},e.sendDirectMessage=function(t){return Object.assign(t,{receiverType:v.MessageConstatnts.RECEIVER_TYPE.USER}),this.sendMessage(t)},e.sendGroupMessage=function(t){return Object.assign(t,{receiverType:v.MessageConstatnts.RECEIVER_TYPE.GROUP}),this.sendMessage(t)},e.sendMediaMessage=function(t){return this.sendMessage(t)},e.sendCustomMessage=function(t){return this.sendMessage(t)},e.getLastDeliveredMessageId=function(t){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,w.MessageListnerMaping.getInstance().get("all")];case 1:return[2,t.sent()]}})})},e.startTyping=function(t){if(!a.isFalsy(t)){var n,r=this.RECEIVER_TYPE.USER,o={};if(t instanceof L.TypingIndicator)n=t.getReceiverId(),r=t.getReceiverType(),o=t.getMetadata();else{if(!t.hasOwnProperty(v.TYPING_NOTIFICATION.RECEIVER_ID))return;n=t[v.TYPING_NOTIFICATION.RECEIVER_ID],t.hasOwnProperty(v.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(r=t[v.TYPING_NOTIFICATION.RECEIVER_TYPE]),t.hasOwnProperty(v.TYPING_NOTIFICATION.META)&&(o=t[v.TYPING_NOTIFICATION.META])}a.isFalsy(n)||(r=r==this.RECEIVER_TYPE.USER?v.XMPP.CONVERSATION.TYPE.CHAT:v.XMPP.CONVERSATION.TYPE.GROUP_CHAT,(D.TypingNotificationController.getTypingStartedMap(n)&&a.getCurrentTime()-D.TypingNotificationController.getTypingStartedMap(n)>=1e3*v.DEFAULT_VALUES.DEFAULT_MAX_TYPING_INDICATOR_LIMIT||null==D.TypingNotificationController.getTypingStartedMap(n))&&a.getAppSettings().then(function(t){switch(r){case v.XMPP.CONVERSATION.TYPE.CHAT:j.sendTypingStarted(a.format(v.XMPP.bare_jid_string,e.getAppId(),n,t[v.APP_SETTINGS.KEYS.CHAT_HOST]),r,o);break;case v.XMPP.CONVERSATION.TYPE.GROUP_CHAT:j.sendTypingStarted(a.format(v.XMPP.muc_jid_string,e.getAppId(),n,t[v.APP_SETTINGS.KEYS.GROUP_SERVICE],t[v.APP_SETTINGS.KEYS.CHAT_HOST]),r,o)}D.TypingNotificationController.addTypingStarted(n)},function(t){}))}},e.endTyping=function(t){if(!a.isFalsy(t)){var n,r=this.RECEIVER_TYPE.USER,o={};if(t instanceof L.TypingIndicator)n=t.getReceiverId(),r=t.getReceiverType(),o=t.getMetadata();else{if(!t.hasOwnProperty(v.TYPING_NOTIFICATION.RECEIVER_ID))return;n=t[v.TYPING_NOTIFICATION.RECEIVER_ID],t.hasOwnProperty(v.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(r=t[v.TYPING_NOTIFICATION.RECEIVER_TYPE]),r=r==this.RECEIVER_TYPE.USER?v.XMPP.CONVERSATION.TYPE.CHAT:v.XMPP.CONVERSATION.TYPE.GROUP_CHAT,t.hasOwnProperty(v.TYPING_NOTIFICATION.META)&&(o=t[v.TYPING_NOTIFICATION.META])}if(a.isFalsy(n))return;r=r==this.RECEIVER_TYPE.USER?v.XMPP.CONVERSATION.TYPE.CHAT:v.XMPP.CONVERSATION.TYPE.GROUP_CHAT,D.TypingNotificationController.getTypingStartedMap(n)&&a.getCurrentTime()-D.TypingNotificationController.getTypingStartedMap(n)<1e3*v.DEFAULT_VALUES.DEFAULT_MAX_TYPING_INDICATOR_LIMIT&&(D.TypingNotificationController.getTypingEndedMap(n)&&a.getCurrentTime()-D.TypingNotificationController.getTypingEndedMap(n)>=1e3*v.DEFAULT_VALUES.DEFAULT_MAX_TYPING_INDICATOR_LIMIT||null==D.TypingNotificationController.getTypingEndedMap(n))&&a.getAppSettings().then(function(t){switch(r){case v.XMPP.CONVERSATION.TYPE.CHAT:j.sendTypingPaused(a.format(v.XMPP.bare_jid_string,e.getAppId(),n,t[v.APP_SETTINGS.KEYS.CHAT_HOST]),r,o);break;case v.XMPP.CONVERSATION.TYPE.GROUP_CHAT:j.sendTypingPaused(a.format(v.XMPP.muc_jid_string,e.getAppId(),n,t[v.APP_SETTINGS.KEYS.GROUP_SERVICE],t[v.APP_SETTINGS.KEYS.CHAT_HOST]),r,o)}D.TypingNotificationController.addTypingEnded(n)},function(t){})}},e.markMessageAsRead=function(t){var e;t instanceof Object?(t.hasOwnProperty(v.READ_RECEIPTS.RECEIVER_ID)&&t.hasOwnProperty(v.MessageConstatnts.KEYS.RECEIVER_TYPE)&&e[v.MessageConstatnts.KEYS.RECEIVER_TYPE],t.hasOwnProperty(v.READ_RECEIPTS.MESSAGE_ID)&&t[v.READ_RECEIPTS.MESSAGE_ID],e=t[v.READ_RECEIPTS.RECEIVER_ID]):t=E.MessageController.trasformJSONMessge(t),t.getId(),t.getSender().getUid(),t.getReceiver(),t.getReceiverType();var n=t.getSender().getUid(),r=t.getSender().getUid();t.getReceiverType()==v.MessageConstatnts.RECEIVER_TYPE.GROUP&&(r=t.getReceiver()),d.XMPPConnectionHelper.getInstance().markAsRead(n,t.getReceiverType(),t.getId().toString(),r)},e.getMessageDetails=function(t){return new Promise(function(e,n){a.isFalsy(t)?n(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):u.makeApiCall("getMessageDetails",{messageId:t}).then(function(t){e(E.MessageController.trasformJSONMessge(t.data))},function(t){a.Logger.error("CometChat:GetMessageDetails:",t),n(t.error)})})},e.getMessageReceipts=function(t){return new Promise(function(e,n){a.isFalsy(t)?n(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):u.makeApiCall("getMessageDetails",{messageId:t}).then(function(t){E.MessageController.getReceiptsFromJSON(t.data).then(function(t){e(t)},function(t){n(t)})},function(t){a.Logger.error("CometChat:GetMessageDetails:",t),n(t.error)})})},e.getUnreadMessageCount=function(t){void 0===t&&(t=!1);var e=0;return t&&(e=1),new Promise(function(t,n){u.makeApiCall("getMessages",{},{unread:1,count:1,hideMessagesFromBlockedUsers:e}).then(function(e){var n={},r={};e.data.map(function(t){t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==v.MessageConstatnts.RECEIVER_TYPE.GROUP?r[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]:n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),t({users:n,groups:r})},function(t){n(new c.CometChatException(t.error))})})},e.getUnreadMessageCountForAllUsers=function(t){void 0===t&&(t=!1);var e=0;return t&&(e=1),new Promise(function(t,n){u.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:e,receiverType:v.MessageConstatnts.RECEIVER_TYPE.USER,unread:1,count:1}).then(function(e){var n={};e.data.map(function(t){n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),t(r({},n))},function(t){n(new c.CometChatException(t.error))})})},e.getUnreadMessageCountForAllGroups=function(t){void 0===t&&(t=!1);var e=0;return t&&(e=1),new Promise(function(t,n){u.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:e,receiverType:v.MessageConstatnts.RECEIVER_TYPE.GROUP,unread:1,count:1}).then(function(e){var n={};e.data.map(function(t){t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==v.MessageConstatnts.RECEIVER_TYPE.GROUP&&(n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])}),t(r({},n))},function(t){n(new c.CometChatException(t.error))})})},e.getUnreadMessageCountForUser=function(t,e){void 0===e&&(e=!1);var n=0;return e&&(n=1),new Promise(function(e,o){a.isFalsy(t)?o(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):u.makeApiCall("getUserMessages",{listId:t},{hideMessagesFromBlockedUsers:n,unread:1,count:1,uid:t}).then(function(t){var n={};t.data.map(function(t){n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),e(r({},n))},function(t){o(new c.CometChatException(t.error))})})},e.getUnreadMessageCountForGroup=function(t,e){void 0===e&&(e=!1);var n=0;return e&&(n=1),new Promise(function(e,o){a.isFalsy(t)?o(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):u.makeApiCall("getGroupMessages",{listId:t},{hideMessagesFromBlockedUsers:n,unread:1,count:1,guid:t}).then(function(t){var n={};t.data.map(function(t){t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==v.MessageConstatnts.RECEIVER_TYPE.GROUP&&(n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])}),e(r({},n))},function(t){o(new c.CometChatException(t.error))})})},e.getUndeliveredMessageCount=function(t){void 0===t&&(t=!1);var e=0;return t&&(e=1),new Promise(function(t,n){u.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:e,undelivered:1,count:1}).then(function(e){var n={},r={};e.data.map(function(t){t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==v.MessageConstatnts.RECEIVER_TYPE.GROUP?r[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]:n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),t({users:n,groups:r})},function(t){n(new c.CometChatException(t.error))})})},e.getUndeliveredMessageCountForAllUsers=function(t){void 0===t&&(t=!1);var e=0;return t&&(e=1),new Promise(function(t,n){u.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:e,unread:1,count:1}).then(function(e){var n={};e.data.map(function(t){n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),t(r({},n))},function(t){n(new c.CometChatException(t.error))})})},e.getUndeliveredMessageCountForAllGroups=function(t){void 0===t&&(t=!1);var e=0;return t&&(e=1),new Promise(function(t,n){u.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:e,unread:1,count:1}).then(function(e){var n={};e.data.map(function(t){n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),t(r({},n))},function(t){n(new c.CometChatException(t.error))})})},e.getUndeliveredMessageCountForUser=function(t,e){void 0===e&&(e=!1);var n=0;return e&&(n=1),new Promise(function(e,o){a.isFalsy(t)?o(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):u.makeApiCall("getUserMessages",{listId:t},{hideMessagesFromBlockedUsers:n,undelivered:1,count:1,uid:t}).then(function(t){var n={};t.data.map(function(t){n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),e(r({},n))},function(t){o(new c.CometChatException(t.error))})})},e.getUndeliveredMessageCountForGroup=function(t,e){void 0===e&&(e=!1);var n=0;return e&&(n=1),new Promise(function(e,o){a.isFalsy(t)?o(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):u.makeApiCall("getGroupMessages",{listId:t},{hideMessagesFromBlockedUsers:n,undelivered:1,count:1,uid:t}).then(function(t){var n={};t.data.map(function(t){n[t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=t[v.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),e(r({},n))},function(t){o(new c.CometChatException(t.error))})})},e.editMessage=function(t){return new Promise(function(e,n){a.isFalsy(t.getId())?n(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):u.makeApiCall("updateMessage",{messageId:t.getId()},t).then(function(t){e(E.MessageController.trasformJSONMessge(t.data).getActionOn())},function(t){n(new c.CometChatException(t.error))})})},e.deleteMessage=function(t){return new Promise(function(e,n){a.isFalsy(t)?n(new c.CometChatException(R.ERRORS.PARAMETER_MISSING)):u.makeApiCall("deleteMessage",{messageId:t},{id:t}).then(function(t){e(E.MessageController.trasformJSONMessge(t.data).getActionOn())},function(t){n(new c.CometChatException(t.error))})})},e.getPreviousMessagesByTimestamp=function(t,e){return new Promise(function(n,r){a.isFalsy(e)?r(new c.CometChatException(JSON.parse(a.format(JSON.stringify(v.PARAMETER_ERROR.PARAMETER_REQUIRED),"TIMESTAMP","TIMESTAMP","timestamp")))):E.MessageController.getAllMessage(t,e,v.MessageConstatnts.PAGINATION.CURSOR_FILEDS.SENT_AT,v.MessageConstatnts.PAGINATION.AFFIX.PREPEND).then(function(t){return n(t)},function(t){return r(t)})})},e.getPreviousMessagesById=function(t,e){return new Promise(function(n,r){a.isFalsy(e)?r(new c.CometChatException(JSON.parse(a.format(JSON.stringify(v.PARAMETER_ERROR.PARAMETER_REQUIRED),"ID","ID","id")))):E.MessageController.getAllMessage(t,e,v.MessageConstatnts.PAGINATION.CURSOR_FILEDS.ID,v.MessageConstatnts.PAGINATION.AFFIX.PREPEND).then(function(t){return n(t)},function(t){return r(t)})})},e.getNextMessagesByTimestamp=function(t,e){return new Promise(function(n,r){a.isFalsy(e)?r(new c.CometChatException(JSON.parse(a.format(JSON.stringify(v.PARAMETER_ERROR.PARAMETER_REQUIRED),"TIMESTAMP","TIMESTAMP","timestamp")))):E.MessageController.getAllMessage(t,e,v.MessageConstatnts.PAGINATION.CURSOR_FILEDS.SENT_AT,v.MessageConstatnts.PAGINATION.AFFIX.APPEND).then(function(t){return n(t)},function(t){return r(t)})})},e.getNextMessagesById=function(t,e){return new Promise(function(n,r){a.isFalsy(e)?r(new c.CometChatException(JSON.parse(a.format(JSON.stringify(v.PARAMETER_ERROR.PARAMETER_REQUIRED),"ID","ID","id")))):E.MessageController.getAllMessage(t,e,v.MessageConstatnts.PAGINATION.CURSOR_FILEDS.ID,v.MessageConstatnts.PAGINATION.AFFIX.APPEND).then(function(t){return n(t)},function(t){return r(t)})})},e.getUser=function(t){return new Promise(function(e,n){"object"==typeof t&&t.hasOwnProperty("uid")&&(t=t.uid),u.makeApiCall("user",{uid:t}).then(function(t){var n=_.UsersController.trasformJSONUser(t.data);e(n)}).catch(function(t){n(new c.CometChatException(t.error))})})},e.getLoggedinUser=function(){return new Promise(function(t,n){e.localStorage.get("user").then(function(r){r?t(e.user=new l.Me(r)):u.makeApiCall("getMyDetails").then(function(e){t(e.data)},function(t){n(new c.CometChatException(t.error))}).catch(function(t){n(t)})},function(t){n(new c.CometChatException(t.error))})})},e.blockUsers=function(t){return new Promise(function(e,n){a.isFalsy(t)?n(new c.CometChatException({})):u.makeApiCall("blockUsers",{},{blockedUids:t}).then(function(t){e(t.data)},function(t){n(new c.CometChatException(t.error))})})},e.unblockUsers=function(t){return new Promise(function(e,n){a.isFalsy(t)?n(new c.CometChatException({})):u.makeApiCall("unblockUsers",{},{blockedUids:t}).then(function(t){e(t.data)},function(t){n(new c.CometChatException(t.error))})})},e.createGroup=function(t){return new Promise(function(e,n){if(!(t instanceof C.Group)){var r=void 0;if(!t.hasOwnProperty(v.GroupConstants.KEYS.GUID))return void n(new c.CometChatException(R.ERRORS.PARAMETER_MISSING));if(!t.hasOwnProperty(v.GroupConstants.KEYS.NAME))return void n(new c.CometChatException(R.ERRORS.PARAMETER_MISSING));if(r=new C.Group(t[v.GroupConstants.KEYS.GUID],t[v.GroupConstants.KEYS.NAME],""),t.hasOwnProperty(v.GroupConstants.KEYS.TYPE))if(t[v.GroupConstants.KEYS.TYPE].toLocaleLowerCase()==v.GroupType.Password){if(!t.hasOwnProperty(v.GroupConstants.KEYS.PASSWORD))return void n(new c.CometChatException(R.GROUP_CREATION_ERRORS.EMPTY_PASSWORD));r.setType(v.GROUP_TYPE.PASSWORD),r.setPassword(t[v.GroupConstants.KEYS.PASSWORD])}else r.setType(t[v.GroupConstants.KEYS.TYPE]);else r.setType(v.GROUP_TYPE.PUBLIC);t.hasOwnProperty(v.GroupConstants.KEYS.ICON)&&r.setIcon(t[v.GroupConstants.KEYS.ICON]),t.hasOwnProperty(v.GroupConstants.KEYS.DESCRIPTION)&&r.setDescription(t[v.GroupConstants.KEYS.DESCRIPTION]),t=r}u.makeApiCall("createGroup",{},t).then(function(n){j.joinMuc(t),S.GroupsController.trasformJSONGroup(n.data).setHasJoined(!0),e(S.GroupsController.trasformJSONGroup(n.data))},function(t){n(new c.CometChatException(t.error))})})},e.getGroup=function(t){return"object"==typeof t&&t.hasOwnProperty("guid")&&(t=t.guid),new Promise(function(e,n){u.makeApiCall("getGroup",{guid:t}).then(function(t){e(S.GroupsController.trasformJSONGroup(t.data))},function(t){n(new c.CometChatException(t.error))})})},e.joinGroup=function(t,e,n){return void 0===e&&(e=v.GroupType.Public),void 0===n&&(n=""),new Promise(function(r,o){var i;"object"==typeof t&&(t.hasOwnProperty(v.GroupConstants.KEYS.GUID)?(t.hasOwnProperty(v.GroupConstants.KEYS.TYPE)&&(e=t[v.GroupConstants.KEYS.TYPE],t[v.GroupConstants.KEYS.TYPE].toLocaleLowerCase()===v.GroupType.Password&&t.hasOwnProperty(v.GroupConstants.KEYS.PASSWORD)&&(n=t[v.GroupConstants.KEYS.PASSWORD])),t=t[v.GroupConstants.KEYS.GUID]):o(new c.CometChatException(R.ERRORS.PARAMETER_MISSING))),i=a.isFalsy(n)?new C.Group(t,"name",e):new C.Group(t,"name",e,n),u.makeApiCall("joinGroup",i,i).then(function(t){j.joinMuc(i);var e=S.GroupsController.trasformJSONGroup(t.data[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA][v.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][v.ActionConstatnts.ACTION_KEYS.ENTITY]);e.setHasJoined(!0),r(e)},function(t){o(new c.CometChatException(t.error))})})},e.updateGroup=function(t){return new Promise(function(e,n){if(!(t instanceof C.Group)){var r=void 0;if(!t.hasOwnProperty(v.GroupConstants.KEYS.GUID))return void n(new c.CometChatException(R.ERRORS.PARAMETER_MISSING));r=new C.Group(v.GroupConstants.KEYS.GUID,"",""),t.hasOwnProperty(v.GroupConstants.KEYS.TYPE)?r.setType(t[v.GroupConstants.KEYS.TYPE]):(t[v.GroupConstants.KEYS.TYPE]=v.GROUP_TYPE.PUBLIC,r.setType[v.GROUP_TYPE.PUBLIC]),t.hasOwnProperty(v.GroupConstants.KEYS.NAME)&&r.setName(t[v.GroupConstants.KEYS.NAME]),t.hasOwnProperty(v.GroupConstants.KEYS.ICON)&&r.setIcon(t[v.GroupConstants.KEYS.ICON]),t.hasOwnProperty(v.GroupConstants.KEYS.DESCRIPTION)&&r.setDescription(t[v.GroupConstants.KEYS.DESCRIPTION]),t=r}u.makeApiCall("updateGroup",t,t).then(function(t){e(S.GroupsController.trasformJSONGroup(t.data))},function(t){n(new c.CometChatException(t.error))})})},e.deleteGroup=function(t){return new Promise(function(e,n){u.makeApiCall("deleteGroup",{guid:t}).then(function(t){e(!0)},function(t){n(new c.CometChatException(t.error))})})},e.leaveGroup=function(t){return new Promise(function(e,n){u.makeApiCall("leaveGroup",{guid:t}).then(function(n){j.leaveMuc(t),e(!0)},function(t){n(new c.CometChatException(t.error))})})},e.kickGroupMember=function(t,e){return new Promise(function(n,r){u.makeApiCall("kickGroupMembers",{guid:t,uid:e}).then(function(t){n(!0)},function(t){r(new c.CometChatException(t.error))})})},e.updateGroupMemberScope=function(t,e,n){return new Promise(function(r,o){u.makeApiCall("changeScopeOfMember",{guid:t,uid:e},{scope:n}).then(function(t){r(!0)},function(t){o(new c.CometChatException(t.error))})})},e.banGroupMember=function(t,e){return new Promise(function(n,r){u.makeApiCall("banGroupMember",{guid:t,uid:e}).then(function(t){n(!0)},function(t){r(new c.CometChatException(t.error))})})},e.unbanGroupMember=function(t,e){return new Promise(function(n,r){u.makeApiCall("unbanGroupMember",{guid:t,uid:e}).then(function(t){n(!0)},function(t){r(new c.CometChatException(t.error))})})},e.addMembersToGroup=function(t,e,n){var o=[],i=[],s=[],l=[];return new Promise(function(d,f){a.isFalsy(e)&&a.isFalsy(n)?f(new c.CometChatException({})):a.isFalsy(e)||a.isFalsy(n)?a.isFalsy(e)?n.map(function(t){l.push(t.getUid())}):(e.filter(function(t){if(t.getScope()==v.GROUP_MEMBER_SCOPE.ADMIN)return!0}).map(function(t){o.push(t.getUid())}),e.filter(function(t){if(t.getScope()==v.GROUP_MEMBER_SCOPE.MODERATOR)return!0}).map(function(t){i.push(t.getUid())}),e.filter(function(t){if(t.getScope()==v.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0}).map(function(t){s.push(t.getUid())})):(e.filter(function(t){if(t.getScope()==v.GROUP_MEMBER_SCOPE.ADMIN)return!0}).map(function(t){o.push(t.getUid())}),e.filter(function(t){if(t.getScope()==v.GROUP_MEMBER_SCOPE.MODERATOR)return!0}).map(function(t){i.push(t.getUid())}),e.filter(function(t){if(t.getScope()==v.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0}).map(function(t){s.push(t.getUid())}),n.map(function(t){l.push(t.getUid())}));var p={};a.isFalsy(o)||(p=r({},p,{admins:o})),a.isFalsy(s)||(p=r({},p,{participants:s})),a.isFalsy(i)||(p=r({},p,{moderators:i})),a.isFalsy(l)||(p=r({},p,{usersToBan:l})),u.makeApiCall("addMemebersToGroup",{guid:t},p).then(function(t){var e={};Object.keys(t.data.admins).map(function(n){t.data.admins[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?e[n]=v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:e[n]=t.data.admins[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(t.data.participants).map(function(n){t.data.participants[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?e[n]=v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:e[n]=t.data.participants[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(t.data.moderators).map(function(n){t.data.moderators[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?e[n]=v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:e[n]=t.data.moderators[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(t.data.usersToBan).map(function(n){t.data.usersToBan[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?e[n]=v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:e[n]=t.data.usersToBan[n][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][v.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),d(e)},function(t){f(new c.CometChatException(t.error))})})},e.initiateCall=function(t){return new Promise(function(e,n){a.isFalsy(JSON.parse(JSON.stringify(t)).sender)?a.isFalsy(I.CallController.getInstance().getActiveCall())?(t.setStatus(v.CallConstants.CALL_STATUS.INITIATED),u.makeApiCall("createCallSession",{},t).then(function(t){var r=E.MessageController.trasformJSONMessge(t[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);I.CallController.getInstance().initiateCall(r).then(function(t){e(r)}).catch(function(t){n(t)})},function(t){n(new c.CometChatException(t.error))})):n(new c.CometChatException(v.CALL_ERROR.ERROR_IN_CALLING)):I.CallController.getInstance().initiateCall(t).then(function(n){e(Object.assign(t))}).catch(function(t){n(t)})})},e.acceptCall=function(t){return new Promise(function(e,n){var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.ONGOING,u.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.MessageController.trasformJSONMessge(t[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);I.CallController.getInstance().onCallStarted(n),e(n)},function(t){n(new c.CometChatException(t.error))})})},e.rejectCall=function(t,e){switch(e){case v.CallConstants.CALL_STATUS.REJECTED:return this.rejectIncomingCall(t);case v.CallConstants.CALL_STATUS.CANCELLED:return this.cancelCall(t);case v.CallConstants.CALL_STATUS.BUSY:return this.sendBusyResponse(t);default:return this.endCall(t)}},e.endCall=function(t){return new Promise(function(e,n){var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.ENDED,I.CallController.getInstance().getActiveCall().getJoinedAt()&&(r[v.CallConstants.CALL_KEYS.CALL_JOINED_AT]=I.CallController.getInstance().getActiveCall().getJoinedAt()),u.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.MessageController.trasformJSONMessge(t[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);I.CallController.getInstance().endCall(),e(n)},function(t){a.Logger.log("calling Log",{error:t});var n=I.CallController.getInstance().getActiveCall();n.setStatus(v.CallConstants.CALL_STATUS.ENDED),e(n),I.CallController.getInstance().endCall()})})},e.getActiveCall=function(){return I.CallController.getInstance().getActiveCall()},e.startCall=function(t,e,n,r){I.CallController.getInstance().startCall(e,n,r)},e.toggleAudio=function(){I.CallController.toggleAudio()},e.toggleVideo=function(){I.CallController.toggleVideo()},e.leaveCall=function(){I.CallController.leave()},e.createCallView=function(t){return{prop1:this.makeCall,onMessage:function(t){I.CallController.getInstance().getCallListner()._eventListener.onCallEnded(I.CallController.getInstance().getActiveCall()),e.endCall(I.CallController.getInstance().getActiveCall().getSessionId()).then(function(t){}).catch(function(t){})}}},e.makeCall=function(t,e){t.setState(function(t){return r({},t,{uri:e})})},e.rejectIncomingCall=function(t){return new Promise(function(e,n){var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.REJECTED,u.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.MessageController.trasformJSONMessge(t[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);e(n)},function(t){n(new c.CometChatException(t.error))})})},e.cancelCall=function(t){return new Promise(function(e,n){var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.CANCELLED,u.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.MessageController.trasformJSONMessge(t[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);I.CallController.getInstance().endCallSession(),e(n)},function(t){n(new c.CometChatException(t.error))})})},e.sendBusyResponse=function(t){return new Promise(function(e,n){var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.BUSY,u.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.MessageController.trasformJSONMessge(t[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);e(n)},function(t){n(new c.CometChatException(t.error))})})},e.sendUnansweredResponse=function(t){return new Promise(function(e,n){var r={};r[v.CallConstants.CALL_KEYS.CALL_STATUS]=v.CallConstants.CALL_STATUS.UNANSWERED,u.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.MessageController.trasformJSONMessge(t[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);d.XMPPConnectionHelper.getInstance().trigerMessageHandler(Object.assign(n,t[v.ResponseConstants.RESPONSE_KEYS.KEY_DATA])),e(n)},function(t){n(new c.CometChatException(t.error))})})},e.addMessageListener=function(t,e){j.addMessageEventListener(t,e)},e.removeMessageListener=function(t){j.removeMessageEventListener(t)},e.addCallListener=function(t,e){j.addCallEventListener(t,e)},e.removeCallListener=function(t){j.removeCallEventListener(t)},e.addUserListener=function(t,e){j.addUserEventListener(t,e)},e.removeUserListener=function(t){j.removeUserEventListener(t)},e.addGroupListener=function(t,e){j.addGroupEventListener(t,e)},e.removeGroupListener=function(t){j.removeGroupEventListener(t)},e.generateAuthToken=function(t){return new Promise(function(e,n){u.makeApiCall("authToken",{uid:t}).then(function(t){e(t.data)}).catch(function(t){n(new c.CometChatException(t.error))})})},e.XMPPLogin=function(t,e,n){var r=this;j.XMMPLogin(t.getUid(),t.getWsChannel().secret,function(o){switch(o){case f.Strophe.Status.CONNFAIL:n(new c.CometChatException(R.LOGIN_ERROR.XMPP_CONNECTION_FAIL));break;case f.Strophe.Status.CONNECTING:break;case f.Strophe.Status.CONNECTED:r.localStorage.set("user",t),e(new l.User(t));break;case f.Strophe.Status.DISCONNECTED:break;case f.Strophe.Status.DISCONNECTING:a.Logger.info("Connection","Disconnecting");break;case f.Strophe.Status.AUTHFAIL:n(new c.CometChatException(R.LOGIN_ERROR.XMPP_CONNECTION_FAIL))}})},e.getAppSettings=function(){return new Promise(function(t,e){u.makeApiCall("appSettings").then(function(e){p.LocalStorage.getInstance().set("app_settings",e.data),t(e.data)},function(t){e(new c.CometChatException(t.error))})})},e.logout=function(){var t=this;return new Promise(function(e,n){u.makeApiCall("userLogout").then(function(n){t.clearCache(),t.apiKey=void 0,t.user=void 0,t.authToken=void 0,d.XMPPConnectionHelper.getInstance().XMPPDisconnect(),e(n.data)},function(r){t.clearCache(),t.apiKey=void 0,t.user=void 0,t.authToken=void 0,d.XMPPConnectionHelper.getInstance().XMPPDisconnect(),new c.CometChatException(r.error).code==R.SERVER_ERRORS.AUTH_ERR.code?e({}):n(new c.CometChatException(r.error))})})},e.isExtensionEnabled=function(t){return new Promise(function(e){F.ExtensionController.getExtensionList().then(function(n){Object.keys(n).map(function(n){n==t&&e(!0)}),e(!1)},function(t){a.Logger.log("error while fetching exntension list",t),e(!1)})})},e.clearCache=function(){this.messagesStore.clearStore(),this.userStore.clearStore(),this.localStorage.clearStore()},e.typingTimer=function(){setInterval(function(){D.TypingNotificationController.clearTimer()},500)},e.initialzed=!1,e.isNative=!1,e.CometChatException=c.CometChatException,e.TextMessage=g.TextMessage,e.MediaMessage=h.MediaMessage,e.CustomMessage=x.CustomMessage,e.Action=N.Action,e.Call=A.Call,e.TypingIndicator=L.TypingIndicator,e.Group=C.Group,e.AppUser=l.User,e.User=l.User,e.GroupMember=U.GroupMember,e.USER_STATUS={ONLINE:v.PresenceConstatnts.STATUS.ONLINE,OFFLINE:v.PresenceConstatnts.STATUS.OFFLINE},e.MessagesRequest=P.DefaultMessagesRequest,e.MessagesRequestBuilder=P.DefaultMessagesRequestBuilder,e.UsersRequest=b.UsersRequest,e.UsersRequestBuilder=b.UsersRequestBuilder,e.BlockedUsersRequest=G.BlockedUsersRequest,e.BlockedUsersRequestBuilder=G.BlockedUsersRequestBuilder,e.GroupsRequest=O.GroupsRequest,e.GroupsRequestBuilder=O.GroupsRequestBuilder,e.GroupMembersRequest=M.GroupMembersRequest,e.GroupMembersRequestBuilder=M.GroupMembersRequestBuilder,e.BannedMembersRequest=M.GroupMembersRequest,e.BannedMembersRequestBuilder=M.GroupOutCastMembersRequestBuilder,e.MessageListener=T.MessageEventListener,e.UserListener=T.UserEventListener,e.GroupListener=T.GroupEventListener,e.OngoingCallListener=T.UserCallEventListener,e.CallListener=T.CallEventListener,e.MESSAGE_TYPE=v.MessageConstatnts.TYPE,e.CATEGORY_MESSAGE=v.MessageConstatnts.CATEGORY.MESSAGE,e.CATEGORY_ACTION=v.MessageConstatnts.CATEGORY.ACTION,e.CATEGORY_CALL=v.MessageConstatnts.CATEGORY.CALL,e.ACTION_TYPE=v.ActionConstatnts.ACTIONS,e.CALL_TYPE=v.CallConstants.CALL_TYPE,e.RECEIVER_TYPE=v.MessageConstatnts.RECEIVER_TYPE,e.CALL_STATUS=v.CallConstants.CALL_STATUS,e.CallController=I.CallController,e.GROUP_MEMBER_SCOPE=v.GROUP_MEMBER_SCOPE,e.GROUP_TYPE=v.GROUP_TYPE,e.MESSAGE_REQUEST=v.MessageConstatnts.PAGINATION.CURSOR_FILEDS,e.CometChatExtension=Y.CometChatExtension,e.ExtensionManager=k.ExtensionManager,e.isCall=!1,e.endpointFactory=new s.EndpointFactory,e.startTypingCount=0,e.endTypingCount=0,e}();e.CometChat=K}).call(this,n(21))},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){this.code=t.code,this.name=t.name,this.message=t.message,this.details=t.details};e.CometChatException=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(37),o=n(2),i=n(1);function s(t,e,n,r,o){var s;return void 0===t&&(t=""),void 0===e&&(e="GET"),void 0===n&&(n={}),void 0===r&&(r={}),n=i.isFalsy(n)?void 0:("GET"==e&&(t+="?",Object.keys(n).map(function(e){t=t+e+"="+n[e]+"&"}),n=void 0),o&&(s=new FormData,Object.keys(n).map(function(t){"data"!=t?s.append(t,n[t]):s.append(t,JSON.stringify(n[t]))})),JSON.stringify(n)),fetch(t,{method:e,mode:"cors",cache:"no-cache",headers:r,redirect:"follow",referrer:"no-referrer",body:o?s:n})}e.makeApiCall=function(t,e,n,i){void 0===t&&(t=""),void 0===e&&(e={}),void 0===n&&(n={});var a=o.CometChat.getInstance();return new Promise(function(c,u){r.getEndPoint(t,e).then(function(e){var r={appId:o.CometChat.getAppId(),Accept:"application/json"};i||(r["Content-Type"]="application/json"),e.hasOwnProperty("isAdminApi")&&e.isAdminApi?a.getApiKey()?r.apiKey=a.getApiKey():u({error:{code:"API_KEY_NOT_SET",message:"An apiKey is needed to use the "+t+" api.",name:"API_KEY_NOT_SET"}}):a.getAuthToken()?r.authToken=a.getAuthToken():u({error:{code:"USER_NOT_LOGED_IN",message:"An authToken is need to use the "+t+" api.",name:"user not logged in"}}),s(e.endpoint,e.method,n,r,i).then(function(t){return t.json()}).then(function(t){t.hasOwnProperty("data")?(t.data.hasOwnProperty("authToken")&&o.CometChat.setAuthToken(t.data.authToken),c(t)):u(t)}).catch(function(t){return u})}).catch(function(t){return u})})},e.makeAdminApiCall=function(t,e,n,i){void 0===t&&(t=""),void 0===e&&(e={}),void 0===n&&(n={});var a=o.CometChat.getInstance();return new Promise(function(c,u){r.getEndPoint(t,e).then(function(e){var r={appId:o.CometChat.getAppId(),Accept:"application/json"};i||(r["Content-Type"]="application/json"),e.hasOwnProperty("isAdminApi")&&e.isAdminApi?a.getApiKey()?r.apiKey=a.getApiKey():u({error:"An apiKey is need to use the "+t+" api."}):a.getAuthToken()?r.authToken=a.getAuthToken():u({error:"An authToken is need to use the "+t+" api."}),s(e.endpoint,e.method,n,r,i).then(function(t){return t.json()}).then(function(t){t.hasOwnProperty("data")?(t.data.hasOwnProperty("authToken")&&o.CometChat.setAuthToken(t.data.authToken),c(t)):u(t)}).catch(function(t){return u})}).catch(function(t){return u})})},e.postData=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var i=function(){function t(t){this.hasBlockedMe=!1,this.blockedByMe=!1,this.uid=t.uid,this.name=t.name,this.authToken=t.authToken,this.avatar=t.avatar,this.credits=t.credits,this.email=t.email,this.lastActiveAt=t.lastActiveAt,this.link=t.link,this.metadata=t.metadata,this.role=t.role,this.statusMessage=t.statusMessage}return t.prototype.getUid=function(){return this.uid},t.prototype.setUid=function(t){this.uid=t},t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t},t.prototype.getAuthToken=function(){return this.authToken},t.prototype.setAuthToken=function(t){this.authToken=t},t.prototype.getAvatar=function(){return this.avatar},t.prototype.setAvatar=function(t){this.avatar=t},t.prototype.getCredits=function(){return this.credits},t.prototype.setCredits=function(t){this.credits=t},t.prototype.getEmail=function(){return this.email},t.prototype.setEmail=function(t){this.email=t},t.prototype.getLastActiveAt=function(){return this.lastActiveAt},t.prototype.setLastActiveAt=function(t){this.lastActiveAt=t},t.prototype.getLink=function(){return this.link},t.prototype.setLink=function(t){return this.link=t},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.getRole=function(){return this.role},t.prototype.setRole=function(t){this.role=t},t.prototype.getStatus=function(){return this.status},t.prototype.setStatus=function(t){this.status=t},t.prototype.getStatusMessage=function(){return this.statusMessage},t.prototype.setStatusMessage=function(t){this.statusMessage=t},t.prototype.setBlockedByMe=function(t){this.blockedByMe=t},t.prototype.getBlockedByMe=function(){return this.blockedByMe},t.prototype.setJasBlockedMe=function(t){this.hasBlockedMe=t},t.prototype.getHasBlockedMeMe=function(){return this.hasBlockedMe},t}(),s=function(t){function e(e){var n=t.call(this,e)||this;return n.wsChannel=e.wsChannel,n}return o(e,t),e.prototype.getWsChannel=function(){return this.wsChannel},e}(e.User=i);e.Me=s},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(0),i=n(11),s=n(2),a=function(){function t(t){this.store=o.constants.DEFAULT_STORE,s.CometChat.isNative||(r.isFalsy(t)||(this.store=t),this.localStore=i.createInstance({name:r.format(o.LOCAL_STORE.STORE_STRING,s.CometChat.getAppId(),o.LOCAL_STORE.COMMON_STORE)}),this.localStore.setDriver([i.LOCALSTORAGE,i.INDEXEDDB,i.WEBSQL]))}return t.getInstance=function(){return null==t.localStorage&&(t.localStorage=new t),t.localStorage},t.prototype.set=function(t,e){return this.localStore.setItem(t,JSON.stringify(e))},t.prototype.remove=function(t){this.localStore.removeItem(t)},t.prototype.get=function(t){var e=this;return new Promise(function(n,r){e.localStore.getItem(t).then(function(e){try{n(JSON.parse(e))}catch(t){n(e)}},function(t){r(t)})})},t.prototype.clearStore=function(){return this.localStore.clear()},t.prototype.clear=function(t){},t.prototype.selectStore=function(t){this.store=t},t.localStorage=null,t}();e.LocalStorage=a},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=n(1),i=n(2);e.getUidFromJid=function(t){return t.substring(t.lastIndexOf("]")+1,t.lastIndexOf("@"))},e.getappIdFromJid=function(t){return t.substring(t.lastIndexOf("[")+1,t.lastIndexOf("]"))},e.getmessageIdFromStanzaId=function(t){return t?t.substring(t.lastIndexOf("]")+1,t.length):t},e.parseHTML=function(e){try{return e.textContent}catch(t){return e}},e.getJidFromUid=function(t){return new Promise(function(e,n){o.getAppSettings().then(function(n){e(o.format(r.XMPP.bare_jid_string,i.CometChat.getAppId(),t,n[r.APP_SETTINGS.KEYS.CHAT_HOST]))},function(n){e(o.format(r.XMPP.bare_jid_string,i.CometChat.getAppId(),t,r.XMPP.host))})})},e.getGUIDFromJID=function(t){return t.substring(t.indexOf("]")+1,t.indexOf("@"))},e.getGroupJidFromGUID=function(t){return new Promise(function(e,n){o.getAppSettings().then(function(n){e(o.format(r.XMPP.muc_jid_string,i.CometChat.getAppId(),t,n[r.APP_SETTINGS.KEYS.GROUP_SERVICE],n[r.APP_SETTINGS.KEYS.CHAT_HOST]))},function(n){e(o.format(r.XMPP.muc_jid_string,i.CometChat.getAppId(),t,i.CometChat.getAppId(),r.XMPP.host))})})},e.getFullJidForGroup=function(t){return t.substring(t.indexOf("/")+1)},e.getGroupJidFullGroupJid=function(t){return t.substring(0,t.indexOf("/"))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};e.__esModule=!0;var i=n(1),s=n(38),a=n(2),c=n(16),u=n(9),l=n(0),d=n(26),f=(n(42),n(43),n(18)),p=n(7),h=n(44),g=n(19),E=n(27),m=n(6),_=n(28),v=n(20),C=n(29),S=n(15),y=function(){function e(){this.messageHandlers=[],this.userHandlers=[],this.callHandlers=[],this.groupHandlers=[],this.iqHandlers=[]}return e.getInstance=function(){return null!=this.xMPPConnectionHelper&&null!=this.xMPPConnectionHelper||(this.xMPPConnectionHelper=new e),this.xMPPConnectionHelper},e.prototype.XMPPConnect=function(t){var n=this;return new Promise(function(r,o){i.isFalsy(t)&&(t=e.XMPP_BIND_URL),m.LocalStorage.getInstance().get(l.APP_SETTINGS.APP_SETTINGS).then(function(t){i.isFalsy(t)?i.getAppSettings().then(function(t){e.XMPP_BIND_URL="wss://"+t[l.APP_SETTINGS.KEYS.CHAT_HOST]+":"+t[l.APP_SETTINGS.KEYS.CHAT_HTTPS_BIND_PORT]+l.XMPP.bind_url,n.connection=new s.Strophe.Connection(e.XMPP_BIND_URL),r(!0)}):(e.XMPP_BIND_URL="wss://"+t[l.APP_SETTINGS.KEYS.CHAT_HOST]+":"+t[l.APP_SETTINGS.KEYS.CHAT_HTTPS_BIND_PORT]+l.XMPP.bind_url,n.connection=new s.Strophe.Connection(e.XMPP_BIND_URL),r(!0))})})},e.prototype.XMPPDisconnect=function(){this.connection&&(this.connection.flush(),this.connection.disconnect())},e.prototype.XMMPLogin=function(t,n,c){var h=this;void 0===n&&(n=l.XMPP.deafult_password),this.XMPPConnect().then(function(E){h.connection.connected?c(s.Strophe.Status.CONNECTED):h.connection.connect(i.format(l.XMPP.jid_string,a.CometChat.getAppId(),t,e.XMPP_HOST,l.XMPP.xmpp_resource),n,function(t){i.isFalsy(c)||c(t),t==s.Strophe.Status.CONNECTED&&(h.connection.sendPresence(s.$pres().c("priority").t("1").up().c("status").t("online")),h.connection.muc.init(h.connection),h.connection.vcard.init(h.connection),h.connection.chatstates.init(h.connection),h.connection.receipts.init(h.connection),h.connection.muc.join(i.format(l.XMPP.muc_jid_string,a.CometChat.getAppId(),"somegroup","call",l.XMPP.host),h.connection.jid,null,null,null,null,0,null),m.LocalStorage.getInstance().get(l.APP_SETTINGS.APP_SETTINGS).then(function(t){i.isFalsy(t)?i.getAppSettings().then(function(t){h.connection.muc.listRooms(a.CometChat.getAppId()+"."+t[l.APP_SETTINGS.KEYS.CHAT_HOST],function(t){var e=t.getElementsByTagName("item");(e=Array.prototype.slice.call(e)).map(function(t){h.connection.muc.join(t.getAttribute("jid"),h.connection.jid)})})}):h.connection.muc.listRooms(a.CometChat.getAppId()+"."+t[l.APP_SETTINGS.KEYS.CHAT_HOST],function(t){var e=t.getElementsByTagName("item");(e=Array.prototype.slice.call(e)).map(function(t){h.connection.muc.join(t.getAttribute("jid"),h.connection.jid,null,null,null,null,0,null)})})}),h.connection.send(s.$iq({from:s.Strophe.getBareJidFromJid(h.connection.jid),id:"enable1",type:"set"}).c("enable",{xmlns:"urn:xmpp:carbons:2"})),h.connection.addHandler(function(t){if(!(0<t.getElementsByTagName("x").length)){var e=d.PresenceController.transformPresence(t);h.getUsersVCard(e.getUid(),function(t){i.isFalsy(t.getUid())||h.userHandlers.map(function(n){if(n)switch(t.setLastActiveAt(e.getLastActiveAt()),e.getStatus()){case l.PresenceConstatnts.STATUS.ONLINE:t.setStatus(l.PresenceConstatnts.STATUS.ONLINE),i.isFalsy(n._eventListener.onUserOnline)||n._eventListener.onUserOnline(t);break;default:t.setStatus(l.PresenceConstatnts.STATUS.OFFLINE),i.isFalsy(n._eventListener.onUserOffline)||n._eventListener.onUserOffline(t)}})})}return!0},null,"presence"),h.connection.addHandler(function(t){var e=t.getElementsByTagName("presence");return 0<(e=Array.prototype.slice.call(e)).length&&h.iqHandlers.map(function(t){t._callback(d.PresenceController.transformPresences(e))}),!0},null,"iq"),h.connection.addHandler(function(t){var n;try{try{if(n=u.MessageController.trasformXMPPMessage(t),i.isFalsy(n))if(u.MessageController.isDeliveryReceipt(t))t.getAttribute(l.MessageConstatnts.XMPP_KEYS.TYPE)==l.MessageConstatnts.XMPP_KEYS.TYPE_GROUP&&p.getFullJidForGroup(t.getAttribute(l.MessageConstatnts.XMPP_KEYS.FROM))==e.getInstance().connection.jid?t=null:h.publishDeliveryReceipt(t);else{if(!u.MessageController.isReadRceipt(t))return!0;t.getAttribute(l.MessageConstatnts.XMPP_KEYS.TYPE)==l.MessageConstatnts.XMPP_KEYS.TYPE_GROUP&&p.getFullJidForGroup(t.getAttribute(l.MessageConstatnts.XMPP_KEYS.FROM))==e.getInstance().connection.jid?t=null:h.publishReadReceipt(t)}else t.getAttribute(l.MessageConstatnts.XMPP_KEYS.TYPE)==l.MessageConstatnts.XMPP_KEYS.TYPE_GROUP&&p.getFullJidForGroup(t.getAttribute(l.MessageConstatnts.XMPP_KEYS.FROM))==e.getInstance().connection.jid?t=null:u.MessageController.checkIfCabon(t)||h.connection.receipts._processReceipt(t,n.getId());t=t.getAttribute(l.MessageConstatnts.XMPP_KEYS.TYPE)==l.MessageConstatnts.XMPP_KEYS.TYPE_GROUP&&p.getFullJidForGroup(t.getAttribute(l.MessageConstatnts.XMPP_KEYS.FROM))==e.getInstance().connection.jid?null:n}catch(n){return i.Logger.error("Error in processing incoming message",{e:n,message:t}),!0}if(!i.isFalsy(t)){try{v.MessageListnerMaping.getInstance().set("all",t.id)}catch(n){i.Logger.error("Error in storing  incoming message id",{e:n})}h.messageHandlers.map(function(e){return r(h,void 0,void 0,function(){var n,r,s;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),e?t instanceof f.Action?[3,4]:[3,1]:[3,4];case 1:return t instanceof g.Call?[3,4]:[3,2];case 2:n=t;try{v.MessageListnerMaping.getInstance().set(e._name,t.id)}catch(o){}return r=u.MessageController.trasformJSONMessge(n),[4,S.ExtensionController.hookOnMessageReceived(r)];case 3:switch((n=o.sent()).getType()){case l.MessageConstatnts.TYPE.TEXT:i.isFalsy(e._eventListener.onTextMessageReceived)||e._eventListener.onTextMessageReceived(n);break;case l.MessageConstatnts.TYPE.CUSTOM:i.isFalsy(e._eventListener.onCustomMessageReceived)||e._eventListener.onCustomMessageReceived(n);break;default:n.getCategory()==l.MessageCategory.CUSTOM?i.isFalsy(e._eventListener.onCustomMessageReceived)||e._eventListener.onCustomMessageReceived(t):i.isFalsy(e._eventListener.onMediaMessageReceived)||e._eventListener.onMediaMessageReceived(t)}o.label=4;case 4:return[3,6];case 5:return s=o.sent(),i.Logger.error("Error in processing incoming message",{e:s}),[3,6];case 6:return[2]}})})}),t instanceof g.Call&&(i.Logger.info("processing incoming call ",{message:t}),h.publishCallEvents(t)),t instanceof f.Action&&(i.Logger.info("processing incoming group actions ",{message:t}),h.publishActionEvents(t))}}catch(n){i.Logger.info("Error in message processing",{error:n})}return!0},null,"message"),h.connection.addHandler(function(t){try{if(0<t.getElementsByTagName("error").length)return i.Logger.info("Processing incoming message",t),!0;var n,r=t.getElementsByTagName("composing"),o=t.getElementsByTagName("paused"),s=t.getAttribute("from"),a=t.getAttribute("type");if(t.getElementsByTagName("body")[0]&&(n=unescape(p.parseHTML(t.getElementsByTagName("body")[0])).trim().toString()),0<r.length||0<o.length)switch(a){case l.XMPP.CONVERSATION.TYPE.CHAT:var c=new _.TypingIndicator(p.getUidFromJid(h.connection.jid),l.MessageConstatnts.RECEIVER_TYPE.USER);h.getUsersVCard(p.getUidFromJid(s),function(t){c.setSender(t),n&&c.setMetadata(n),0<r.length&&C.TypingNotificationController.addIncomingTypingStarted(c),0<o.length&&C.TypingNotificationController.removeIncomingTypingStarted(c),h.messageHandlers.map(function(t){0<r.length&&t._eventListener.onTypingStarted&&t._eventListener.onTypingStarted(c),0<o.length&&t._eventListener.onTypingEnded&&t._eventListener.onTypingEnded(c)})});break;case l.XMPP.CONVERSATION.TYPE.GROUP_CHAT:if(p.getFullJidForGroup(t.getAttribute(l.MessageConstatnts.XMPP_KEYS.FROM))==e.getInstance().connection.jid)return!(t=null);c=new _.TypingIndicator(p.getGUIDFromJID(s),l.MessageConstatnts.RECEIVER_TYPE.GROUP),h.getUsersVCard(p.getUidFromJid(s),function(t){c.setSender(t),n&&c.setMetadata(n),0<r.length&&C.TypingNotificationController.addIncomingTypingStarted(c),0<o.length&&C.TypingNotificationController.removeIncomingTypingStarted(c),h.messageHandlers.map(function(t){0<r.length&&t._eventListener.onTypingStarted&&t._eventListener.onTypingStarted(c),0<o.length&&t._eventListener.onTypingEnded&&t._eventListener.onTypingEnded(c)})})}}catch(t){i.Logger.error("error in message processing",{error:t})}return!0},s.Strophe.NS.CHATSTATES,"message"))})})},e.prototype.getPresenceInfo=function(t,e){var n=this,r="somename"+(new Date).getTime();this.addIqHandler(r,function(t){e(t)}),i.getAppSettings().then(function(e){var r=s.$iq({from:n.connection.jid,id:"CC^COMETCHAT-PRESENCE",type:"get",to:e[l.APP_SETTINGS.KEYS.CHAT_HOST]}).c("query",{xmlns:"jabber:iq:presencereq",action:"presence"}).t(JSON.stringify(t));n.connection.send(r)},function(e){i.Logger.error("getPresenceInfo",e);var r=s.$iq({from:n.connection.jid,id:"CC^COMETCHAT-PRESENCE",type:"get",to:l.XMPP.host}).c("query",{xmlns:"jabber:iq:presencereq",action:"presence"}).t(JSON.stringify(t));n.connection.send(r)})},e.prototype.sendTypingStarted=function(t,e,n){if(void 0===e&&(e=l.XMPP.CONVERSATION.TYPE.CHAT),t){switch(e){case l.XMPP.CONVERSATION.TYPE.CHAT:case l.XMPP.CONVERSATION.TYPE.GROUP_CHAT:}this.connection.chatstates.sendComposing(t,e,n)}},e.prototype.sendTypingPaused=function(t,e,n){if(void 0===e&&(e=l.XMPP.CONVERSATION.TYPE.CHAT),t){switch(e){case l.XMPP.CONVERSATION.TYPE.CHAT:case l.XMPP.CONVERSATION.TYPE.GROUP_CHAT:}this.connection.chatstates.sendPaused(t,e,n)}},e.prototype.addMessageEventListener=function(t,e){this.messageHandlers=this.messageHandlers.filter(function(e){return e._name!=t}),this.messageHandlers=this.messageHandlers.concat([new c.MessageListener(t,e)]),v.MessageListnerMaping.getInstance().get(t).then(function(e){i.isFalsy(e)&&v.MessageListnerMaping.getInstance().set(t,"0")})},e.prototype.removeMessageEventListener=function(t){this.messageHandlers=this.messageHandlers.filter(function(e){return e._name!==t})},e.prototype.addCallEventListener=function(t,e){this.callHandlers=this.callHandlers.filter(function(e){return e._name!=t}),this.callHandlers=this.callHandlers.concat([new c.CallListener(t,e)])},e.prototype.removeCallEventListener=function(t){this.callHandlers=this.callHandlers.filter(function(e){return e._name!==t})},e.prototype.addUserEventListener=function(t,e){this.userHandlers=this.userHandlers.filter(function(e){return e._name!=t}),this.userHandlers=this.userHandlers.concat([new c.UserListener(t,e)])},e.prototype.removeUserEventListener=function(t){this.userHandlers=this.userHandlers.filter(function(e){return e._name!==t})},e.prototype.addGroupEventListener=function(t,e){this.groupHandlers=this.groupHandlers.filter(function(t){t._name}),this.groupHandlers=this.groupHandlers.concat([new c.GroupListener(t,e)])},e.prototype.removeGroupEventListener=function(t){this.groupHandlers=this.groupHandlers.filter(function(e){return e._name!==t})},e.prototype.addIqHandler=function(t,e){this.iqHandlers=this.iqHandlers.concat([new c.Listener(t,e)])},e.prototype.removeIqHandler=function(t){this.iqHandlers=this.iqHandlers.filter(function(e){return e._name!==t})},e.prototype.joinMuc=function(t){var e=this;i.getAppSettings().then(function(n){e.connection.muc.join(i.format(l.XMPP.muc_jid_string,a.CometChat.getAppId(),t.getGuid(),a.CometChat.getAppId(),n[l.APP_SETTINGS.KEYS.CHAT_HOST]),e.connection.jid,null,null,null,null,0)})},e.prototype.leaveMuc=function(t){var e=this;i.getAppSettings().then(function(n){e.connection.muc.leave(i.format(l.XMPP.muc_jid_string,a.CometChat.getAppId(),t,a.CometChat.getAppId(),n[l.APP_SETTINGS.KEYS.CHAT_HOST]),e.connection.jid)})},e.prototype.getUsersVCard=function(t,e){var n=this;p.getJidFromUid(t).then(function(t){n.connection.vcard.get(function(t){e(h.VCardController.transformVCard(t))},t)})},e.prototype.trigerMessageHandler=function(t,e){if(i.isFalsy(e))t=u.MessageController.trasformJSONMessge(t),this.messageHandlers.map(function(e){try{if(e._eventListener)if(t instanceof f.Action);else if(t instanceof g.Call);else{var n=t;switch(n.getType()){case l.MessageConstatnts.TYPE.TEXT:i.isFalsy(e._eventListener.onTextMessageReceived)||e._eventListener.onTextMessageReceived(t);break;case l.MessageConstatnts.TYPE.CUSTOM:i.isFalsy(e._eventListener.onCustomMessageReceived)||e._eventListener.onCustomMessageReceived(t);break;default:n.getCategory()==l.MessageCategory.CUSTOM?i.isFalsy(e._eventListener.onCustomMessageReceived)||e._eventListener.onCustomMessageReceived(t):i.isFalsy(e._eventListener.onMediaMessageReceived)||e._eventListener.onMediaMessageReceived(t)}}}catch(e){i.Logger.error("Error in `trigerMessageHandler`",e)}}),t instanceof g.Call&&this.publishCallEvents(t),t instanceof f.Action&&this.publishActionEvents(t);else if(t=u.MessageController.trasformJSONMessge(t),this.messageHandlers[e]._eventListener)try{if(this.messageHandlers[e]._eventListener)if(t instanceof f.Action);else if(t instanceof g.Call);else{var n=t;switch(n.getType()){case l.MessageConstatnts.TYPE.TEXT:i.isFalsy(this.messageHandlers[e]._eventListener.onTextMessageReceived)||this.messageHandlers[e]._eventListener.onTextMessageReceived(t);break;case l.MessageConstatnts.TYPE.CUSTOM:i.isFalsy(this.messageHandlers[e]._eventListener.onCustomMessageReceived)||this.messageHandlers[e]._eventListener.onCustomMessageReceived(t);break;default:n.getCategory()==l.MessageCategory.CUSTOM?i.isFalsy(this.messageHandlers[e]._eventListener.onCustomMessageReceived)||this.messageHandlers[e]._eventListener.onCustomMessageReceived(t):i.isFalsy(this.messageHandlers[e]._eventListener.onMediaMessageReceived)||this.messageHandlers[e]._eventListener.onMediaMessageReceived(t)}}}catch(e){i.Logger.error("Error in `trigerMessageHandler`",e)}},e.prototype.publishActionEvents=function(t){var e=this;switch(t.getAction()){case l.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_JOINED:this.groupHandlers.map(function(e){i.isFalsy(e._eventListener.onUserJoined)||e._eventListener.onUserJoined(t,t.getActionBy(),t.getActionFor())});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_INVITED:this.groupHandlers.map(function(e){i.isFalsy(e._eventListener.onUserJoined)||e._eventListener.onUserJoined(t,t.getActionBy(),t.getActionFor())});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_LEFT:this.groupHandlers.map(function(e){i.isFalsy(e._eventListener.onUserLeft)||e._eventListener.onUserLeft(t,t.getActionBy(),t.getActionFor())});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_BANNED:this.groupHandlers.map(function(e){i.isFalsy(e._eventListener.onUserBanned)||e._eventListener.onUserBanned(t.getActionOn(),t.getActionBy(),t.getActionFor())});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_KICKED:this.groupHandlers.map(function(e){i.isFalsy(e._eventListener.onUserKicked)||e._eventListener.onUserKicked(t,t.getActionOn(),t.getActionBy(),t.getActionFor())});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_UNBANNED:this.groupHandlers.map(function(e){i.isFalsy(e._eventListener.onUserUnbanned)||e._eventListener.onUserUnbanned(t,t.getActionOn(),t.getActionBy(),t.getActionFor())});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_SCOPE_CHANGED:this.groupHandlers.map(function(e){i.isFalsy(e._eventListener.onMemberScopeChanged)||e._eventListener.onMemberScopeChanged(t)});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_EDITED:this.messageHandlers.map(function(e){i.isFalsy(e._eventListener.onMessageEdited)||e._eventListener.onMessageEdited(t.getActionOn())});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_DELETED:this.messageHandlers.map(function(e){i.isFalsy(e._eventListener.onMessageDeleted)||e._eventListener.onMessageDeleted(t.getActionOn())});break;case l.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_ADDED:this.groupHandlers.map(function(n){var r=t.getActionOn();p.getJidFromUid(r.getUid()).then(function(r){r==s.Strophe.getBareJidFromJid(e.connection.jid)&&t.getReceiverType()==l.MessageConstatnts.RECEIVER_TYPE.USER?(e.joinMuc(t.getActionFor()),i.isFalsy(n._eventListener.onAddedToGroup)||n._eventListener.onAddedToGroup(t,t.getActionBy(),t.getActionOn(),t.getActionFor())):i.isFalsy(n._eventListener.onMemberAddedToGroup)||n._eventListener.onMemberAddedToGroup(t,t.getActionBy(),t.getActionOn(),t.getActionFor())})})}},e.prototype.publishCallEvents=function(e){switch(e.getStatus()){case l.CallConstants.CALL_STATUS.INITIATED:e.getReceiverType()==l.CallConstants.RECEIVER_TYPE_GROUP?this.callHandlers.map(function(t){e.getCallInitiator().getUid().toLocaleLowerCase()!=a.CometChat.user.getUid().toLocaleLowerCase()&&(i.isFalsy(t._eventListener.onIncomingCallReceived)||t._eventListener.onIncomingCallReceived(e))}):this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onIncomingCallReceived)||t._eventListener.onIncomingCallReceived(e)});break;case l.CallConstants.CALL_STATUS.ONGOING:e.getReceiverType()==l.CallConstants.RECEIVER_TYPE_GROUP?e.getCallInitiator().getUid().toLocaleLowerCase()==a.CometChat.user.getUid().toLocaleLowerCase()&&this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onOutgoingCallAccepted(e)}):this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onOutgoingCallAccepted(e)});break;case l.CallConstants.CALL_STATUS.UNANSWERED:if(e.getReceiverType()==l.CallConstants.RECEIVER_TYPE_GROUP)e.getCallInitiator().getUid().toLocaleLowerCase()==a.CometChat.user.getUid().toLocaleLowerCase()&&this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onIncomingCallCancelled)||t._eventListener.onIncomingCallCancelled(e)});else{try{E.CallController.getInstance().endCall()}catch(t){i.Logger.error("CallError",t)}this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onIncomingCallCancelled)||t._eventListener.onIncomingCallCancelled(e)})}break;case l.CallConstants.CALL_STATUS.REJECTED:if(e.getReceiverType()==l.CallConstants.RECEIVER_TYPE_GROUP)e.getCallInitiator().getUid().toLocaleLowerCase()==a.CometChat.user.getUid().toLocaleLowerCase()&&this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)});else{try{E.CallController.getInstance().endCall()}catch(t){i.Logger.error("CallError",t)}this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)})}break;case l.CallConstants.CALL_STATUS.BUSY:e.getReceiverType()==l.CallConstants.RECEIVER_TYPE_GROUP?e.getCallInitiator().getUid().toLocaleLowerCase()==a.CometChat.user.getUid().toLocaleLowerCase()&&this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)}):this.callHandlers.map(function(t){try{E.CallController.getInstance().endCall()}catch(t){i.Logger.error("CallError",t)}i.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)});break;case l.CallConstants.CALL_STATUS.CANCELLED:if(e.getReceiverType()==l.CallConstants.RECEIVER_TYPE_GROUP)e.getCallInitiator().getUid().toLocaleLowerCase()==a.CometChat.user.getUid().toLocaleLowerCase()&&this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onIncomingCallCancelled)||t._eventListener.onIncomingCallCancelled(e)});else{try{E.CallController.getInstance().endCall()}catch(t){i.Logger.error("CallError",t)}this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onIncomingCallCancelled)||t._eventListener.onIncomingCallCancelled(e)})}break;case l.CallConstants.CALL_STATUS.ENDED:this.callHandlers.map(function(t){i.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)});try{E.CallController.getInstance().getCallListner()&&E.CallController.getInstance().getCallListner()._eventListener.onCallEnded(e),E.CallController.getInstance().endCall()}catch(t){i.Logger.error("CallError",t)}}},e.prototype.publishTypinStatusNotification=function(t,e){switch(e){case l.TYPING_NOTIFICATION.ACTIONS.STARTED:this.messageHandlers.map(function(e){e._eventListener.onTypingStarted&&e._eventListener.onTypingStarted(t)}),C.TypingNotificationController.addIncomingTypingStarted(t);break;case l.TYPING_NOTIFICATION.ACTIONS.ENDED:this.messageHandlers.map(function(e){e._eventListener.onTypingEnded&&e._eventListener.onTypingEnded(t)}),C.TypingNotificationController.removeIncomingTypingStarted(t)}},e.prototype.publishDeliveryReceipt=function(t){var e=this;u.MessageController.processDeliveryReceipt(t).then(function(t){e.messageHandlers.map(function(e){e._eventListener.onMessageDelivered&&e._eventListener.onMessageDelivered(t)})},function(t){i.Logger.error("Error in publish delivery",t)})},e.prototype.publishReadReceipt=function(t){var e=this;u.MessageController.processReadReceipt(t).then(function(t){e.messageHandlers.map(function(e){e._eventListener.onMessageRead&&e._eventListener.onMessageRead(t)})},function(t){i.Logger.error("Error in publish read",t)})},e.prototype.markAsRead=function(t,e,n,r){var o=this;p.getJidFromUid(t).then(function(t){var i=s.$msg({to:t,from:o.connection.jid,id:o.connection.getUniqueId(),type:l.MessageConstatnts.XMPP_KEYS.TYPE_USER}),c=s.Strophe.xmlElement("read",{type:e,receiverId:r,xmlns:"urn:xmpp:receipts",id:"["+a.CometChat.getAppId()+"]"+n});i.tree().appendChild(c),o.connection.send(i)})},e.XMPP_HOST=l.XMPP.host,e.XMPP_PORT=l.XMPP.port,e.xMPPConnectionHelper=new e,e.XMPP_BIND_URL="wss://"+e.XMPP_HOST+":"+e.XMPP_PORT+l.XMPP.bind_url,e}();e.XMPPConnectionHelper=y},function(t,e,n){"use strict";e.__esModule=!0;var r=n(23),o=n(7),i=n(24),s=n(4),a=n(17),c=n(1),u=n(0),l=n(8),d=n(18),f=n(19),p=n(39),h=n(40),g=n(25),E=n(2),m=n(14),_=function(){function e(){}return e.trasformXMPPMessage=function(t){var e={};try{var n=JSON.parse(unescape(o.parseHTML(t.getElementsByTagName("body")[0])).trim().toString());e=this.trasformJSONMessge(n)}catch(t){c.Logger.error("MessageController:transformXMPPMessage",{e:t})}return e},e.checkIfCabon=function(t){return 0<t.getElementsByTagName("forwarded").length&&t.getElementsByTagName("forwarded")[0],0<t.getElementsByTagName("forwarded").length},e.trasformJSONMessge=function(t){var e;switch(t[u.MessageConstatnts.KEYS.CATEGORY]){case u.MessageConstatnts.CATEGORY.ACTION:e=d.Action.actionFromJSON(t);break;case u.MessageConstatnts.CATEGORY.CALL:e=f.Call.callFromJSON(t);break;case u.MessageConstatnts.CATEGORY.MESSAGE:switch(t[u.MessageConstatnts.KEYS.TYPE]){case u.MessageConstatnts.TYPE.TEXT:e=new r.TextMessage(t[u.MessageConstatnts.KEYS.RECEIVER],t[u.MessageConstatnts.KEYS.DATA][u.MessageConstatnts.KEYS.TEXT],t[u.MessageConstatnts.KEYS.TYPE],t[u.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;case u.MessageConstatnts.TYPE.CUSTOM:e=new g.CustomMessage(t[u.MessageConstatnts.KEYS.RECEIVER],t[u.MessageConstatnts.KEYS.DATA][u.MessageConstatnts.KEYS.CUSTOM_DATA],t[u.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;default:if(e=new i.MediaMessage(t[u.MessageConstatnts.KEYS.RECEIVER],t[u.MessageConstatnts.KEYS.DATA][u.MessageConstatnts.KEYS.URL],t[u.MessageConstatnts.KEYS.TYPE],t[u.MessageConstatnts.KEYS.RECEIVER_TYPE]),t.hasOwnProperty(u.MessageConstatnts.KEYS.DATA)){var n=t[u.MessageConstatnts.KEYS.DATA];if(n.hasOwnProperty(u.MessageConstatnts.KEYS.ATTATCHMENTS)){var o,s=n[u.MessageConstatnts.KEYS.ATTATCHMENTS];new Array,s.map(function(t){o=new h.Attachment(t)}),e.setAttachment(o)}n.hasOwnProperty(u.MessageConstatnts.KEYS.TEXT)&&e.setCaption(n[u.MessageConstatnts.KEYS.TEXT])}}break;case u.MessageConstatnts.CATEGORY.CUSTOM:e=new g.CustomMessage(t[u.MessageConstatnts.KEYS.RECEIVER],t[u.MessageConstatnts.KEYS.DATA][u.MessageConstatnts.KEYS.CUSTOM_DATA],t[u.MessageConstatnts.KEYS.RECEIVER_TYPE],t.type);default:c.Logger.log("MessageConroller:trasformJSONMessge",t)}t[u.MessageConstatnts.KEYS.MY_RECEIPTS]&&(t[u.MessageConstatnts.KEYS.MY_RECEIPTS]=t[u.MessageConstatnts.KEYS.MY_RECEIPTS],Object.keys(t[u.MessageConstatnts.KEYS.MY_RECEIPTS]).map(function(e){var n=new p.MessageReceipt;e==u.DELIVERY_RECEIPTS.DELIVERED_AT&&(n.setReceiptType(n.RECEIPT_TYPE.DELIVERY_RECEIPT),n.setDeliveredAt(t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.DELIVERY_RECEIPTS.DELIVERED_AT]),c.isFalsy(t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.DELIVERY_RECEIPTS.RECIPIENT])?t[u.DELIVERY_RECEIPTS.DELIVERED_TO_ME_AT]=t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.DELIVERY_RECEIPTS.DELIVERED_AT]:n.setSender(t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.DELIVERY_RECEIPTS.RECIPIENT]),n.setReceiverType(t[u.MessageConstatnts.KEYS.RECEIVER_TYPE]),n.setReceiver(t[u.MessageConstatnts.KEYS.RECEIVER])),t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.READ_RECEIPTS.READ_AT]&&(n.setReceiptType(n.RECEIPT_TYPE.READ_RECEIPT),n.setReadAt(t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.READ_RECEIPTS.READ_AT]),c.isFalsy(t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.READ_RECEIPTS.RECIPIENT])?t[u.READ_RECEIPTS.READ_BY_ME_AT]=t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.READ_RECEIPTS.READ_AT]:n.setSender(t[u.MessageConstatnts.KEYS.MY_RECEIPTS][u.READ_RECEIPTS.RECIPIENT]),n.setReceiverType(t[u.MessageConstatnts.KEYS.RECEIVER_TYPE]),n.setReceiver(t[u.MessageConstatnts.KEYS.RECEIVER]))}));try{if(Object.assign(e,t),(t=e)instanceof r.TextMessage)t.setSender(t.getSender()),t.getData()[u.MessageConstatnts.KEYS.METADATA]&&t.setMetadata(t.getData()[u.MessageConstatnts.KEYS.METADATA]);else if(t instanceof i.MediaMessage)t.getData()[u.MessageConstatnts.KEYS.METADATA]&&t.setMetadata(t.getData()[u.MessageConstatnts.KEYS.METADATA]),t.setSender(t.getSender());else if(t instanceof d.Action)t.setSender(t.getSender()),t.setActionBy(t.getActionBy()),t.setActionOn(t.getActionOn()),t.setActionFor(t.getActionFor()),t.setMessage(t.getMessage());else if(t instanceof f.Call){try{t.setSender(t.getSender())}catch(e){c.Logger.error("MessageController:trasformJSONMessge:setSender",e)}try{t.setCallInitiator(t.getCallInitiator())}catch(e){c.Logger.error("MessageController:trasformJSONMessge:setCallInitiator",e)}try{t.setCallReceiver(t.getCallReceiver())}catch(e){c.Logger.error("MessageController:trasformJSONMessge:setCallreceiver",e)}c.Logger.log("MessageController:transformJSONMessage",t)}else t instanceof g.CustomMessage&&(t.getData()[u.MessageConstatnts.KEYS.METADATA]&&t.setMetadata(t.getData()[u.MessageConstatnts.KEYS.METADATA]),t.setSubType(t.getData()[u.MessageConstatnts.KEYS.CUSTOM_SUB_TYPE]),t.setSender(t.getSender()))}catch(e){c.Logger.error("MessageController:trasformJSONMessge:Main",e),t=null}return t},e.getOfflineHistory=function(t,n){void 0===t&&(t=1e3),void 0===n&&(n=1),a.MessagesStore.getInstance();var r=[];s.makeApiCall("getMessages",{},this.createData(t,n)).then(function(t){return c.isFalsy(t.data)||t.data.map(function(t){l.XMPPConnectionHelper.getInstance().trigerMessageHandler(t),r.push(e.trasformJSONMessge(t))}),!0})},e.getAllMessage=function(t,n,r,o){var i=this;void 0===t&&(t=100);var a=[];return new Promise(function(u,l){s.makeApiCall("getMessages",{},i.createAllMessageData(t,n,r,o)).then(function(t){c.isFalsy(t.data)||(t.data.map(function(t){a.push(e.trasformJSONMessge(t))}),u(a))},function(t){c.Logger.error("Error on fetching all message",t),u([])})})},e.createData=function(t,e){return void 0===e&&(e=0),{per_page:t,cursorValue:e,cursorField:u.MessageConstatnts.PAGINATION.CURSOR_FILEDS.ID,cursorAffix:c.isFalsy(e)?u.MessageConstatnts.PAGINATION.AFFIX.PREPEND:u.MessageConstatnts.PAGINATION.AFFIX.APPEND}},e.createAllMessageData=function(t,e,n,r){return{per_page:t,cursorValue:e,cursorField:n,cursorAffix:r}},e.isDeliveryReceipt=function(t){return 0<t.getElementsByTagName(u.DELIVERY_RECEIPTS.RECEIVED).length},e.isReadRceipt=function(t){return 0<t.getElementsByTagName(u.READ_RECEIPTS.READ).length},e.processDeliveryReceipt=function(e){return new Promise(function(n,r){try{var i=e.getElementsByTagName(u.DELIVERY_RECEIPTS.RECEIVED)[0],s=e.getElementsByTagName(u.DELIVERY_RECEIPTS.DELIVERED_AT)[0];l.XMPPConnectionHelper.getInstance().getUsersVCard(o.getUidFromJid(e.getAttribute(u.MessageConstatnts.XMPP_KEYS.FROM)),function(t){var r=new p.MessageReceipt;r.setSender(t),i.getAttribute(u.DELIVERY_RECEIPTS.RECEIVER_TYPE)==u.MessageConstatnts.RECEIVER_TYPE.GROUP?(r.setReceiverType(u.MessageConstatnts.RECEIVER_TYPE.GROUP),r.setReceiver(i.getAttribute(u.DELIVERY_RECEIPTS.RECEIVER_ID))):(r.setReceiverType(u.MessageConstatnts.RECEIVER_TYPE.USER),r.setReceiver(o.getUidFromJid(e.getAttribute(u.MessageConstatnts.XMPP_KEYS.TO)))),r.setReceiptType(r.RECEIPT_TYPE.DELIVERY_RECEIPT),r.setMessageId(o.getmessageIdFromStanzaId(i.getAttribute(u.DELIVERY_RECEIPTS.ID))),r.setTimestamp(s.getAttribute(u.DELIVERY_RECEIPTS.TIME)),r.setDeliveredAt(s.getAttribute(u.DELIVERY_RECEIPTS.TIME)),n(r)})}catch(t){r()}})},e.processReadReceipt=function(e){return new Promise(function(n,r){try{var i=e.getElementsByTagName(u.READ_RECEIPTS.READ)[0],s=e.getElementsByTagName(u.READ_RECEIPTS.READ_AT)[0];l.XMPPConnectionHelper.getInstance().getUsersVCard(o.getUidFromJid(e.getAttribute(u.MessageConstatnts.XMPP_KEYS.FROM)),function(t){var r=new p.MessageReceipt;r.setSender(t),i.getAttribute(u.READ_RECEIPTS.RECEIVER_TYPE)==u.MessageConstatnts.RECEIVER_TYPE.GROUP?(r.setReceiverType(u.MessageConstatnts.RECEIVER_TYPE.GROUP),r.setReceiver(i.getAttribute(u.READ_RECEIPTS.RECEIVER_ID))):(r.setReceiverType(u.MessageConstatnts.RECEIVER_TYPE.USER),r.setReceiver(o.getUidFromJid(e.getAttribute(u.MessageConstatnts.XMPP_KEYS.TO)))),r.setReceiptType(r.RECEIPT_TYPE.READ_RECEIPT),r.setMessageId(o.getmessageIdFromStanzaId(i.getAttribute(u.READ_RECEIPTS.ID))),r.setTimestamp(s.getAttribute(u.READ_RECEIPTS.TIME)),r.setReadAt(s.getAttribute(u.READ_RECEIPTS.TIME)),n(r)})}catch(t){r()}})},e.getReceiptsFromJSON=function(t){return new Promise(function(e,n){var r=[];E.CometChat.getLoggedinUser().then(function(n){c.isFalsy(t.receipts)?e([]):(t.receipts.data.map(function(e){var o=new p.MessageReceipt;e[u.DELIVERY_RECEIPTS.DELIVERED_AT]&&(o.setReceiptType(o.RECEIPT_TYPE.DELIVERY_RECEIPT),o.setDeliveredAt(e[u.DELIVERY_RECEIPTS.DELIVERED_AT]),o.setTimestamp(e[u.DELIVERY_RECEIPTS.DELIVERED_AT]),c.isFalsy(e[u.DELIVERY_RECEIPTS.RECIPIENT])?o.setSender(n):o.setSender(m.UsersController.trasformJSONUser(e[u.DELIVERY_RECEIPTS.RECIPIENT])),o.setReceiverType(t[u.MessageConstatnts.KEYS.RECEIVER_TYPE]),o.setReceiver(t[u.MessageConstatnts.KEYS.RECEIVER])),e[u.READ_RECEIPTS.READ_AT]&&(o.setReceiptType(o.RECEIPT_TYPE.READ_RECEIPT),o.setReadAt(e[u.READ_RECEIPTS.READ_AT]),o.setTimestamp(e[e[u.READ_RECEIPTS.READ_AT]]),c.isFalsy(e[u.READ_RECEIPTS.RECIPIENT])?o.setSender(n):o.setSender(m.UsersController.trasformJSONUser(e[u.READ_RECEIPTS.RECIPIENT])),o.setReceiverType(t[u.MessageConstatnts.KEYS.RECEIVER_TYPE]),o.setReceiver(t[u.MessageConstatnts.KEYS.RECEIVER])),r.push(o)}),e(r))})})},e}();e.MessageController=_},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e,n,r){this.receiver=t,this.type=e,this.receiverType=n,this.category=r}return t.prototype.getId=function(){return this.id},t.prototype.setId=function(t){this.id=t},t.prototype.getMuid=function(){return this.muid},t.prototype.setMuid=function(t){this.muid=t},t.prototype.getSender=function(){return this.sender},t.prototype.setSender=function(t){this.sender=t},t.prototype.getReceiver=function(){return this.receiver},t.prototype.setReceiver=function(t){this.receiver=t},t.prototype.getType=function(){return this.type},t.prototype.setType=function(t){this.type=t},t.prototype.get=function(){return this.id},t.prototype.setReceiverType=function(t){this.receiverType=t},t.prototype.getReceiverType=function(){return this.receiverType},t.prototype.setSentAt=function(t){this.sentAt=t},t.prototype.getSentAt=function(){return this.sentAt},t.prototype.getStatus=function(){return this.status},t.prototype.setStatus=function(t){this.status=t},t.prototype.getDeliveredAt=function(){return this.deliveredAt},t.prototype.setDeliveredAt=function(t){this.deliveredAt=t},t.prototype.getDeliveredToMeAt=function(){return this.deliveredToMeAt},t.prototype.setDeliveredToMeAt=function(t){this.deliveredToMeAt=t},t.prototype.getReadAt=function(){return this.readAt},t.prototype.setReadAt=function(t){this.readAt=t},t.prototype.getReadByMeAt=function(){return this.readByMeAt},t.prototype.setReadByMeAt=function(t){this.readByMeAt=t},t.prototype.getCategory=function(){return this.category},t.prototype.setCategory=function(t){this.category=t},t.prototype.setEditedAt=function(t){this.editedAt=t},t.prototype.getEditedAt=function(){return this.editedAt},t.prototype.setEditedBy=function(t){this.editedBy=t},t.prototype.getEditedBy=function(){this.editedBy},t.prototype.setDeletedAt=function(){return this.deletedAt},t}();e.BaseMessage=r},function(t,e,n){(function(e){t.exports=function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var i=!1,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,n,r){(function(t){"use strict";var e,r,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,s=new o(l),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),e=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,e=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;r=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}r=!1}n.exports=function(t){1!==u.push(t)||r||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function o(){}var i={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==o&&p(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(t,e,n){r(function(){var r;try{r=e(n)}catch(r){return i.reject(t,r)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function r(e){n||(n=!0,i.reject(t,e))}function o(e){n||(n=!0,i.resolve(t,e))}var s=h(function(){e(o,r)});"error"===s.status&&r(s.value)}function h(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=u).prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(o);if(this.state!==c){var r=this.state===a?t:e;d(n,r,this.outcome)}else this.queue.push(new l(n,t,e));return n},l.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){d(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){i.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){d(this.promise,this.onRejected,t)},i.resolve=function(t,e){var n=h(f,e);if("error"===n.status)return i.reject(t,n.value);var r=n.value;if(r)p(t,r);else{t.state=a,t.outcome=e;for(var o=-1,s=t.queue.length;++o<s;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:i.resolve(new this(o),t)},u.reject=function(t){var e=new this(o);return i.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,c=-1,u=new this(o);++c<n;)l(t[c],c);return u;function l(t,o){e.resolve(t).then(function(t){s[o]=t,++a!==n||r||(r=!0,i.resolve(u,s))},function(t){r||(r=!0,i.reject(u,t))})}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var s,a=-1,c=new this(o);++a<n;)s=t[a],e.resolve(s).then(function(t){r||(r=!0,i.resolve(c,t))},function(t){r||(r=!0,i.reject(c,t))});return c}},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function i(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function u(t){return"string"!=typeof t&&(t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",f=void 0,p={},h=Object.prototype.toString,g="readonly",E="readwrite";function m(t){return"boolean"==typeof f?s.resolve(f):(e=t,new s(function(t){var n=e.transaction(d,E),r=i([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||43<=parseInt(e[1],10))}}).catch(function(){return!1})).then(function(t){return f=t});var e}function _(t){var e=p[t.name],n={};n.promise=new s(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function v(t){var e=p[t.name],n=e.deferredOperations.pop();if(n)return n.resolve(),n.promise}function C(t,e){var n=p[t.name],r=n.deferredOperations.pop();if(r)return r.reject(e),r.promise}function S(t,e){return new s(function(n,r){if(p[t.name]=p[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);_(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var s=o.open.apply(o,i);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(d)}catch(e){if("ConstraintError"!==e.name)throw e}}),s.onerror=function(t){t.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),v(t)}})}function y(t){return S(t,!1)}function T(t){return S(t,!0)}function A(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,o=t.version>t.db.version;if(r&&(t.version,t.version=t.db.version),o||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function I(t){var e=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}(atob(t.data));return i([e],{type:t.type})}function R(t){return t&&t.__local_forage_encoded_blob}function N(t){var e=this,n=e._initReady().then(function(){var t=p[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return c(n,t,t),n}function O(t,e,n,r){void 0===r&&(r=1);try{var o=t.db.transaction(t.storeName,e);n(null,o)}catch(o){if(0<r&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return s.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),T(t)}).then(function(){return function(t){_(t);for(var e=p[t.name],n=e.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,y(t).then(function(e){return t.db=e,A(t)?T(t):e}).then(function(r){t.db=e.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(e){throw C(t,e),e})}(t).then(function(){O(t,e,n,r-1)})}).catch(n);n(o)}}var M={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var o=p[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},p[n.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=N);var i=[];function a(){return s.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==e&&i.push(u._initReady().catch(a))}var l=o.forages.slice(0);return s.all(i).then(function(){return n.db=o.db,y(n)}).then(function(t){return n.db=t,A(n,e._defaultConfig.version)?T(n):t}).then(function(t){n.db=o.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var i=l[r];i!==e&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}})},_support:function(){try{if(!o)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){O(n._dbInfo,g,function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=s.openCursor(),c=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;R(r)&&(r=I(r));var o=t(r,n.key,c++);void 0!==o?e(o):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(o){r(o)}})}).catch(r)});return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new s(function(e,r){n.ready().then(function(){O(n._dbInfo,g,function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=s.get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),R(t)&&(t=I(t)),e(t)},a.onerror=function(){r(a.error)}}catch(o){r(o)}})}).catch(r)});return a(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var o=new s(function(n,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===h.call(e)?m(i.db).then(function(t){return t?e:(n=e,new s(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e}).then(function(e){O(r._dbInfo,E,function(i,s){if(i)return o(i);try{var a=s.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var c=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=c.error?c.error:c.transaction.error;o(t)}}catch(i){o(i)}})}).catch(o)});return a(o,n),o},removeItem:function(t,e){var n=this;t=u(t);var r=new s(function(e,r){n.ready().then(function(){O(n._dbInfo,E,function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=s.delete(t);i.oncomplete=function(){e()},i.onerror=function(){r(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(o){r(o)}})}).catch(r)});return a(r,e),r},clear:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){O(e._dbInfo,E,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),s=i.clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=s.error?s.error:s.transaction.error;n(t)}}catch(r){n(r)}})}).catch(n)});return a(n,t),n},length:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){O(e._dbInfo,g,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),s=i.count();s.onsuccess=function(){t(s.result)},s.onerror=function(){n(s.error)}}catch(r){n(r)}})}).catch(n)});return a(n,t),n},key:function(t,e){var n=this,r=new s(function(e,r){t<0?e(null):n.ready().then(function(){O(n._dbInfo,g,function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=!1,c=s.openCursor();c.onsuccess=function(){var n=c.result;n?0===t?e(n.key):a?e(n.key):(a=!0,n.advance(t)):e(null)},c.onerror=function(){r(c.error)}}catch(o){r(o)}})}).catch(r)});return a(r,e),r},keys:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){O(e._dbInfo,g,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),s=i.openCursor(),a=[];s.onsuccess=function(){var e=s.result;e?(a.push(e.key),e.continue()):t(a)},s.onerror=function(){n(s.error)}}catch(r){n(r)}})}).catch(n)});return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n,r=this.config();if((t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var i=t.name===r.name&&this._dbInfo.db,c=i?s.resolve(this._dbInfo.db):y(t).then(function(e){var n=p[t.name],r=n.forages;n.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e;return e});n=t.storeName?c.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;_(t);var r=p[t.name],i=r.forages;e.close();for(var a=0;a<i.length;a++){var c=i[a];c._dbInfo.db=null,c._dbInfo.version=n}var u=new s(function(e,r){var i=o.open(t.name,n);i.onerror=function(t){var e=i.result;e.close(),r(t)},i.onupgradeneeded=function(){var e=i.result;e.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}});return u.then(function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=t,v(n._dbInfo)}}).catch(function(e){throw(C(t,e)||s.resolve()).catch(function(){}),e})}}):c.then(function(e){_(t);var n=p[t.name],r=n.forages;e.close();for(var i=0;i<r.length;i++){var a=r[i];a._dbInfo.db=null}var c=new s(function(e,n){var r=o.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}});return c.then(function(t){n.db=t;for(var e=0;e<r.length;e++){var o=r[e];v(o._dbInfo)}}).catch(function(e){throw(C(t,e)||s.resolve()).catch(function(){}),e})})}else n=s.reject("Invalid arguments");return a(n,e),n}},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=/^~~local_forage_type~([^~]+)~/,w="__lfsc__:",L=w.length,D="arbf",x="blob",U=L+D.length,Y=Object.prototype.toString;function k(t){var e,n,r,o,i,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),l=new Uint8Array(u);for(e=0;e<a;e+=4)n=b.indexOf(t[e]),r=b.indexOf(t[e+1]),o=b.indexOf(t[e+2]),i=b.indexOf(t[e+3]),l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|o>>2,l[c++]=(3&o)<<6|63&i;return u}function F(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=b[n[e]>>2],r+=b[(3&n[e])<<4|n[e+1]>>4],r+=b[(15&n[e+1])<<2|n[e+2]>>6],r+=b[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var G={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var r,o=w;t instanceof ArrayBuffer?(r=t,o+=D):(r=t.buffer,"[object Int8Array]"===n?o+="si08":"[object Uint8Array]"===n?o+="ui08":"[object Uint8ClampedArray]"===n?o+="uic8":"[object Int16Array]"===n?o+="si16":"[object Uint16Array]"===n?o+="ur16":"[object Int32Array]"===n?o+="si32":"[object Uint32Array]"===n?o+="ui32":"[object Float32Array]"===n?o+="fl32":"[object Float64Array]"===n?o+="fl64":e(new Error("Failed to get type for BinaryArray"))),e(o+F(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+t.type+"~"+F(this.result);e(w+x+n)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){e(null,n)}},deserialize:function(t){if(t.substring(0,L)!==w)return JSON.parse(t);var e,n=t.substring(U),r=t.substring(L,U);if(r===x&&P.test(n)){var o=n.match(P);e=o[1],n=n.substring(o[0].length)}var s=k(n);switch(r){case D:return s;case x:return i([s],{type:e});case"si08":return new Int8Array(s);case"ui08":return new Uint8Array(s);case"uic8":return new Uint8ClampedArray(s);case"si16":return new Int16Array(s);case"ur16":return new Uint16Array(s);case"si32":return new Int32Array(s);case"ui32":return new Uint32Array(s);case"fl32":return new Float32Array(s);case"fl64":return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:k,bufferToString:F};function j(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function K(t,e,n,r,o,i){t.executeSql(n,r,o,function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,a){a.rows.length?i(t,s):j(t,e,function(){t.executeSql(n,r,o,i)},i)},i):i(t,s)},i)}function B(t,e,n,r){var o=this;t=u(t);var i=new s(function(i,s){o.ready().then(function(){void 0===e&&(e=null);var a=e,c=o._dbInfo;c.serializer.serialize(e,function(e,u){u?s(u):c.db.transaction(function(n){K(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){i(a)},function(t,e){s(e)})},function(e){if(e.code===e.QUOTA_ERR){if(0<r)return void i(B.apply(o,[t,a,n,r-1]));s(e)}})})}).catch(s)});return a(i,n),i}var H={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var o=new s(function(r,o){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return o(t)}n.db.transaction(function(t){j(t,n,function(){e._dbInfo=n,r()},function(t,e){o(e)})},o)});return n.serializer=G,o},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){K(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,s=i.length,a=0;a<s;a++){var c=i.item(a),u=c.value;if(u&&(u=o.serializer.deserialize(u)),void 0!==(u=t(u,c.key,a+1)))return void e(u)}e()},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new s(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){K(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},setItem:function(t,e,n){return B.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=u(t);var r=new s(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){K(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},clear:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){K(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},length:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){K(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},key:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){K(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},keys:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){K(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);t(r)},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;return a(r=t.name?new s(function(e){var r,i;r=t.name===n.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e((i=r,new s(function(t,e){i.transaction(function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).name);t({db:i,storeNames:r})},function(t,n){e(n)})},function(t){e(t)})})))}).then(function(t){return new s(function(e,n){t.db.transaction(function(r){function o(t){return new s(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var i=[],a=0,c=t.storeNames.length;a<c;a++)i.push(o(t.storeNames[a]));s.all(i).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):s.reject("Invalid arguments"),e),r}};function V(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function q(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||0<localStorage.length}var $={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=V(t,this._defaultConfig),q()?((this._dbInfo=e).serializer=G,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,o=r.length,i=localStorage.length,s=1,a=0;a<i;a++){var c=localStorage.key(a);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,c.substring(o),s++)))return u}}});return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return a(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var o=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new s(function(o,i){var s=r._dbInfo;s.serializer.serialize(e,function(e,r){if(r)i(r);else try{localStorage.setItem(s.keyPrefix+t,e),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return a(o,n),o},removeItem:function(t,e){var n=this;t=u(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return a(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;0<=n;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return a(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return a(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(r){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return a(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&r.push(i.substring(t.keyPrefix.length))}return r});return a(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,o=this;return a(r=t.name?new s(function(e){t.storeName?e(V(t,o._defaultConfig)):e(t.name+"/")}).then(function(t){for(var e=localStorage.length-1;0<=e;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):s.reject("Invalid arguments"),e),r}},X=function(t,e){for(var n=t.length,r=0;r<n;){if((o=t[r])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;r++}var o,i;return!1},J=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},W={},z={},Q={INDEXEDDB:M,WEBSQL:H,LOCALSTORAGE:$},Z=[Q.INDEXEDDB._driver,Q.WEBSQL._driver,Q.LOCALSTORAGE._driver],tt=["dropInstance"],et=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),nt={description:"",driver:Z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function rt(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function ot(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(J(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var it=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Q)if(Q.hasOwnProperty(n)){var r=Q[n],o=r._driver;this[n]=o,W[o]||this.defineDriver(r)}this._defaultConfig=ot({},nt),this._config=ot({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"!==(void 0===t?"undefined":r(t)))return"string"==typeof t?this._config[t]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)},t.prototype.defineDriver=function(t,e,n){var r=new s(function(e,n){try{var r=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(o);for(var i=et.concat("_initStorage"),c=0,u=i.length;c<u;c++){var l=i[c],d=!X(tt,l);if((d||t[l])&&"function"!=typeof t[l])return void n(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var o=tt[n];t[o]||(t[o]=e(o))}}();var f=function(n){W[r],W[r]=t,z[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(f,n):f(!!t._support):f(!0)}catch(o){n(o)}});return c(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=W[t]?s.resolve(W[t]):s.reject(new Error("Driver not found."));return c(r,e,n),r},t.prototype.getSerializer=function(t){var e=s.resolve(G);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;J(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){r._config.driver=r.driver()}function a(t){return r._extend(t),i(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=u.then(function(){var t=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){var e;r._driver=t._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=(e=o,function(){var t=0;function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var c=new Error("No available storage method found.");return r._driverSet=s.reject(c),r._driverSet}return n()})})}).catch(function(){i();var t=new Error("No available storage method found.");return r._driverSet=s.reject(t),r._driverSet}),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!z[t]},t.prototype._extend=function(t){ot(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=et.length;t<e;t++)rt(this,et[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),st=new it;e.exports=st},{3:3}]},{},[4])(4)}).call(this,n(21))},function(t,e,n){var r;window,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/strophe.js")}({"./src/bosh.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/core.js"),o=r.default.Strophe,i=r.default.$build;o.Request=function(t,e,n,r){this.id=++o._requestId,this.xmlData=t,this.data=o.serialize(t),this.origFunc=e,this.func=e,this.rid=n,this.date=NaN,this.sends=r||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},o.Request.prototype={getResponse:function(){var t=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(t=this.xhr.responseXML.documentElement).tagName)throw o.error("invalid response received"),o.error("responseText: "+this.xhr.responseText),o.error("responseXML: "+o.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(o.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(t=(new DOMParser).parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(t.querySelector("parsererror")){o.error("invalid response received: "+t.querySelector("parsererror").textContent),o.error("responseText: "+this.xhr.responseText);var e=new Error;throw e.name=o.ErrorCondition.BAD_FORMAT,e}}return t},_newXHR:function(){var t=null;return window.XMLHttpRequest?(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t.onreadystatechange=this.func.bind(null,this),t}},o.Bosh=function(t){this._conn=t,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},o.Bosh.prototype={strip:null,_buildBody:function(){var t=i("body",{rid:this.rid++,xmlns:o.NS.HTTPBIND});return null!==this.sid&&t.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),t},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(t,e,n){this.wait=t||this.wait,this.hold=e||this.hold,this.errors=0;var r=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":o.NS.BOSH});n&&r.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new o.Request(r.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),r.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(t,e,n,r,i,s,a){this._conn.jid=t,this.sid=e,this.rid=n,this._conn.connect_callback=r,this._conn.domain=o.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=s||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(o.Status.ATTACHED,null)},_restore:function(t,e,n,r,i){var s=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(null!=s&&s.rid&&s.sid&&s.jid&&(null==t||o.getBareJidFromJid(s.jid)===o.getBareJidFromJid(t)||null===o.getNodeFromJid(t)&&o.getDomainFromJid(s.jid)===t))){var a=new Error("_restore: no restoreable session.");throw a.name="StropheSessionError",a}this._conn.restored=!0,this._attach(s.jid,s.sid,s.rid,e,n,r,i)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(t){var e=t.getAttribute("type");if(null!==e&&"terminate"===e){var n=t.getAttribute("condition");o.error("BOSH-Connection failed: "+n);var r=t.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&0<r.length&&(n="conflict"),this._conn._changeConnectStatus(o.Status.CONNFAIL,n)):this._conn._changeConnectStatus(o.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),o.Status.CONNFAIL}this.sid||(this.sid=t.getAttribute("sid"));var i=t.getAttribute("requests");i&&(this.window=parseInt(i,10));var s=t.getAttribute("hold");s&&(this.hold=parseInt(s,10));var a=t.getAttribute("wait");a&&(this.wait=parseInt(a,10));var c=t.getAttribute("inactivity");c&&(this.inactivity=parseInt(c,10))},_disconnect:function(t){this._sendTerminate(t)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(t){var e=this._getRequestStatus(t),n=this._conn.protocolErrorHandlers.HTTP[e];n&&n.call(this,e)},_hitError:function(t){this.errors++,o.warn("request errored, status: "+t+", number of errors: "+this.errors),4<this.errors&&this._conn._onDisconnectTimeout()},_no_auth_received:function(t){o.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),t=t?t.bind(this._conn):this._conn._connect_cb.bind(this._conn);var e=this._buildBody();this._requests.push(new o.Request(e.tree(),this._onRequestStateChange.bind(this,t),e.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;0<this._requests.length;){var t=this._requests.pop();t.abort=!0,t.xhr.abort(),t.xhr.onreadystatechange=function(){}}},_onIdle:function(){var t=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===t.length&&!this._conn.disconnecting&&(o.info("no requests during idle cycle, sending blank request"),t.push(null)),!this._conn.paused){if(this._requests.length<2&&0<t.length){for(var e=this._buildBody(),n=0;n<t.length;n++)null!==t[n]&&("restart"===t[n]?e.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":o.NS.BOSH}):e.cnode(t[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new o.Request(e.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),e.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(0<this._requests.length){var r=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(o.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),r>Math.floor(o.TIMEOUT*this.wait)&&(o.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(o.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(t,e){var n;if(4===t.xhr.readyState)try{n=t.xhr.status}catch(t){o.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n="number"==typeof e?e:0),n},_onRequestStateChange:function(t,e){if(o.debug("request id "+e.id+"."+e.sends+" state changed to "+e.xhr.readyState),e.abort)e.abort=!1;else if(4===e.xhr.readyState){var n=this._getRequestStatus(e);if(this.lastResponseHeaders=e.xhr.getAllResponseHeaders(),this.disconnecting&&400<=n)return this._hitError(n),void this._callProtocolErrorHandlers(e);var r=0<n&&n<500,i=e.sends>this._conn.maxRetries;if((r||i)&&(this._removeRequest(e),o.debug("request id "+e.id+" should now be removed")),200===n){var s=this._requests[0]===e;(this._requests[1]===e||s&&0<this._requests.length&&this._requests[0].age()>Math.floor(o.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(e.rid)+1),o.debug("request id "+e.id+"."+e.sends+" got 200"),t(e),this.errors=0}else 0===n||400<=n&&n<600||12e3<=n?(o.error("request id "+e.id+"."+e.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(e),400<=n&&n<500&&(this._conn._changeConnectStatus(o.Status.DISCONNECTING,null),this._conn._doDisconnect())):o.error("request id "+e.id+"."+e.sends+" error "+n+" happened");r||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(o.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(t){var e=this,n=this._requests[t],r=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=n.age(),s=!isNaN(i)&&i>Math.floor(o.TIMEOUT*this.wait),a=null!==n.dead&&n.timeDead()>Math.floor(o.SECONDARY_TIMEOUT*this.wait),c=4===n.xhr.readyState&&(r<1||500<=r);if((s||a||c)&&(a&&o.error("Request ".concat(this._requests[t].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[t]=new o.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[t]),0===n.xhr.readyState){o.debug("request id "+n.id+"."+n.sends+" posting");try{var u=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",u),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(t){return o.error("XHR open failed: "+t.toString()),this._conn.connected||this._conn._changeConnectStatus(o.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var l=function(){if(n.date=new Date,e._conn.options.customHeaders){var t=e._conn.options.customHeaders;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.xhr.setRequestHeader(r,t[r])}n.xhr.send(n.data)};if(1<n.sends){var d=1e3*Math.min(Math.floor(o.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout(function(){l()},d)}else l();n.sends++,this._conn.xmlOutput!==o.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==o.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else o.debug("_processRequest: "+(0===t?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(t){o.debug("removing request");for(var e=this._requests.length-1;0<=e;e--)t===this._requests[e]&&this._requests.splice(e,1);t.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(t){var e=this._requests[t];null===e.dead&&(e.dead=new Date),this._processRequest(t)},_reqToData:function(t){try{return t.getResponse()}catch(t){if("parsererror"!==t.message)throw t;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(t){o.info("_sendTerminate was called");var e=this._buildBody().attrs({type:"terminate"});t&&e.cnode(t.tree());var n=new o.Request(e.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),e.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var t=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){return t._conn._onIdle()},100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?o.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):o.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(0<this._requests.length&&this._processRequest(0),1<this._requests.length&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}}},"./src/core.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/md5.js"),o=n("./src/sha1.js"),i=n("./src/utils.js");function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return new d.Builder(t,e)}function u(t){return new d.Builder("iq",t)}function l(t){return new d.Builder("presence",t)}var d={VERSION:"1.3.0",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(t){for(var e=0;e<d.XHTML.tags.length;e++)if(t===d.XHTML.tags[e])return!0;return!1},validAttribute:function(t,e){if(void 0!==d.XHTML.attributes[t]&&0<d.XHTML.attributes[t].length)for(var n=0;n<d.XHTML.attributes[t].length;n++)if(e===d.XHTML.attributes[t][n])return!0;return!1},validCSS:function(t){for(var e=0;e<d.XHTML.css.length;e++)if(t===d.XHTML.css[e])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(t,e){d.NS[t]=e},forEachChild:function(t,e,n){for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes[r];o.nodeType!==d.ElementType.NORMAL||e&&!this.isTagEqual(o,e)||n(o)}},isTagEqual:function(t,e){return t.tagName===e},_xmlGenerator:null,_makeGenerator:function(){var t;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(t=this._getIEXmlDom()).appendChild(t.createElement("strophe")):t=document.implementation.createDocument("jabber:client","strophe",null),t},xmlGenerator:function(){return d._xmlGenerator||(d._xmlGenerator=d._makeGenerator()),d._xmlGenerator},_getIEXmlDom:function(){for(var t=null,e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<e.length&&null===t;n++)try{t=new ActiveXObject(e[n])}catch(e){t=null}return t},xmlElement:function(t){if(!t)return null;for(var e=d.xmlGenerator().createElement(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r)if("string"==typeof r||"number"==typeof r)e.appendChild(d.xmlTextNode(r));else if("object"===a(r)&&"function"==typeof r.sort)for(var o=0;o<r.length;o++){var i=r[o];"object"===a(i)&&"function"==typeof i.sort&&void 0!==i[1]&&null!==i[1]&&e.setAttribute(i[0],i[1])}else if("object"===a(r))for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s]&&null!==r[s]&&e.setAttribute(s,r[s])}return e},xmlescape:function(t){return(t=(t=(t=(t=t.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(t){return(t=(t=(t=(t=t.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')},xmlTextNode:function(t){return d.xmlGenerator().createTextNode(t)},xmlHtmlNode:function(t){var e;return DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)),e},getText:function(t){if(!t)return null;var e="";0===t.childNodes.length&&t.nodeType===d.ElementType.TEXT&&(e+=t.nodeValue);for(var n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===d.ElementType.TEXT&&(e+=t.childNodes[n].nodeValue);return d.xmlescape(e)},copyElement:function(t){var e;if(t.nodeType===d.ElementType.NORMAL){e=d.xmlElement(t.tagName);for(var n=0;n<t.attributes.length;n++)e.setAttribute(t.attributes[n].nodeName,t.attributes[n].value);for(var r=0;r<t.childNodes.length;r++)e.appendChild(d.copyElement(t.childNodes[r]))}else t.nodeType===d.ElementType.TEXT&&(e=d.xmlGenerator().createTextNode(t.nodeValue));return e},createHtml:function(t){var e;if(t.nodeType===d.ElementType.NORMAL){var n=t.nodeName.toLowerCase();if(d.XHTML.validTag(n))try{e=d.xmlElement(n);for(var r=0;r<d.XHTML.attributes[n].length;r++){var o=d.XHTML.attributes[n][r],i=t.getAttribute(o);if(null!=i&&""!==i&&!1!==i&&0!==i)if("style"===o&&"object"===a(i)&&void 0!==i.cssText&&(i=i.cssText),"style"===o){for(var s=[],c=i.split(";"),u=0;u<c.length;u++){var l=c[u].split(":"),f=l[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(d.XHTML.validCSS(f)){var p=l[1].replace(/^\s*/,"").replace(/\s*$/,"");s.push(f+": "+p)}}0<s.length&&(i=s.join("; "),e.setAttribute(o,i))}else e.setAttribute(o,i)}for(var h=0;h<t.childNodes.length;h++)e.appendChild(d.createHtml(t.childNodes[h]))}catch(t){e=d.xmlTextNode("")}else{e=d.xmlGenerator().createDocumentFragment();for(var g=0;g<t.childNodes.length;g++)e.appendChild(d.createHtml(t.childNodes[g]))}}else if(t.nodeType===d.ElementType.FRAGMENT){e=d.xmlGenerator().createDocumentFragment();for(var E=0;E<t.childNodes.length;E++)e.appendChild(d.createHtml(t.childNodes[E]))}else t.nodeType===d.ElementType.TEXT&&(e=d.xmlTextNode(t.nodeValue));return e},escapeNode:function(t){return"string"!=typeof t?t:t.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(t){return"string"!=typeof t?t:t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(t){return t.indexOf("@")<0?null:t.split("@")[0]},getDomainFromJid:function(t){var e=d.getBareJidFromJid(t);if(e.indexOf("@")<0)return e;var n=e.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(t){var e=t.split("/");return e.length<2?null:(e.splice(0,1),e.join("/"))},getBareJidFromJid:function(t){return t?t.split("/")[0]:null},_handleError:function(t){void 0!==t.stack&&d.fatal(t.stack),t.sourceURL?d.fatal("error: "+this.handler+" "+t.sourceURL+":"+t.line+" - "+t.name+": "+t.message):t.fileName?d.fatal("error: "+this.handler+" "+t.fileName+":"+t.lineNumber+" - "+t.name+": "+t.message):d.fatal("error: "+t.message)},log:function(t,e){t===this.LogLevel.FATAL&&"object"===a(window.console)&&"function"==typeof window.console.error&&window.console.error(e)},debug:function(t){this.log(this.LogLevel.DEBUG,t)},info:function(t){this.log(this.LogLevel.INFO,t)},warn:function(t){this.log(this.LogLevel.WARN,t)},error:function(t){this.log(this.LogLevel.ERROR,t)},fatal:function(t){this.log(this.LogLevel.FATAL,t)},serialize:function(t){if(!t)return null;"function"==typeof t.tree&&(t=t.tree());var e=s(Array(t.attributes.length).keys()).map(function(e){return t.attributes[e].nodeName});e.sort();var n=e.reduce(function(e,n){return"".concat(e," ").concat(n,'="').concat(d.xmlescape(t.attributes.getNamedItem(n).value),'"')},"<".concat(t.nodeName));if(0<t.childNodes.length){n+=">";for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes[r];switch(o.nodeType){case d.ElementType.NORMAL:n+=d.serialize(o);break;case d.ElementType.TEXT:n+=d.xmlescape(o.nodeValue);break;case d.ElementType.CDATA:n+="<![CDATA["+o.nodeValue+"]]>"}}n+="</"+t.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(t,e){d._connectionPlugins[t]=e},Builder:function(t,e){"presence"!==t&&"message"!==t&&"iq"!==t||(e&&!e.xmlns?e.xmlns=d.NS.CLIENT:e||(e={xmlns:d.NS.CLIENT})),this.nodeTree=d.xmlElement(t,e),this.node=this.nodeTree}};d.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return d.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(void 0===t[e]?this.node.removeAttribute(e):this.node.setAttribute(e,t[e]));return this},c:function(t,e,n){var r=d.xmlElement(t,e,n);return this.node.appendChild(r),"string"!=typeof n&&"number"!=typeof n&&(this.node=r),this},cnode:function(t){var e,n=d.xmlGenerator();try{e=void 0!==n.importNode}catch(t){e=!1}var r=e?n.importNode(t,!0):d.copyElement(t);return this.node.appendChild(r),this.node=r,this},t:function(t){var e=d.xmlTextNode(t);return this.node.appendChild(e),this},h:function(t){var e=document.createElement("body");e.innerHTML=t;for(var n=d.createHtml(e);0<n.childNodes.length;)this.node.appendChild(n.childNodes[0]);return this}},d.Handler=function(t,e,n,r,o,i,s){this.handler=t,this.ns=e,this.name=n,this.type=r,this.id=o,this.options=s||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(d.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=i?d.getBareJidFromJid(i):null:this.from=i,this.user=!0},d.Handler.prototype={getNamespace:function(t){var e=t.getAttribute("xmlns");return e&&this.options.ignoreNamespaceFragment&&(e=e.split("#")[0]),e},namespaceMatch:function(t){var e=this,n=!1;return!this.ns||(d.forEachChild(t,null,function(t){e.getNamespace(t)===e.ns&&(n=!0)}),n||this.getNamespace(t)===this.ns)},isMatch:function(t){var e=t.getAttribute("from");this.options.matchBareFromJid&&(e=d.getBareJidFromJid(e));var n=t.getAttribute("type");return!(!this.namespaceMatch(t)||this.name&&!d.isTagEqual(t,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&t.getAttribute("id")!==this.id||this.from&&e!==this.from)},run:function(t){var e=null;try{e=this.handler(t)}catch(t){throw d._handleError(t),t}return e},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},d.TimedHandler=function(t,e){this.period=t,this.handler=e,this.lastCalled=(new Date).getTime(),this.user=!0},d.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},d.Connection=function(t,e){var n=this;this.service=t,this.options=e||{};var r=this.options.protocol||"";for(var o in 0===t.indexOf("ws:")||0===t.indexOf("wss:")||0===r.indexOf("ws")?this._proto=new d.Websocket(this):this._proto=new d.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){return n._onIdle()},100),i.default.addCookies(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),d._connectionPlugins)if(Object.prototype.hasOwnProperty.call(d._connectionPlugins,o)){var s=function(){};s.prototype=d._connectionPlugins[o],this[o]=new s,this[o].init(this)}},d.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(t){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)});return"string"==typeof t||"number"==typeof t?e+":"+t:e+""},addProtocolErrorHandler:function(t,e,n){this.protocolErrorHandlers[t][e]=n},connect:function(t,e,n,r,o,i,s){this.jid=t,this.authzid=d.getBareJidFromJid(this.jid),this.authcid=s||d.getNodeFromJid(this.jid),this.pass=e,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=d.getDomainFromJid(this.jid),this._changeConnectStatus(d.Status.CONNECTING,null),this._proto._connect(r,o,i)},attach:function(t,e,n,r,o,i,s){if(!(this._proto instanceof d.Bosh)){var a=new Error('The "attach" method can only be used with a BOSH connection.');throw a.name="StropheSessionError",a}this._proto._attach(t,e,n,r,o,i,s)},restore:function(t,e,n,r,o){if(!this._sessionCachingSupported()){var i=new Error('The "restore" method can only be used with a BOSH connection.');throw i.name="StropheSessionError",i}this._proto._restore(t,e,n,r,o)},_sessionCachingSupported:function(){if(this._proto instanceof d.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(t){return!1}return!0}return!1},xmlInput:function(t){},xmlOutput:function(t){},rawInput:function(t){},rawOutput:function(t){},nextValidRid:function(t){},send:function(t){if(null!==t){if("function"==typeof t.sort)for(var e=0;e<t.length;e++)this._queueData(t[e]);else"function"==typeof t.tree?this._queueData(t.tree()):this._queueData(t);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(t,e,n,r){var o=this,i=null;"function"==typeof t.tree&&(t=t.tree());var s=t.getAttribute("id");if(s||(s=this.getUniqueId("sendPresence"),t.setAttribute("id",s)),"function"==typeof e||"function"==typeof n){var a=this.addHandler(function(t){i&&o.deleteTimedHandler(i),"error"===t.getAttribute("type")?n&&n(t):e&&e(t)},null,"presence",null,s);r&&(i=this.addTimedHandler(r,function(){return o.deleteHandler(a),n&&n(null),!1}))}return this.send(t),s},sendIQ:function(t,e,n,r){var o=this,i=null;"function"==typeof t.tree&&(t=t.tree());var s=t.getAttribute("id");if(s||(s=this.getUniqueId("sendIQ"),t.setAttribute("id",s)),"function"==typeof e||"function"==typeof n){var a=this.addHandler(function(t){i&&o.deleteTimedHandler(i);var r=t.getAttribute("type");if("result"===r)e&&e(t);else{if("error"!==r){var s=new Error("Got bad IQ type of ".concat(r));throw s.name="StropheError",s}n&&n(t)}},null,"iq",["error","result"],s);r&&(i=this.addTimedHandler(r,function(){return o.deleteHandler(a),n&&n(null),!1}))}return this.send(t),s},_queueData:function(t){if(null===t||!t.tagName||!t.childNodes){var e=new Error("Cannot queue non-DOMElement.");throw e.name="StropheError",e}this._data.push(t)},_sendRestart:function(){var t=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){return t._onIdle()},100)},addTimedHandler:function(t,e){var n=new d.TimedHandler(t,e);return this.addTimeds.push(n),n},deleteTimedHandler:function(t){this.removeTimeds.push(t)},addHandler:function(t,e,n,r,o,i,s){var a=new d.Handler(t,e,n,r,o,i,s);return this.addHandlers.push(a),a},deleteHandler:function(t){this.removeHandlers.push(t);var e=this.addHandlers.indexOf(t);0<=e&&this.addHandlers.splice(e,1)},registerSASLMechanisms:function(t){this.mechanisms={},(t=t||[d.SASLAnonymous,d.SASLExternal,d.SASLMD5,d.SASLOAuthBearer,d.SASLXOAuth2,d.SASLPlain,d.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(t){this.mechanisms[t.prototype.name]=t},disconnect:function(t){if(this._changeConnectStatus(d.Status.DISCONNECTING,t),d.info("Disconnect was called because: "+t),this.connected){var e=!1;this.disconnecting=!0,this.authenticated&&(e=l({xmlns:d.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(e)}else d.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(t,e,n){for(var r in d._connectionPlugins)if(Object.prototype.hasOwnProperty.call(d._connectionPlugins,r)){var o=this[r];if(o.statusChanged)try{o.statusChanged(t,e)}catch(t){d.error("".concat(r," plugin caused an exception changing status: ").concat(t))}}if(this.connect_callback)try{this.connect_callback(t,e,n)}catch(t){d._handleError(t),d.error("User connection callback caused an exception: ".concat(t))}},_doDisconnect:function(t){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),d.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(d.Status.DISCONNECTED,t),this.connected=!1},_dataRecv:function(t,e){var n=this;d.info("_dataRecv called");var r=this._proto._reqToData(t);if(null!==r){for(this.xmlInput!==d.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==d.Connection.prototype.rawInput&&(e?this.rawInput(e):this.rawInput(d.serialize(r)));0<this.removeHandlers.length;){var o=this.removeHandlers.pop(),i=this.handlers.indexOf(o);0<=i&&this.handlers.splice(i,1)}for(;0<this.addHandlers.length;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var s=r.getAttribute("type");if(null!==s&&"terminate"===s){if(this.disconnecting)return;var a=r.getAttribute("condition"),c=r.getElementsByTagName("conflict");return null!==a?("remote-stream-error"===a&&0<c.length&&(a="conflict"),this._changeConnectStatus(d.Status.CONNFAIL,a)):this._changeConnectStatus(d.Status.CONNFAIL,d.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(a)}d.forEachChild(r,null,function(t){var e=n.handlers;n.handlers=[];for(var r=0;r<e.length;r++){var o=e[r];try{!o.isMatch(t)||!n.authenticated&&o.user?n.handlers.push(o):o.run(t)&&n.handlers.push(o)}catch(t){d.warn("Removing Strophe handlers due to uncaught exception: "+t.message)}}})}}},mechanisms:{},_connect_cb:function(t,e,n){var r;d.info("_connect_cb was called"),this.connected=!0;try{r=this._proto._reqToData(t)}catch(t){if(t.name!==d.ErrorCondition.BAD_FORMAT)throw t;this._changeConnectStatus(d.Status.CONNFAIL,d.ErrorCondition.BAD_FORMAT),this._doDisconnect(d.ErrorCondition.BAD_FORMAT)}if(r&&(this.xmlInput!==d.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==d.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(d.serialize(r))),this._proto._connect_cb(r)!==d.Status.CONNFAIL))if(r.getElementsByTagNameNS?0<r.getElementsByTagNameNS(d.NS.STREAM,"features").length:0<r.getElementsByTagName("stream:features").length||0<r.getElementsByTagName("features").length){var o=[],i=r.getElementsByTagName("mechanism");if(0<i.length)for(var s=0;s<i.length;s++){var a=d.getText(i[s]);this.mechanisms[a]&&o.push(this.mechanisms[a])}0!==o.length||0!==r.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(o):this._proto._no_auth_received(e)}else this._proto._no_auth_received(e)},sortMechanismsByPriority:function(t){for(var e=0;e<t.length-1;++e){for(var n=e,r=e+1;r<t.length;++r)t[r].prototype.priority>t[n].prototype.priority&&(n=r);if(n!==e){var o=t[e];t[e]=t[n],t[n]=o}}return t},_attemptSASLAuth:function(t){t=this.sortMechanismsByPriority(t||[]);for(var e=!1,n=0;n<t.length;++n)if(t[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new t[n],this._sasl_mechanism.onStart(this);var r=c("auth",{xmlns:d.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var o=this._sasl_mechanism.onChallenge(this,null);r.t(btoa(o))}this.send(r.tree()),e=!0;break}return e},_attemptLegacyAuth:function(){null===d.getNodeFromJid(this.jid)?(this._changeConnectStatus(d.Status.CONNFAIL,d.ErrorCondition.MISSING_JID_NODE),this.disconnect(d.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(d.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send(u({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:d.NS.AUTH}).c("username",{}).t(d.getNodeFromJid(this.jid)).tree()))},authenticate:function(t){this._attemptSASLAuth(t)||this._attemptLegacyAuth()},_sasl_challenge_cb:function(t){var e=atob(d.getText(t)),n=this._sasl_mechanism.onChallenge(this,e),r=c("response",{xmlns:d.NS.SASL});return""!==n&&r.t(btoa(n)),this.send(r.tree()),!0},_auth1_cb:function(t){var e=u({type:"set",id:"_auth_2"}).c("query",{xmlns:d.NS.AUTH}).c("username",{}).t(d.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return d.getResourceFromJid(this.jid)||(this.jid=d.getBareJidFromJid(this.jid)+"/strophe"),e.up().c("resource",{}).t(d.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(e.tree()),!1},_sasl_success_cb:function(t){var e=this;if(this._sasl_data["server-signature"]){var n,r=atob(d.getText(t)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===r[1]&&(n=r[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}d.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var o=[],i=function(t,n){for(;t.length;)e.deleteHandler(t.pop());return e._sasl_auth1_cb(n),!1};return o.push(this._addSysHandler(function(t){return i(o,t)},null,"stream:features",null,null)),o.push(this._addSysHandler(function(t){return i(o,t)},d.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(t){this.features=t;for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}if(!this.do_bind)return this._changeConnectStatus(d.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var r=d.getResourceFromJid(this.jid);return r?this.send(u({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:d.NS.BIND}).c("resource",{}).t(r).tree()):this.send(u({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:d.NS.BIND}).tree()),!1},_sasl_bind_cb:function(t){var e;if("error"===t.getAttribute("type"))return d.info("SASL binding failed."),0<t.getElementsByTagName("conflict").length&&(e=d.ErrorCondition.CONFLICT),this._changeConnectStatus(d.Status.AUTHFAIL,e,t),!1;var n=t.getElementsByTagName("bind");if(!(0<n.length))return d.info("SASL binding failed."),this._changeConnectStatus(d.Status.AUTHFAIL,null,t),!1;var r=n[0].getElementsByTagName("jid");0<r.length&&(this.jid=d.getText(r[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(u({type:"set",id:"_session_auth_2"}).c("session",{xmlns:d.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(d.Status.CONNECTED,null)))},_sasl_session_cb:function(t){if("result"===t.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(d.Status.CONNECTED,null);else if("error"===t.getAttribute("type"))return d.info("Session creation failed."),this._changeConnectStatus(d.Status.AUTHFAIL,null,t),!1;return!1},_sasl_failure_cb:function(t){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(d.Status.AUTHFAIL,null,t),!1},_auth2_cb:function(t){return"result"===t.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(d.Status.CONNECTED,null)):"error"===t.getAttribute("type")&&(this._changeConnectStatus(d.Status.AUTHFAIL,null,t),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(t,e){var n=new d.TimedHandler(t,e);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(t,e,n,r,o){var i=new d.Handler(t,e,n,r,o);return i.user=!1,this.addHandlers.push(i),i},_onDisconnectTimeout:function(){return d.info("_onDisconnectTimeout was called"),this._changeConnectStatus(d.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var t=this;0<this.addTimeds.length;)this.timedHandlers.push(this.addTimeds.pop());for(;0<this.removeTimeds.length;){var e=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(e);0<=n&&this.timedHandlers.splice(n,1)}for(var r=(new Date).getTime(),o=[],i=0;i<this.timedHandlers.length;i++){var s=this.timedHandlers[i];!this.authenticated&&s.user||(s.lastCalled+s.period-r<=0?s.run()&&o.push(s):o.push(s))}this.timedHandlers=o,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){return t._onIdle()},100))}},d.SASLMechanism=function(t,e,n){this.name=t,this.isClientFirst=e,this.priority=n},d.SASLMechanism.prototype={test:function(t){return!0},onStart:function(t){this._connection=t},onChallenge:function(t,e){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},d.SASLAnonymous=function(){},d.SASLAnonymous.prototype=new d.SASLMechanism("ANONYMOUS",!1,20),d.SASLAnonymous.prototype.test=function(t){return null===t.authcid},d.SASLPlain=function(){},d.SASLPlain.prototype=new d.SASLMechanism("PLAIN",!0,50),d.SASLPlain.prototype.test=function(t){return null!==t.authcid},d.SASLPlain.prototype.onChallenge=function(t){var e=t.authzid;return e+="\0",e+=t.authcid,e+="\0",e+=t.pass,i.default.utf16to8(e)},d.SASLSHA1=function(){},d.SASLSHA1.prototype=new d.SASLMechanism("SCRAM-SHA-1",!0,70),d.SASLSHA1.prototype.test=function(t){return null!==t.authcid},d.SASLSHA1.prototype.onChallenge=function(t,e,n){var s=n||r.default.hexdigest(1234567890*Math.random()),a="n="+i.default.utf16to8(t.authcid);return a+=",r=",a+=s,t._sasl_data.cnonce=s,a="n,,"+(t._sasl_data["client-first-message-bare"]=a),this.onChallenge=function(t,e){for(var n,r,s,a,c,u,l,d,f="c=biws,",p="".concat(t._sasl_data["client-first-message-bare"],",").concat(e,","),h=t._sasl_data.cnonce,g=/([a-z]+)=([^,]+)(,|$)/;e.match(g);){var E=e.match(g);switch(e=e.replace(E[0],""),E[1]){case"r":n=E[2];break;case"s":r=E[2];break;case"i":s=E[2]}}if(n.substr(0,h.length)!==h)return t._sasl_data={},t._sasl_failure_cb();p+=f+="r="+n,r=atob(r),r+="\0\0\0";var m=i.default.utf16to8(t.pass);for(a=u=o.default.core_hmac_sha1(m,r),l=1;l<s;l++){for(c=o.default.core_hmac_sha1(m,o.default.binb2str(u)),d=0;d<5;d++)a[d]^=c[d];u=c}a=o.default.binb2str(a);var _=o.default.core_hmac_sha1(a,"Client Key"),v=o.default.str_hmac_sha1(a,"Server Key"),C=o.default.core_hmac_sha1(o.default.str_sha1(o.default.binb2str(_)),p);for(t._sasl_data["server-signature"]=o.default.b64_hmac_sha1(v,p),d=0;d<5;d++)_[d]^=C[d];return f+",p="+btoa(o.default.binb2str(_))},a},d.SASLMD5=function(){},d.SASLMD5.prototype=new d.SASLMechanism("DIGEST-MD5",!1,60),d.SASLMD5.prototype.test=function(t){return null!==t.authcid},d.SASLMD5.prototype._quote=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},d.SASLMD5.prototype.onChallenge=function(t,e,n){for(var o=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,s=n||r.default.hexdigest(""+1234567890*Math.random()),a="",c=null,u="";e.match(o);){var l=e.match(o);switch(e=e.replace(l[0],""),l[2]=l[2].replace(/^"(.+)"$/,"$1"),l[1]){case"realm":a=l[2];break;case"nonce":u=l[2];break;case"qop":l[2];break;case"host":c=l[2]}}var d=t.servtype+"/"+t.domain;null!==c&&(d=d+"/"+c);var f=i.default.utf16to8(t.authcid+":"+a+":"+this._connection.pass),p=r.default.hash(f)+":"+u+":"+s,h="AUTHENTICATE:"+d,g="";return g+="charset=utf-8,",g+="username="+this._quote(i.default.utf16to8(t.authcid))+",",g+="realm="+this._quote(a)+",",g+="nonce="+this._quote(u)+",",g+="nc=00000001,",g+="cnonce="+this._quote(s)+",",g+="digest-uri="+this._quote(d)+",",g+="response="+r.default.hexdigest(r.default.hexdigest(p)+":"+u+":00000001:"+s+":auth:"+r.default.hexdigest(h))+",",g+="qop=auth",this.onChallenge=function(){return""},g},d.SASLOAuthBearer=function(){},d.SASLOAuthBearer.prototype=new d.SASLMechanism("OAUTHBEARER",!0,40),d.SASLOAuthBearer.prototype.test=function(t){return null!==t.pass},d.SASLOAuthBearer.prototype.onChallenge=function(t){var e="n,";return null!==t.authcid&&(e=e+"a="+t.authzid),e+=",",e+="",e+="auth=Bearer ",e+=t.pass,e+="",e+="",i.default.utf16to8(e)},d.SASLExternal=function(){},d.SASLExternal.prototype=new d.SASLMechanism("EXTERNAL",!0,10),d.SASLExternal.prototype.onChallenge=function(t){return t.authcid===t.authzid?"":t.authzid},d.SASLXOAuth2=function(){},d.SASLXOAuth2.prototype=new d.SASLMechanism("X-OAUTH2",!0,30),d.SASLXOAuth2.prototype.test=function(t){return null!==t.pass},d.SASLXOAuth2.prototype.onChallenge=function(t){var e="\0";return null!==t.authcid&&(e+=t.authzid),e+="\0",e+=t.pass,i.default.utf16to8(e)},e.default={Strophe:d,$build:c,$iq:u,$msg:function(t){return new d.Builder("message",t)},$pres:l,SHA1:o.default,MD5:r.default,b64_hmac_sha1:o.default.b64_hmac_sha1,b64_sha1:o.default.b64_sha1,str_hmac_sha1:o.default.str_hmac_sha1,str_sha1:o.default.str_sha1}},"./src/md5.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return d});var r=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},o=function(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},i=function(t,e,n,o,i,s){return r((a=r(r(e,t),r(o,s)))<<(c=i)|a>>>32-c,n);var a,c},s=function(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)},a=function(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)},c=function(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)},u=function(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)},l=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n,o,i,l,d=1732584193,f=-271733879,p=-1732584194,h=271733878,g=0;g<t.length;g+=16)d=s(n=d,o=f,i=p,l=h,t[g+0],7,-680876936),h=s(h,d,f,p,t[g+1],12,-389564586),p=s(p,h,d,f,t[g+2],17,606105819),f=s(f,p,h,d,t[g+3],22,-1044525330),d=s(d,f,p,h,t[g+4],7,-176418897),h=s(h,d,f,p,t[g+5],12,1200080426),p=s(p,h,d,f,t[g+6],17,-1473231341),f=s(f,p,h,d,t[g+7],22,-45705983),d=s(d,f,p,h,t[g+8],7,1770035416),h=s(h,d,f,p,t[g+9],12,-1958414417),p=s(p,h,d,f,t[g+10],17,-42063),f=s(f,p,h,d,t[g+11],22,-1990404162),d=s(d,f,p,h,t[g+12],7,1804603682),h=s(h,d,f,p,t[g+13],12,-40341101),p=s(p,h,d,f,t[g+14],17,-1502002290),f=s(f,p,h,d,t[g+15],22,1236535329),d=a(d,f,p,h,t[g+1],5,-165796510),h=a(h,d,f,p,t[g+6],9,-1069501632),p=a(p,h,d,f,t[g+11],14,643717713),f=a(f,p,h,d,t[g+0],20,-373897302),d=a(d,f,p,h,t[g+5],5,-701558691),h=a(h,d,f,p,t[g+10],9,38016083),p=a(p,h,d,f,t[g+15],14,-660478335),f=a(f,p,h,d,t[g+4],20,-405537848),d=a(d,f,p,h,t[g+9],5,568446438),h=a(h,d,f,p,t[g+14],9,-1019803690),p=a(p,h,d,f,t[g+3],14,-187363961),f=a(f,p,h,d,t[g+8],20,1163531501),d=a(d,f,p,h,t[g+13],5,-1444681467),h=a(h,d,f,p,t[g+2],9,-51403784),p=a(p,h,d,f,t[g+7],14,1735328473),f=a(f,p,h,d,t[g+12],20,-1926607734),d=c(d,f,p,h,t[g+5],4,-378558),h=c(h,d,f,p,t[g+8],11,-2022574463),p=c(p,h,d,f,t[g+11],16,1839030562),f=c(f,p,h,d,t[g+14],23,-35309556),d=c(d,f,p,h,t[g+1],4,-1530992060),h=c(h,d,f,p,t[g+4],11,1272893353),p=c(p,h,d,f,t[g+7],16,-155497632),f=c(f,p,h,d,t[g+10],23,-1094730640),d=c(d,f,p,h,t[g+13],4,681279174),h=c(h,d,f,p,t[g+0],11,-358537222),p=c(p,h,d,f,t[g+3],16,-722521979),f=c(f,p,h,d,t[g+6],23,76029189),d=c(d,f,p,h,t[g+9],4,-640364487),h=c(h,d,f,p,t[g+12],11,-421815835),p=c(p,h,d,f,t[g+15],16,530742520),f=c(f,p,h,d,t[g+2],23,-995338651),d=u(d,f,p,h,t[g+0],6,-198630844),h=u(h,d,f,p,t[g+7],10,1126891415),p=u(p,h,d,f,t[g+14],15,-1416354905),f=u(f,p,h,d,t[g+5],21,-57434055),d=u(d,f,p,h,t[g+12],6,1700485571),h=u(h,d,f,p,t[g+3],10,-1894986606),p=u(p,h,d,f,t[g+10],15,-1051523),f=u(f,p,h,d,t[g+1],21,-2054922799),d=u(d,f,p,h,t[g+8],6,1873313359),h=u(h,d,f,p,t[g+15],10,-30611744),p=u(p,h,d,f,t[g+6],15,-1560198380),f=u(f,p,h,d,t[g+13],21,1309151649),d=u(d,f,p,h,t[g+4],6,-145523070),h=u(h,d,f,p,t[g+11],10,-1120210379),p=u(p,h,d,f,t[g+2],15,718787259),f=u(f,p,h,d,t[g+9],21,-343485551),d=r(d,n),f=r(f,o),p=r(p,i),h=r(h,l);return[d,f,p,h]},d={hexdigest:function(t){return function(t){for(var e="0123456789abcdef",n="",r=0;r<4*t.length;r++)n+=e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15);return n}(l(o(t),8*t.length))},hash:function(t){return function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}(l(o(t),8*t.length))}}},"./src/sha1.js":function(t,e,n){"use strict";function r(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;var n,r,i,c,u,l,d,f,p,h=new Array(80),g=1732584193,E=-271733879,m=-1732584194,_=271733878,v=-1009589776;for(n=0;n<t.length;n+=16){for(c=g,u=E,l=m,d=_,f=v,r=0;r<80;r++)h[r]=r<16?t[n+r]:a(h[r-3]^h[r-8]^h[r-14]^h[r-16],1),i=s(s(a(g,5),o(r,E,m,_)),s(s(v,h[r]),(p=r)<20?1518500249:p<40?1859775393:p<60?-1894007588:-899497514)),v=_,_=m,m=a(E,30),E=g,g=i;g=s(g,c),E=s(E,u),m=s(m,l),_=s(_,d),v=s(v,f)}return[g,E,m,_,v]}function o(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function i(t,e){var n=c(t);16<n.length&&(n=r(n,8*t.length));for(var o=new Array(16),i=new Array(16),s=0;s<16;s++)o[s]=909522486^n[s],i[s]=1549556828^n[s];var a=r(o.concat(c(e)),512+8*e.length);return r(i.concat(a),672)}function s(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function a(t,e){return t<<e|t>>>32-e}function c(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}function u(t){for(var e,n,r="",o=0;o<4*t.length;o+=3)for(e=(t[o>>2]>>8*(3-o%4)&255)<<16|(t[o+1>>2]>>8*(3-(o+1)%4)&255)<<8|t[o+2>>2]>>8*(3-(o+2)%4)&255,n=0;n<4;n++)8*o+6*n>32*t.length?r+="=":r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>6*(3-n)&63);return r}function l(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}n.r(e),n.d(e,"default",function(){return d});var d={b64_hmac_sha1:function(t,e){return u(i(t,e))},b64_sha1:function(t){return u(r(c(t),8*t.length))},binb2str:l,core_hmac_sha1:i,str_hmac_sha1:function(t,e){return l(i(t,e))},str_sha1:function(t){return l(r(c(t),8*t.length))}}},"./src/strophe.js":function(t,e,n){"use strict";n.r(e),n("./src/bosh.js"),n("./src/websocket.js");var r=n("./src/core.js");n.d(e,"default",function(){return r.default})},"./src/utils.js":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,"default",function(){return o});var o={utf16to8:function(t){var e,n,r="",o=t.length;for(e=0;e<o;e++)0<=(n=t.charCodeAt(e))&&n<=127?r+=t.charAt(e):(2047<n?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63)):r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},addCookies:function(t){for(var e in t=t||{})if(Object.prototype.hasOwnProperty.call(t,e)){var n="",o="",i="",s=t[e],a="object"===r(s),c=escape(unescape(a?s.value:s));a&&(n=s.expires?";expires="+s.expires:"",o=s.domain?";domain="+s.domain:"",i=s.path?";path="+s.path:""),document.cookie=e+"="+c+n+o+i}}}},"./src/websocket.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/core.js"),o=r.default.Strophe,i=r.default.$build;o.Websocket=function(t){this._conn=t,this.strip="wrapper";var e=t.service;if(0!==e.indexOf("ws:")&&0!==e.indexOf("wss:")){var n="";"ws"===t.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==e.indexOf("/")?n+=window.location.pathname+e:n+=e,t.service=n}},o.Websocket.prototype={_buildStream:function(){return i("open",{xmlns:o.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(t,e){var n;if(0===(n=t.getElementsByTagNameNS?t.getElementsByTagNameNS(o.NS.STREAM,"error"):t.getElementsByTagName("stream:error")).length)return!1;for(var r=n[0],i="",s="",a=0;a<r.childNodes.length;a++){var c=r.childNodes[a];if("urn:ietf:params:xml:ns:xmpp-streams"!==c.getAttribute("xmlns"))break;"text"===c.nodeName?s=c.textContent:i=c.nodeName}var u="WebSocket stream error: ";return u+=i||"unknown",s&&(u+=" - "+s),o.error(u),this._conn._changeConnectStatus(e,i),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(t){if(this._check_streamerror(t,o.Status.CONNFAIL))return o.Status.CONNFAIL},_handleStreamStart:function(t){var e=!1,n=t.getAttribute("xmlns");"string"!=typeof n?e="Missing xmlns in <open />":n!==o.NS.FRAMING&&(e="Wrong xmlns in <open />: "+n);var r=t.getAttribute("version");return"string"!=typeof r?e="Missing version in <open />":"1.0"!==r&&(e="Wrong version in <open />: "+r),!e||(this._conn._changeConnectStatus(o.Status.CONNFAIL,e),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(t){if(0===t.data.indexOf("<open ")||0===t.data.indexOf("<?xml")){var e=t.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===e)return;var n=(new DOMParser).parseFromString(e,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(t.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===t.data.indexOf("<close ")){var r=(new DOMParser).parseFromString(t.data,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(t.data);var i=r.getAttribute("see-other-uri");if(i){var s=this._conn.service;(0<=s.indexOf("wss:")&&0<=i.indexOf("wss:")||0<=s.indexOf("ws:"))&&(this._conn._changeConnectStatus(o.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(o.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var a=this._streamWrap(t.data),c=(new DOMParser).parseFromString(a,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(c,null,t.data)}},_disconnect:function(t){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){t&&this._conn.send(t);var e=i("close",{xmlns:o.NS.FRAMING});this._conn.xmlOutput(e.tree());var n=o.serialize(e);this._conn.rawOutput(n);try{this.socket.send(n)}catch(t){o.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){o.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(t){return"<wrapper>"+t+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onerror=null,this.socket.close()}catch(t){o.debug(t.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(t){this._conn.connected&&!this._conn.disconnecting?(o.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):t&&1006===t.code&&!this._conn.connected&&this.socket?(o.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(o.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):o.info("Websocket closed")},_no_auth_received:function(t){o.error("Server did not offer a supported authentication mechanism"),this._changeConnectStatus(o.Status.CONNFAIL,o.ErrorCondition.NO_AUTH_MECH),t&&t.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(t){o.error("Websocket error "+t),this._conn._changeConnectStatus(o.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var t=this._conn._data;if(0<t.length&&!this._conn.paused){for(var e=0;e<t.length;e++)if(null!==t[e]){var n=void 0;n="restart"===t[e]?this._buildStream().tree():t[e];var r=o.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(r),this.socket.send(r)}this._conn._data=[]}},_onMessage:function(t){var e,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(t.data===n)return this._conn.rawInput(n),this._conn.xmlInput(t),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===t.data.search("<open ")){if(e=(new DOMParser).parseFromString(t.data,"text/xml").documentElement,!this._handleStreamStart(e))return}else{var r=this._streamWrap(t.data);e=(new DOMParser).parseFromString(r,"text/xml").documentElement}return this._check_streamerror(e,o.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===e.firstChild.nodeName&&"unavailable"===e.firstChild.getAttribute("type")?(this._conn.xmlInput(e),void this._conn.rawInput(o.serialize(e))):void this._conn._dataRecv(e,t.data)},_onOpen:function(){o.info("Websocket open");var t=this._buildStream();this._conn.xmlOutput(t.tree());var e=o.serialize(t);this._conn.rawOutput(e),this.socket.send(e)},_reqToData:function(t){return t},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}}}}).default},t.exports=r()},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=function(){function t(t,e,n,r,o,i,s){this.hasJoined=!1,this.guid=t,this.name=e,this.type=n,r&&(this.password=r),o&&(this.icon=o),i&&(this.description=i),s&&(this.hasJoined=s)}return t.prototype.getGuid=function(){return this.guid},t.prototype.setGuid=function(t){this.guid=t},t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t},t.prototype.getType=function(){return this.type},t.prototype.setType=function(t){this.type=t},t.prototype.setPassword=function(t){this.password=t},t.prototype.getIcon=function(){return this.icon},t.prototype.setIcon=function(t){this.icon=t},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(t){this.description=t},t.prototype.getOwner=function(){return this.owner},t.prototype.setOwner=function(t){this.owner=t},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.getCreatedAt=function(){return this.createdAt},t.prototype.setCreatedAt=function(t){this.createdAt=t},t.prototype.getUpdatedAt=function(){return this.updatedAt},t.prototype.setUpdatedAt=function(t){this.updatedAt=t},t.prototype.getHasJoined=function(){return this.hasJoined},t.prototype.setHasJoined=function(t){this.hasJoined=t},t.prototype.getWsChannel=function(){return this.wsChannel},t.prototype.setWsChannel=function(t){this.wsChannel=t},t.prototype.setScope=function(t){this.scope=t},t.prototype.getScope=function(){return this.scope},t.prototype.getJoinedAt=function(){return this.joinedAt},t.prototype.setJoinedAt=function(t){this.joinedAt=t},t.TYPE=r.GroupType,t.Type=t.TYPE,t}();e.Group=o},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5),o=function(){function t(){}return t.trasformJSONUser=function(t){var e;try{"offline"!=t.status&&(t.status="online"),e=new r.User(t),Object.assign(e,t),t=e}catch(t){}return t},t}();e.UsersController=o},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};e.__esModule=!0;var i=n(30),s=n(1),a=n(9),c=n(0),u=function(){function t(){}return t.executeInSync=function(t,e){var n=this;return new Promise(function(i,s){return r(n,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return n=t,e?(r=setTimeout(function(){i(t)},this.SMALL_TIMEOUT),[4,e(t)]):[3,2];case 1:n=o.sent(),o.label=2;case 2:return clearTimeout(r),i(n),[2]}})})})},t.hookBeforeMessageSent=function(t){return r(this,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<i.ExtensionManager.cometChatExtensionList.length?[4,this.getExtensionList()]:[3,7];case 2:if(!r.sent()[i.ExtensionManager.cometChatExtensionList[e].getExtensionId()])return[3,6];if(!i.ExtensionManager.cometChatExtensionList[e].beforeMessageSent)return[3,6];r.label=3;case 3:return r.trys.push([3,5,,6]),[4,this.executeInSync(t,i.ExtensionManager.cometChatExtensionList[e].beforeMessageSent)];case 4:return t=r.sent(),[3,6];case 5:return n=r.sent(),s.Logger.error("Logging error",n),[3,6];case 6:return e++,[3,1];case 7:return[2,t]}})})},t.hookAfterMessageSent=function(t){return r(this,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<i.ExtensionManager.cometChatExtensionList.length?[4,this.getExtensionList()]:[3,7];case 2:if(!r.sent()[i.ExtensionManager.cometChatExtensionList[e].getExtensionId()])return[3,6];if(!i.ExtensionManager.cometChatExtensionList[e].afterMessageSent)return[3,6];r.label=3;case 3:return r.trys.push([3,5,,6]),[4,this.executeInSync(t,i.ExtensionManager.cometChatExtensionList[e].afterMessageSent)];case 4:return t=r.sent(),[3,6];case 5:return n=r.sent(),s.Logger.error("Logging error",n),[3,6];case 6:return e++,[3,1];case 7:return[2,t]}})})},t.hookOnInit=function(t,e){return r(this,void 0,void 0,function(){var n=this;return o(this,function(s){return i.ExtensionManager.cometChatExtensionList.map(function(i){return r(n,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,this.getExtensionList()];case 1:return n.sent()[i.getExtensionId()]?t&&e&&i.onInit?[4,i.onInit(t,e)]:[3,3]:[3,5];case 2:return n.sent(),[3,5];case 3:return t&&i.onInit?[4,i.onInit(t)]:[3,5];case 4:n.sent(),n.label=5;case 5:return[2]}})})}),[2]})})},t.hookOnMessageReceived=function(t){return r(this,void 0,void 0,function(){var e,n,r;return o(this,function(o){switch(o.label){case 0:e=a.MessageController.trasformJSONMessge(t),n=0,o.label=1;case 1:return n<i.ExtensionManager.cometChatExtensionList.length?[4,this.getExtensionList()]:[3,7];case 2:if(!o.sent()[i.ExtensionManager.cometChatExtensionList[n].getExtensionId()])return[3,6];if(!i.ExtensionManager.cometChatExtensionList[n].onMessageReceived)return[3,6];o.label=3;case 3:return o.trys.push([3,5,,6]),[4,this.executeInSync(e,i.ExtensionManager.cometChatExtensionList[n].onMessageReceived)];case 4:return t=o.sent(),[3,6];case 5:return r=o.sent(),s.Logger.error("Logging error",r),[3,6];case 6:return n++,[3,1];case 7:return[2,t]}})})},t.hookOnLogin=function(t){return r(this,void 0,void 0,function(){var e=this;return o(this,function(n){return i.ExtensionManager.cometChatExtensionList.map(function(n){return r(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.getExtensionList()];case 1:return e.sent()[n.getExtensionId()]&&t&&n.onLogin?[4,n.onLogin(t)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})}),[2]})})},t.executeInSyncBulk=function(t,e){var n=this;return new Promise(function(i,s){return r(n,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return n=t,e?(r=setTimeout(function(){i(t)},this.BIG_TIMEOUT),[4,e(t)]):[3,2];case 1:n=o.sent(),o.label=2;case 2:return clearTimeout(r),i(n),[2]}})})})},t.hookOnMessageListIsFetched=function(t){return r(this,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<i.ExtensionManager.cometChatExtensionList.length?[4,this.getExtensionList()]:[3,7];case 2:if(!r.sent()[i.ExtensionManager.cometChatExtensionList[e].getExtensionId()])return[3,6];if(!i.ExtensionManager.cometChatExtensionList[e].onMessageListFetched)return[3,6];r.label=3;case 3:return r.trys.push([3,5,,6]),[4,this.executeInSyncBulk(t,i.ExtensionManager.cometChatExtensionList[e].onMessageListFetched)];case 4:return t=r.sent(),[3,6];case 5:return n=r.sent(),s.Logger.error("Logging error",n),[3,6];case 6:return e++,[3,1];case 7:return[2,t]}})})},t.getExtensionList=function(){return r(this,void 0,void 0,function(){var t=this;return o(this,function(e){switch(e.label){case 0:return s.isFalsy(this.extentionList)?[4,s.getAppSettings()]:[3,2];case 1:e.sent()[c.APP_SETTINGS.KEYS.EXTENSION_LIST].map(function(e){t.extentionList[e.id]=e}),e.label=2;case 2:return[2,this.extentionList]}})})},t.SMALL_TIMEOUT=5e3,t.BIG_TIMEOUT=2e4,t.extentionList={},t}();e.ExtensionController=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var i=n(1),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.onAction=void 0,this.onTextMessageReceived=void 0,this.onMediaMessageReceived=void 0,this.onCustomMessageReceived=void 0,this.onCall=void 0,this.onTypingStarted=void 0,this.onTypingEnded=void 0,this.onMessageDelivered=void 0,this.onMessageRead=void 0,this.onMessageEdited=void 0,this.onMessageDeleted=void 0,i.isFalsy(t[0].onAction)||(this.onAction=t[0].onAction),i.isFalsy(t[0].onTextMessageReceived)||(this.onTextMessageReceived=t[0].onTextMessageReceived),i.isFalsy(t[0].onMediaMessageReceived)||(this.onMediaMessageReceived=t[0].onMediaMessageReceived),i.isFalsy(t[0].onCall)||(this.onCall=t[0].onCall),i.isFalsy(t[0].onTypingStarted)||(this.onTypingStarted=t[0].onTypingStarted),i.isFalsy(t[0].onTypingEnded)||(this.onTypingEnded=t[0].onTypingEnded),i.isFalsy(t[0].onMessageDelivered)||(this.onMessageDelivered=t[0].onMessageDelivered),i.isFalsy(t[0].onMessageRead)||(this.onMessageRead=t[0].onMessageRead),i.isFalsy(t[0].onCustomMessageReceived)||(this.onCustomMessageReceived=t[0].onCustomMessageReceived),i.isFalsy(t[0].onMessageEdited)||(this.onMessageEdited=t[0].onMessageEdited),i.isFalsy(t[0].onMessageDeleted)||(this.onMessageDeleted=t[0].onMessageDeleted)};e.MessageEventListener=s;var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.onIncomingCallReceived=void 0,this.onOutgoingCallAccepted=void 0,this.onOutgoingCallRejected=void 0,this.onIncomingCallCancelled=void 0,i.isFalsy(t[0].onIncomingCallReceived)||(this.onIncomingCallReceived=t[0].onIncomingCallReceived),i.isFalsy(t[0].onOutgoingCallAccepted)||(this.onOutgoingCallAccepted=t[0].onOutgoingCallAccepted),i.isFalsy(t[0].onOutgoingCallRejected)||(this.onOutgoingCallRejected=t[0].onOutgoingCallRejected),i.isFalsy(t[0].onIncomingCallCancelled)||(this.onIncomingCallCancelled=t[0].onIncomingCallCancelled)};e.CallEventListener=a;var c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.isFalsy(t[0].onUserOnline)||(this.onUserOnline=t[0].onUserOnline),i.isFalsy(t[0].onUserOffline)||(this.onUserOffline=t[0].onUserOffline)};e.UserEventListener=c;var u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.isFalsy(t[0].onGroupMemberJoined)||(this.onUserJoined=t[0].onGroupMemberJoined),i.isFalsy(t[0].onGroupMemberLeft)||(this.onUserLeft=t[0].onGroupMemberLeft),i.isFalsy(t[0].onGroupMemberKicked)||(this.onUserKicked=t[0].onGroupMemberKicked),i.isFalsy(t[0].onGroupMemberBanned)||(this.onUserBanned=t[0].onGroupMemberBanned),i.isFalsy(t[0].onGroupMemberUnbanned)||(this.onUserUnbanned=t[0].onGroupMemberUnbanned),i.isFalsy(t[0].onGroupMemberScopeChanged)||(this.onMemberScopeChanged=t[0].onGroupMemberScopeChanged),i.isFalsy(t[0].onMemberAddedToGroup)||(this.onMemberAddedToGroup=t[0].onMemberAddedToGroup),i.isFalsy(t[0].onAddedToGroup)||(this.onAddedToGroup=t[0].onAddedToGroup)};e.GroupEventListener=u;var l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.isFalsy(t[0].onYouLeft)||(this.onYouLeft=t[0].onYouLeft),i.isFalsy(t[0].onYouJoined)||(this.onYouJoined=t[0].onYouJoined),i.isFalsy(t[0].onUserJoined)||(this.onUserJoined=t[0].onUserJoined),i.isFalsy(t[0].onUserLeft)||(this.onUserLeft=t[0].onUserLeft),i.isFalsy(t[0].onCallEnded)||(this.onCallEnded=t[0].onCallEnded),i.isFalsy(t[0].onError)||(this.onError=t[0].onError)};e.UserCallEventListener=l;var d=function(t,e){this._name=t,this._callback=e},f=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(e,t),e}(e.Listener=d);e.MessageListener=f;var p=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(e,t),e}(d);e.UserListener=p;var h=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(e,t),e}(d);e.GroupListener=h;var g=function(t){function e(e,n,r){var o=t.call(this,"callListner",r)||this;return o._eventListener=e,o}return o(e,t),e}(d);e.UserCallListener=g;var E=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i._eventListener=n,i}return o(e,t),e}(d);e.CallListener=E},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var o=n(2),i=n(1),s=n(0),a=n(11),c=function(){function t(t){this.store=s.constants.DEFAULT_STORE,o.CometChat.isNative||(i.isFalsy(t)||(this.store=t),this.messagesStore=a.createInstance({name:i.format(s.LOCAL_STORE.STORE_STRING,o.CometChat.getAppId(),s.LOCAL_STORE.MESSAGES_STORE)}),this.messagesStore.setDriver([a.LOCALSTORAGE,a.INDEXEDDB,a.WEBSQL]))}return t.getInstance=function(){return null==t.MessagesStore&&(t.MessagesStore=new t),t.MessagesStore},t.prototype.set=function(t,e){return this.messagesStore.setItem(t,e)},t.prototype.remove=function(t){this.messagesStore.removeItem(t)},t.prototype.get=function(t){return this.messagesStore.getItem(t)},t.prototype.clearStore=function(){return this.messagesStore.clear()},t.prototype.getAllMessages=function(){var t=this,e={};return new Promise(function(n,o){t.messagesStore.iterate(function(t,n,o){n!=s.constants.MSG_VER_POST&&n!=s.constants.MSG_VER_POST&&(e=r({},e,t))}).then(function(){n(e)})})},t.prototype.clear=function(t){},t.prototype.selectStore=function(t){this.store=t},t.prototype.storeMessages=function(t){var e=this;if(o.CometChat.user.getUid()){var n=o.CometChat.user.getUid(),a={},c=0;return this.get(s.constants.MSG_VER_POST).then(function(o){t.map(function(t){var e;if(!i.isFalsy(t)){0==c&&(c=parseInt(t.getId().toString())),c>t.getId()&&(c=parseInt(t.getId().toString())),o<t.getId()&&(o=parseInt(t.getId().toString()));var u=void 0;u=t.getSender()instanceof Object?t.getSender().getUid():t.getSender(),t.getReceiverType()==s.MessageConstatnts.RECEIVER_TYPE.GROUP&&(u=t.getReceiver()),t.getSender()instanceof Object?t.getSender().getUid()==n&&(u=t.getReceiver()):t.getSender()==n&&(u=t.getReceiver()),a[u]||(a[u]={}),a[u]=r({},a[u],((e={})[t.getId()]=t,e))}}),e.get(s.constants.MSG_VER_PRE).then(function(t){(0<c&&c<t||null==t)&&e.set(s.constants.MSG_VER_PRE,c)})&&0<o&&e.set(s.constants.MSG_VER_POST,o),Object.keys(a).map(function(t){e.get(t).then(function(n){null==n&&(n={}),e.set(t,r({},a[t],n))})})}),!0}},t}();e.MessagesStore=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(10),a=n(13),c=n(5),u=n(0),l=n(1),d=n(9),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.actionFromJSON=function(t){var e=new this(t[u.MessageConstatnts.KEYS.RECEIVER],t[u.MessageConstatnts.KEYS.TYPE],t[u.MessageConstatnts.KEYS.RECEIVER_TYPE],u.MessageCategory.ACTION),n=t[u.MessageConstatnts.KEYS.DATA];if(e.data=n,e.setAction(n[u.MessageConstatnts.KEYS.ACTION]),n[u.ActionConstatnts.ACTION_KEYS.EXTRAS]){var r=n[u.ActionConstatnts.ACTION_KEYS.EXTRAS];if(r[u.ActionConstatnts.ACTION_KEYS.SCOPE]){var o=r[u.ActionConstatnts.ACTION_KEYS.SCOPE];o[u.ActionConstatnts.ACTION_KEYS.NEW]&&o[u.ActionConstatnts.ACTION_KEYS.OLD]&&(e.setOldScope(o[u.ActionConstatnts.ACTION_KEYS.OLD]),e.setNewScope(o[u.ActionConstatnts.ACTION_KEYS.NEW]))}}n[u.MessageConstatnts.KEYS.METADATA]&&e.setMetadata(n[u.MessageConstatnts.KEYS.METADATA]);var i=n[u.ActionConstatnts.ACTION_KEYS.ENTITIES];if(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY])if(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==u.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var s=new c.User(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.ActionConstatnts.ACTION_KEYS.ENTITY]);Object.assign(s,i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionBy=s,e.setSender(s)}else{var l=new a.Group("","","");Object.assign(l,i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionBy=l}if(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR]&&(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==u.ActionConstatnts.ACTION_ENTITY_TYPE.USER?(s=new c.User(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(s,i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionFor=s):(l=new a.Group("","",""),Object.assign(l,i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][u.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionFor=l)),i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON])if(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==u.ActionConstatnts.ACTION_ENTITY_TYPE.USER)s=new c.User(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(s,i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionOn=s;else if(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==u.ActionConstatnts.ACTION_ENTITY_TYPE.GROUP)l=new a.Group("","",""),Object.assign(l,i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionOn=l;else if(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==u.ActionConstatnts.ACTION_ENTITY_TYPE.MESSAGE){var f=d.MessageController.trasformJSONMessge(i[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][u.ActionConstatnts.ACTION_KEYS.ENTITY]);e.actionOn=f}return e.setMessage(e.getActionMessage(e)),e},e.prototype.getOldScope=function(){return this.oldScope},e.prototype.getNewScope=function(){return this.newScope},e.prototype.setNewScope=function(t){this.newScope=t},e.prototype.setOldScope=function(t){this.oldScope=t},e.prototype.setRawData=function(t){this.rawData=t},e.prototype.getRawData=function(){return this.rawData},e.prototype.setMessage=function(t){this.message=t},e.prototype.getMessage=function(){return this.message},e.prototype.setAction=function(t){this.action=t},e.prototype.getAction=function(){return this.action},e.prototype.getSender=function(){try{return this.getSenderFromData()}catch(t){return this.sender}},e.prototype.setActionBy=function(t){this.actionBy=t},e.prototype.getActionBy=function(){return this.actionBy},e.prototype.setActionOn=function(t){this.actionOn=t},e.prototype.getActionOn=function(){return this.actionOn},e.prototype.setActionFor=function(t){this.actionFor=t},e.prototype.getActionFor=function(){return this.actionFor},e.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getActionMessage=function(t){var e="";switch(t.getType()){case u.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_USER:case u.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP:switch(t.getAction()){case u.ActionConstatnts.ACTION_KEYS.ACTION_CREATED:case u.ActionConstatnts.ACTION_KEYS.ACTION_UPDATED:case u.ActionConstatnts.ACTION_KEYS.ACTION_DELETED:}break;case u.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP_MEMBER:switch(t.getAction()){case u.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_JOINED:var n=t.getActionBy(),r=t.getActionFor();e=l.format(u.ActionConstatnts.ActionMessages.ACTION_GROUP_JOINED_MESSAGE,n.getName(),r.getName());break;case u.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_LEFT:n=t.getActionBy(),r=t.getActionFor(),e=l.format(u.ActionConstatnts.ActionMessages.ACTION_GROUP_LEFT_MESSAGE,n.getName(),r.getName());break;case u.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_KICKED:n=t.getActionBy(),r=t.getActionFor();var o=t.getActionOn();e=l.format(u.ActionConstatnts.ActionMessages.ACTION_MEMBER_KICKED_MESSAGE,n.getName(),o,r.getName());break;case u.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_BANNED:n=t.getActionBy(),r=t.getActionFor(),o=t.getActionOn(),e=l.format(u.ActionConstatnts.ActionMessages.ACTION_MEMBER_BANNED_MESSAGE,n.getName(),r.getName());break;case u.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_UNBANNED:n=t.getActionBy(),r=t.getActionFor(),o=t.getActionOn(),e=l.format(u.ActionConstatnts.ActionMessages.ACTION_MEMBER_UNBANNED_MESSAGE,n.getName(),r.getName());break;case u.ActionConstatnts.ACTION_KEYS.ACTION_SCOPE_CHANGED:n=t.getActionBy(),r=t.getActionFor(),o=t.getActionOn(),e=l.format(u.ActionConstatnts.ActionMessages.ACTION_MEMBER_SCOPE_CHANGED,n.getName(),r.getName());break;case u.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_ADDED:n=t.getActionBy(),r=t.getActionFor(),o=t.getActionOn(),e=l.format(u.ActionConstatnts.ActionMessages.ACTION_MEMBER_ADDED_TO_GROUP,n.getName(),r.getName());break;case u.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_EDITED:e=l.format(u.ActionConstatnts.ActionMessages.ACTION_MESSAGE_EDITED_MESSAGE,"");break;case u.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_DELETED:e=l.format(u.ActionConstatnts.ActionMessages.ACTION_MESSAGE_DELETED_MESSAGE,"")}}return e},e.prototype.getSenderFromData=function(){var t=this.data[u.ActionConstatnts.ACTION_KEYS.ENTITIES];if(t[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&t[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==u.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var e=new c.User(t[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.ActionConstatnts.ACTION_KEYS.ENTITY]);return Object.assign(e,t[u.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][u.ActionConstatnts.ACTION_KEYS.ENTITY]),e}},e.TYPE=u.MessageConstatnts.TYPE,e.RECEIVER_TYPE=u.MessageConstatnts.RECEIVER_TYPE,e.CATEGORY=u.MessageConstatnts.CATEGORY,e.ACTION_TYPE=u.ActionConstatnts.ACTION_TYPE,e}(s.BaseMessage);e.Action=f},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(10),a=n(13),c=n(0),u=n(1),l=n(5),d=function(t){function e(e,n,r,o){return u.isFalsy(o)?t.call(this,e,n,r,c.MessageCategory.CALL)||this:t.call(this,e,n,r,o)||this}return o(e,t),e.prototype.getCallInitiator=function(){return this.getCallInitiatedByFromData()},e.prototype.getCallReceiver=function(){return this.getCallReceivedByFromData()},e.prototype.setCallInitiator=function(t){this.callInitiator=t},e.prototype.setCallReceiver=function(t){this.callReceiver=t},e.prototype.getData=function(){return this.data},e.prototype.setData=function(t){this.data=t},e.prototype.getSessionId=function(){return this.sessionId},e.prototype.setSessionId=function(t){this.sessionId=t},e.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},e.prototype.getSender=function(){try{return this.getSenderFromData()}catch(e){return this.sender}},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getAction=function(){return this.action},e.prototype.setAction=function(t){this.action=t},e.prototype.getInitiatedAt=function(){return this.initiatedAt},e.prototype.setInitiatedAt=function(t){this.initiatedAt=t},e.prototype.getJoinedAt=function(){return this.joinedAt},e.prototype.setJoinedAt=function(t){this.joinedAt=t},e.prototype.setRawData=function(t){this.rawData=t},e.prototype.getRawData=function(){return this.rawData},e.prototype.setSender=function(t){this.sender=t},e.callFromJSON=function(t){var e=new this(t[c.MessageConstatnts.KEYS.RECEIVER],t[c.MessageConstatnts.KEYS.TYPE],t[c.MessageConstatnts.KEYS.RECEIVER_TYPE],c.MessageCategory.CALL),n=t[c.MessageConstatnts.KEYS.DATA];e.setAction(n[c.MessageConstatnts.KEYS.ACTION]),n[c.MessageConstatnts.KEYS.METADATA]&&e.setMetadata(n[c.MessageConstatnts.KEYS.METADATA]);var r=n[c.ActionConstatnts.ACTION_KEYS.ENTITIES];if(r[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&r[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY],r[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON]){var o=r[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON];if(o[c.CallConstants.CALL_KEYS.CALL_ENTITY]){var i=o[c.CallConstants.CALL_KEYS.CALL_ENTITY];if(i[c.CallConstants.CALL_KEYS.CALL_SESSION_ID]&&(e.sessionId=i[c.CallConstants.CALL_KEYS.CALL_SESSION_ID]),i[c.CallConstants.CALL_KEYS.CALL_STATUS]&&(e.status=i[c.CallConstants.CALL_KEYS.CALL_STATUS]),i[c.CallConstants.CALL_KEYS.CALL_DATA]){var s=i[c.CallConstants.CALL_KEYS.CALL_DATA];s[c.CallConstants.CALL_KEYS.CALL_METADATA]&&(e.metadata=s[c.CallConstants.CALL_KEYS.CALL_METADATA]),s[c.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES]&&s[c.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES]}i[c.CallConstants.CALL_KEYS.CALL_INITIATED_AT]&&(e.initiatedAt=i[c.CallConstants.CALL_KEYS.CALL_INITIATED_AT]),i[c.CallConstants.CALL_KEYS.CALL_JOINED_AT]&&(e.joinedAt=i[c.CallConstants.CALL_KEYS.CALL_JOINED_AT]),i[c.CallConstants.CALL_KEYS.CALL_LEFT_AT]&&(e.joinedAt=i[c.CallConstants.CALL_KEYS.CALL_LEFT_AT])}}return e},e.prototype.getSenderFromData=function(){var t=this.getData();if((t=t[c.ActionConstatnts.ACTION_KEYS.ENTITIES])[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.CallConstants.CALL_KEYS.CALL_ENTITY])return new l.User(t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.CallConstants.CALL_KEYS.CALL_ENTITY])},e.prototype.getCallInitiatedByFromData=function(){var t=this.getData();if((t=t[c.ActionConstatnts.ACTION_KEYS.ENTITIES])[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.CallConstants.CALL_KEYS.CALL_ENTITY][c.CallConstants.CALL_KEYS.CALL_DATA][c.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][c.CallConstants.CALL_KEYS.CALL_SENDER])return new l.User(t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.CallConstants.CALL_KEYS.CALL_ENTITY][c.CallConstants.CALL_KEYS.CALL_DATA][c.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][c.CallConstants.CALL_KEYS.CALL_SENDER][c.CallConstants.CALL_KEYS.CALL_ENTITY])},e.prototype.getCallReceivedByFromData=function(){var t=this.getData();if((t=t[c.ActionConstatnts.ACTION_KEYS.ENTITIES])[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.CallConstants.CALL_KEYS.CALL_ENTITY]){if(t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.CallConstants.CALL_KEYS.CALL_ENTITY_TYPE]==c.CallConstants.CALL_KEYS.CALL_ENTITY_USER)return new l.User(t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.CallConstants.CALL_KEYS.CALL_ENTITY]);var e=new a.Group(t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.CallConstants.CALL_KEYS.CALL_ENTITY][c.GroupConstants.KEYS.GUID],t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.CallConstants.CALL_KEYS.CALL_ENTITY][c.GroupConstants.KEYS.NAME],t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.CallConstants.CALL_KEYS.CALL_ENTITY][c.GroupConstants.KEYS.TYPE]);return Object.assign(e,t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.CallConstants.CALL_KEYS.CALL_ENTITY])}},e.TYPE=c.MessageConstatnts.TYPE,e.RECEIVER_TYPE=c.MessageConstatnts.RECEIVER_TYPE,e.CATEGORY=c.MessageConstatnts.CATEGORY,e.ACTION_TYPE=c.ActionConstatnts.ACTION_TYPE,e}(s.BaseMessage);e.Call=d},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(0),i=n(11),s=n(2),a=function(){function t(t){this.store=o.constants.DEFAULT_STORE,s.CometChat.isNative||(r.isFalsy(t)||(this.store=t),this.settingsStore=i.createInstance({name:r.format(o.LOCAL_STORE.STORE_STRING,s.CometChat.getAppId(),o.LOCAL_STORE.MESSAGE_LISTENERS_LIST)}),this.settingsStore.setDriver([i.LOCALSTORAGE,i.INDEXEDDB,i.WEBSQL]))}return t.getInstance=function(){return null==t.settingsStore&&(t.settingsStore=new t),t.settingsStore},t.prototype.set=function(t,e){return this.settingsStore.setItem(t,e)},t.prototype.remove=function(t){this.settingsStore.removeItem(t)},t.prototype.get=function(t){return this.settingsStore.getItem(t)},t.prototype.clearStore=function(){return this.settingsStore.clear()},t.prototype.clear=function(t){},t.prototype.selectStore=function(t){this.store=t},t.settingsStore=null,t}();e.MessageListnerMaping=a},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(0),i=n(6),s=function(){function t(){this.baseUrl="https://kohoutek.cometchat.com/",this.apiVersion="v1.8",this.apiBaseUrl=this.baseUrl+this.apiVersion+"/",this.adminApiUrl="https://api.cometchat.com/",this.adminApiVersion="v1.8",this.uriEndpoints={authToken:{endpoint:"users/{{uid}}/auth_tokens",method:"POST",data:{uid:"string|max:100"},isAdminApi:!0},appSettings:{endpoint:"settings",method:"GET"},login:{endpoint:"admin/users/auth",method:"POST",data:{uid:"string|max:100"}},logout:{endpoint:"admin/users/auth/{{authToken}}",method:"DELETE"},getMyDetails:{endpoint:"me",method:"GET"},updateMyDetails:{endpoint:"/me",method:"PUT"},users:{endpoint:"users",method:"GET"},user:{endpoint:"users/{{uid}}",method:"GET"},blockUsers:{endpoint:"blockedusers",method:"POST"},blockedUsersList:{endpoint:"blockedusers",method:"GET"},unblockUsers:{endpoint:"blockedusers",method:"DELETE"},userLogout:{endpoint:"me",method:"DELETE"},sendFriendRequests:{endpoint:"user/friends",method:"POST",data:{uids:"array<string|max:100>"}},getFriends:{endpoint:"user/friends",method:"GET"},unfriend:{endpoint:"user/friends/{{uid}}/{{gid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},acceptFriendRequest:{endpoint:"user/friends/{{uid}}/accept",method:"PUT",data:{uids:"array<string|max:100>"}},rejectFriendRequest:{endpoint:"user/friends/{{uid}}/reject",method:"DELETE",data:{uids:"array<string|max:100>"}},createGroup:{endpoint:"groups",method:"POST",data:{guid:"required|string|max:100",name:"required|string|max:100",type:"enum|public,protected,password",password:"filled|string|max:100"}},getGroups:{endpoint:"groups",method:"GET"},getGroup:{endpoint:"groups/{{guid}}",method:"GET"},updateGroup:{endpoint:"groups/{{guid}}",method:"PUT"},deleteGroup:{endpoint:"groups/{{guid}}",method:"DELETE"},addGroupMembers:{endpoint:"groups/{{guid}}/members",method:"POST",data:{uids:"array<string|max:100>"}},getGroupMembers:{endpoint:"groups/{{guid}}/members",method:"GET"},joinGroup:{endpoint:"groups/{{guid}}/members",method:"POST"},leaveGroup:{endpoint:"groups/{{guid}}/members",method:"DELETE"},kickGroupMembers:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},changeScopeOfMember:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"PUT",data:{uids:"array<string|max:100>"}},banGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"POST",data:{uids:"array<string|max:100>"}},unbanGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},addMemebersToGroup:{endpoint:"groups/{{guid}}/members",method:"PUT"},getBannedGroupMembers:{endpoint:"groups/{{guid}}/bannedusers",method:"GET"},promotemoteGroupMember:{endpoint:"groups/{{guid}}/promote",method:"PUT",data:{uids:"array<string|max:100>"}},demoteGroupMember:{endpoint:"groups/{{guid}}/demote",method:"DELETE",data:{uids:"array<string|max:100>"}},sendMessage:{endpoint:"messages",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},getMessages:{endpoint:"messages",method:"GET"},getMessageDetails:{endpoint:"messages/{{messageId}}",method:"GET"},getUserMessages:{endpoint:"users/{{listId}}/messages",method:"GET"},getGroupMessages:{endpoint:"groups/{{listId}}/messages",method:"GET"},getMessage:{endpoint:"user/messages/{{muid}}",method:"GET"},updateMessage:{endpoint:"messages/{{messageId}}",method:"PUT"},deleteMessage:{endpoint:"messages/{{messageId}}",method:"DELETE"},createCallSession:{endpoint:"calls",method:"POST",data:{}},updateCallSession:{endpoint:"calls/{{sessionid}}",method:"put",data:{}}}}return t.prototype.getEndpointData=function(e){return new Promise(function(n,s){i.LocalStorage.getInstance().get(o.APP_SETTINGS.APP_SETTINGS).then(function(i){if(r.isFalsy(i)){var s={};if((new t).uriEndpoints.hasOwnProperty(e))if((s=(new t).uriEndpoints[e]).hasOwnProperty("isAdminApi")){var a=(new t).adminApiUrl+(new t).adminApiVersion+"/"+s.endpoint;s.endpoint=a}else a=(new t).baseUrl+(new t).apiVersion+"/"+s.endpoint,s.endpoint=a;n(s)}else s={},(new t).uriEndpoints.hasOwnProperty(e)&&((s=(new t).uriEndpoints[e]).hasOwnProperty("isAdminApi")?s.endpoint="https://"+i[o.APP_SETTINGS.KEYS.ADMIN_API_HOST]+"/"+(new t).adminApiVersion+"/"+s.endpoint:(a="https://"+i[o.APP_SETTINGS.KEYS.CLIENT_API_HOST]+"/"+(new t).apiVersion+"/"+s.endpoint,s.endpoint=a)),n(s)},function(r){var o;(new t).uriEndpoints.hasOwnProperty(e)&&((o=(new t).uriEndpoints[e]).hasOwnProperty(["isAdminApi"])?o.endpoint=(new t).adminApiUrl+(new t).adminApiVersion+"/"+o.endpoint:o.endpoint=(new t).baseUrl+(new t).apiVersion+"/"+o.endpoint),n(o)})})},t}();e.EndpointFactory=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(10),a=n(0),c=n(5),u=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o,a.MessageCategory.MESSAGE)||this;switch(r){case"text":i.data={text:n},i.text=n}return i}return o(e,t),e.prototype.getSender=function(){try{return this.getSenderFromData()}catch(e){return this.sender}},e.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getData=function(){return this.data},e.prototype.setData=function(t){this.data=t},e.prototype.getText=function(){return this.text},e.prototype.setText=function(t){this.text=t,this.data.text=t},e.prototype.setProcessedText=function(t){this.processedText=t},e.prototype.getProcessedText=function(){return this.processedText},e.prototype.getSenderFromData=function(){var t=this.getData();if(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new c.User(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])},e.TYPE=a.MessageConstatnts.TYPE.TEXT,e.RECEIVER_TYPE=a.MessageConstatnts.RECEIVER_TYPE,e.CATEGORY=a.MessageConstatnts.CATEGORY.MESSAGE,e}(s.BaseMessage);e.TextMessage=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(10),a=n(0),c=n(5),u=function(t){function e(e,n,r,o){var i=this;return(i=t.call(this,e,r,o,a.MessageCategory.MESSAGE)||this).data={url:"object"!=typeof n?n:void 0},"object"!=typeof(i.file=n)&&(i.url=n),i}return o(e,t),e.prototype.setCaption=function(t){this.caption=t,this.data[a.MessageConstatnts.KEYS.TEXT]=t},e.prototype.getCaption=function(){return this.data[a.MessageConstatnts.KEYS.TEXT]},e.prototype.getSender=function(){try{return this.getSenderFromData()}catch(e){return this.sender}},e.prototype.getUrl=function(){return this.url},e.prototype.setUrl=function(t){this.url=t},e.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getData=function(){return this.data},e.prototype.setData=function(t){this.data=t},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment=t},e.prototype.getSenderFromData=function(){var t=this.getData();if(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new c.User(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])},e.TYPE=a.MessageConstatnts.TYPE,e.RECEIVER_TYPE=a.MessageConstatnts.RECEIVER_TYPE,e.CATEGORY=a.MessageConstatnts.CATEGORY,e}(s.BaseMessage);e.MediaMessage=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(10),a=n(0),c=n(5),u=n(1),l=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this;if(3==e.length){var o=e[0],i=e[1],s=e[2];(r=t.call(this,o,a.MessageConstatnts.TYPE.CUSTOM,i,a.MessageCategory.MESSAGE)||this).customData=s,u.isFalsy(r.data)&&(r.data={}),r.data[a.MessageConstatnts.KEYS.CUSTOM_DATA]=s}if(4==e.length){o=e[0],i=e[1];var c=e[2];s=e[3],(r=t.call(this,o,c,i,a.MessageCategory.CUSTOM)||this).customData=s,u.isFalsy(r.data)&&(r.data={}),r.data[a.MessageConstatnts.KEYS.CUSTOM_DATA]=s}return r}return o(e,t),e.prototype.getCustomData=function(){return this.customData},e.prototype.setCustomData=function(t){this.customData=t,this.data[a.MessageConstatnts.KEYS.CUSTOM_DATA]=t},e.prototype.getSender=function(){try{return this.getSenderFromData()}catch(e){return this.sender}},e.prototype.getSubType=function(){return this.subType},e.prototype.setSubType=function(t){this.subType=t,this.data=i({},this.data,{subType:t})},e.prototype.getMetadata=function(){return this.metadata},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getData=function(){return this.data},e.prototype.getSenderFromData=function(){var t=this.getData();if(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new c.User(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])},e}(s.BaseMessage);e.CustomMessage=l},function(t,e,n){"use strict";e.__esModule=!0;var r=n(41),o=n(0),i=function(){function t(){}return t.transformPresence=function(t){return t.getAttribute("type")?new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),o.PresenceConstatnts.STATUS.OFFLINE,(new Date).getTime()):new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),o.PresenceConstatnts.STATUS.ONLINE,(new Date).getTime())},t.transformPresences=function(t){var e=[];return t.map(function(t){try{e.push(new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.STATUS),t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.LAST_ACTIVE_AT)))}catch(t){}}),e},t.transformMUCUserPresence=function(t){return t.getAttribute("type")?new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),o.PresenceConstatnts.STATUS.LEFT,(new Date).getTime()):new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),o.PresenceConstatnts.STATUS.JOINED,(new Date).getTime())},t.trandformMUCPresence=function(t){0<t.getElementsByTagName("x").length&&this.transformMUCUserPresence(t)},t}();e.PresenceController=i},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=n(8),i=n(1),s=n(2),a=n(26),c=n(3),u=n(16),l=n(6),d=function(){function e(){this.TAG="calling Log",this.callListner=void 0,this.CALL_NO_ANSWER_INTERVAL=45e3,this.view=void 0,this.scrollHight=0,this.scrollHight=0}return e.prototype.getCallListner=function(){return this.callListner},e.prototype.setCallListner=function(t){this.callListner=new u.UserCallListener(t)},e.getInstance=function(){return null!=this.callController&&null!=this.callController||(this.callController=new e),this.callController},e.prototype.getActiveCall=function(){return i.isFalsy(this.call)?null:this.call},e.prototype.initiateCall=function(t){var e=this;return new Promise(function(n,o){i.isFalsy(e.call)?null!=t&&null!=t?(e.call=t,e.joinCallMuc(t.getSessionId()),e.startCallTimer(),n(t)):o(new c.CometChatException(r.CALL_ERROR.ERROR_IN_CALLING)):o(new c.CometChatException(r.CALL_ERROR.CALL_ALREADY_INITIATED))})},e.prototype.onCallInitialized=function(){},e.prototype.joinCall=function(t){i.Logger.log(this.TAG,t)},e.prototype.cancelCall=function(){i.Logger.log(this.TAG,"calceling the call"),this.stopCallTimer()},e.prototype.rejectCall=function(){i.Logger.log(this.TAG,"rejectCall")},e.prototype.sendBusyResponse=function(){i.Logger.log(this.TAG,"sendBusyResponse")},e.prototype.endCall=function(t){var e=this;s.CometChat.isNative||document.getElementsByName("frame").forEach(function(t){e.view.removeChild(t),e.view=void 0}),this.endCallSession()},e.prototype.onCallEnded=function(){var t=this;i.isFalsy(this.call)||(this.call.getReceiverType()==r.CallConstants.RECEIVER_TYPE_GROUP?i.Logger.info(this.TAG,JSON.stringify(this.call)+"This call ended"):(document.getElementsByName("frame").forEach(function(e){t.view.removeChild(e),t.view=void 0}),this.endCallSession()))},e.prototype.unAnswerCall=function(){i.Logger.log(this.TAG,"unAnswerCall")},e.prototype.onCallStarted=function(t){var e=this;return new Promise(function(n,o){i.isFalsy(e.call)?null!=t&&null!=t?(e.call=t,e.joinCallMuc(t.getSessionId()),n(t)):o(new c.CometChatException(r.CALL_ERROR.ERROR_IN_CALLING)):o(new c.CometChatException(r.CALL_ERROR.CALL_ALREADY_INITIATED))})},e.prototype.endCallSession=function(){try{this.leaveCallMuc(this.call.getSessionId()),this.call=void 0,e.callController=void 0,this.timer&&this.stopCallTimer(),this.view=void 0}catch(t){i.Logger.error("EndCallSession",{e:t})}},e.prototype.joinCallMuc=function(t){var e=this;i.getAppSettings().then(function(n){o.XMPPConnectionHelper.getInstance().connection.muc.join(i.format(r.XMPP.muc_jid_string,s.CometChat.getAppId(),t,s.CometChat.getAppId(),"call."+n[r.APP_SETTINGS.KEYS.CHAT_HOST]),o.XMPPConnectionHelper.getInstance().connection.jid,null,function(t){try{var s=a.PresenceController.transformPresence(t);o.XMPPConnectionHelper.getInstance().getUsersVCard(s.getUid(),function(n){if(!i.isFalsy(n.getUid()))switch(n.setLastActiveAt(s.getLastActiveAt()),s.getStatus()){case r.PresenceConstatnts.STATUS.ONLINE:n.setStatus(r.PresenceConstatnts.STATUS.ONLINE);break;default:n.setStatus(r.PresenceConstatnts.STATUS.OFFLINE)}switch(a.PresenceController.transformMUCUserPresence(t).getStatus()){case r.PresenceConstatnts.STATUS.JOINED:e.callListner&&(i.isFalsy(e.callListner._eventListener.onUserJoined)||e.callListner._eventListener.onUserJoined(n));break;case r.PresenceConstatnts.STATUS.LEFT:e.callListner&&(i.isFalsy(e.callListner._eventListener.onUserLeft)||e.callListner._eventListener.onUserLeft(n))}})}catch(n){}return!0})},function(t){})},e.prototype.leaveCallMuc=function(t){i.getAppSettings().then(function(e){o.XMPPConnectionHelper.getInstance().connection.muc.leave(i.format(r.XMPP.muc_jid_string,s.CometChat.getAppId(),t,s.CometChat.getAppId(),"call."+e[r.APP_SETTINGS.KEYS.CHAT_HOST]),o.XMPPConnectionHelper.getInstance().connection.jid)})},e.prototype.startCallTimer=function(){var t=this;this.timer=setTimeout(function(){s.CometChat.sendUnansweredResponse(t.call.getSessionId()).then(function(e){t.endCallSession()})},this.CALL_NO_ANSWER_INTERVAL)},e.prototype.stopCallTimer=function(){clearTimeout(this.timer)},e.prototype.startCall=function(t,n,r){var o=this;if(null==this.view){this.timer&&this.stopCallTimer(),i.isFalsy(n)||this.setCallListner(n);var a=document.createElement("iframe");this.getCallUrl(this.call.getType()).then(function(n){if(a.src=n+"",a.name="frame",a.setAttribute("allow","camera,microphone"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),e.callScreen=a,t&&(o.view=t),s.CometChat.isNative)return o.view.props.prop1(r,n),void(o.view.props.onMessage=function(t){});t.appendChild(a),window.addEventListener("message",function(t){"hangup"==t.data.type&&o.call&&(i.Logger.info(o.TAG,o.callListner),o.callListner&&o.callListner._eventListener.onCallEnded(o.call),s.CometChat.endCall(o.call.getSessionId()).then(function(t){o.callListner&&o.callListner._eventListener.onCallEnded(t),i.Logger.info(o.TAG,{call:t})}).catch(function(t){i.Logger.info(o.TAG,"The Call Was Already Ended")}))})})}},e.prototype.getCallUrl=function(t){var e=this,n=void 0;return new Promise(function(o,s){l.LocalStorage.getInstance().get(r.APP_SETTINGS.APP_SETTINGS).then(function(s){i.isFalsy(s)?i.getAppSettings().then(function(i){n="https://"+i[r.APP_SETTINGS.KEYS.WEBRTC_HOST],n=t==r.CallConstants.CALL_TYPE_AUDIO?n+"/"+e.call.getSessionId()+"#config.startWithVideoMuted=true&config.startWithAudioMuted=false":n+"/"+e.call.getSessionId()+"#config.startWithAudioMuted=false&config.startWithAudioMuted=false",o(n)}):(n="https://"+s[r.APP_SETTINGS.KEYS.WEBRTC_HOST],n=t==r.CallConstants.CALL_TYPE_AUDIO?n+"/"+e.call.getSessionId()+"#config.startWithVideoMuted=true&config.startWithAudioMuted=false":n+"/"+e.call.getSessionId()+"#config.startWithAudioMuted=false&config.startWithAudioMuted=false",o(n))})})},e.toggleAudio=function(){this.callScreen&&this.callScreen.contentWindow.postMessage({action:"audio"},"*")},e.toggleVideo=function(){this.callScreen&&this.callScreen.contentWindow.postMessage({action:"video"},"*")},e.leave=function(){this.callScreen&&this.callScreen.contentWindow.postMessage({action:"leave"},"*")},e.prototype.destroy=function(){i.isFalsy(this.call)||(this.call=void 0),i.isFalsy(this.timer)||(this.timer=void 0),i.isFalsy(this.view)||(this.view=void 0)},e.callController=void 0,e}();e.CallController=d},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e,n){this.receiverId=t,this.receiverType=e,this.metadata=n}return t.prototype.getReceiverType=function(){return this.receiverType},t.prototype.setReceiverType=function(t){this.receiverType=t},t.prototype.getReceiverId=function(){return this.receiverId},t.prototype.setReceiverId=function(t){this.receiverId=t},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.getSender=function(){return this.sender},t.prototype.setSender=function(t){this.sender=t},t}();e.TypingIndicator=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(0),i=n(8),s=function(){function t(){}return t.addTypingStarted=function(t){this.TYPING_STARTED_MAP[t]=r.getCurrentTime()},t.removeTypingStarted=function(t){delete this.TYPING_STARTED_MAP[t]},t.getTypingStartedMap=function(t){if(t)return this.TYPING_STARTED_MAP[t]},t.addTypingEnded=function(t){this.TYPING_ENDED_MAP[t]=r.getCurrentTime()},t.removeTypingEnded=function(t){delete this.TYPING_ENDED_MAP[t]},t.getTypingEndedMap=function(t){if(t)return this.TYPING_ENDED_MAP[t]},t.addIncomingTypingStarted=function(t){this.INCOMING_TYPING_STARTED_MAP[t.getReceiverId()]={typingNotification:t,timestamp:r.getCurrentTime()}},t.removeIncomingTypingStarted=function(t){delete this.INCOMING_TYPING_STARTED_MAP[t.getReceiverId()]},t.clearTimer=function(){var t=this;new Promise(function(e,n){Object.keys(t.TYPING_STARTED_MAP).map(function(e){r.getCurrentTime()-t.TYPING_STARTED_MAP[e]>=1e3*o.DEFAULT_VALUES.DEFAULT_MAX_TYPING_INDICATOR_LIMIT&&delete t.TYPING_STARTED_MAP[e]})}),new Promise(function(e,n){Object.keys(t.TYPING_ENDED_MAP).map(function(e){r.getCurrentTime()-t.TYPING_ENDED_MAP[e]>=1e3*o.DEFAULT_VALUES.DEFAULT_MAX_TYPING_INDICATOR_LIMIT&&delete t.TYPING_ENDED_MAP[e]})}),new Promise(function(e,n){Object.keys(t.INCOMING_TYPING_STARTED_MAP).map(function(e){r.getCurrentTime()-t.INCOMING_TYPING_STARTED_MAP[e][o.TYPING_NOTIFICATION.KEYS.TIMESTAMP]>=1e3*o.DEFAULT_VALUES.DEFAULT_MAX_TYPING_INDICATOR_LIMIT&&(i.XMPPConnectionHelper.getInstance().publishTypinStatusNotification(t.INCOMING_TYPING_STARTED_MAP[e][o.TYPING_NOTIFICATION.KEYS.TYPING_NOTIFICATION],o.TYPING_NOTIFICATION.ACTIONS.ENDED),delete t.INCOMING_TYPING_STARTED_MAP[e])})})},t.TYPING_STARTED_MAP={},t.TYPING_ENDED_MAP={},t.INCOMING_TYPING_STARTED_MAP={},t}();e.TypingNotificationController=s},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};e.__esModule=!0;var i=n(2),s=function(){function t(){}return t.addCometChatExtension=function(e){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return t.cometChatExtensionList.push(e),i.CometChat.user?[4,e.onInit(i.CometChat.getAppId(),i.CometChat.user)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.onInit(i.CometChat.getAppId())];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.cometChatExtensionList=[],t}();e.ExtensionManager=s},function(t,e,n){"use strict";e.__esModule=!0;var r=n(13),o=n(0),i=function(){function t(){}return t.trasformJSONGroup=function(t){var e;try{e=new r.Group(t[o.GroupConstants.KEYS.GUID],t[o.GroupConstants.KEYS.NAME],t[o.GroupConstants.KEYS.NAME]),Object.assign(e,t),t=e}catch(t){}return t},t}();e.GroupsController=i},function(t,e,n){"use strict";e.__esModule=!0;var r=n(2),o=n(1),i=n(0),s=n(11),a=function(){function t(t){this.store=i.constants.DEFAULT_STORE,o.isFalsy(t)||(this.store=t),r.CometChat.isNative||(this.userStore=s.createInstance({name:o.format(i.LOCAL_STORE.STORE_STRING,r.CometChat.getAppId(),i.LOCAL_STORE.USERS_STORE)}),this.userStore.setDriver([s.LOCALSTORAGE,s.INDEXEDDB,s.WEBSQL]))}return t.getInstance=function(){return null==t.UserStore&&(t.UserStore=new t),t.UserStore},t.prototype.set=function(t,e){return this.userStore.setItem(t,e)},t.prototype.remove=function(t){this.userStore.removeItem(t)},t.prototype.get=function(t){return this.userStore.getItem(t)},t.prototype.clearStore=function(){return this.userStore.clear()},t.prototype.clear=function(t){},t.prototype.selectStore=function(t){this.store=t},t.prototype.storeUsers=function(t){var e=this;return t.map(function(t){e.set(t.getUid(),t)}),!0},t.prototype.storeUser=function(t){return this.set(t.getUid(),t),!0},t}();e.UserStore=a},function(t,e,n){"use strict";e.__esModule=!0,e.SERVER_ERRORS={AUTH_ERR:{code:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND",message:"The auth token %s% does not exist. Please make sure you are logged in and have a valid auth token or try login again."}},e.ERRORS={PARAMETER_MISSING:{code:"MISSING_PARAMETERS",name:"MISSING/ INVALID PARAMETER"},NOT_INITIALIZED:{code:"NOT_INITIALIZED",name:"INITIALIZATION NOT DONE"},NO_INTERNET:{code:"NO_INTERNET",name:"COULD NOT INITIALIZE"}},e.INIT_ERROR={NO_APP_ID:{code:e.ERRORS.PARAMETER_MISSING.code,name:e.ERRORS.PARAMETER_MISSING.name,message:"mandatory parameter appId missing",details:{}},NO_INTERNET_CONNECTION:{code:e.ERRORS.NO_INTERNET.code,name:e.ERRORS.NO_INTERNET.name,message:"you do not have internet connection.",details:{}}},e.GROUP_CREATION_ERRORS={EMPTY_PASSWORD:{code:"ERR_EMPTY_GROUP_PASS",details:void 0,message:"The password is required to join a group.",name:void 0}},e.MESSAGES_REQUEST_ERRORS={REQUEST_IN_PROGRESS_ERROR:{code:"REQUEST_IN_PROGRESS",name:"REQUEST_IN_PROGRESS",message:"request already in progress",details:{}},NOT_ENOUGH_PARAMS:{code:"NOT_ENOUGH_PARAMETERS",name:"NOT_ENOUGH_PARAMETERS",message:"you need to set timstamp or message id to fetch next set of messages",details:{}}},e.LOGIN_ERROR={NOT_INITIALIZED:{code:"-1",name:"COMETCHAT_INITIALIZATION_NOT_DONE",message:"please initialize the cometchat before using login method",details:{}},UNAUTHORISED:{code:401,name:"USER_NOT_AUTHORISED",message:"provided user is not authorised",details:{}},XMPP_CONNECTION_FAIL:{code:-1,name:"XMPP_CONNECTION_FAIL",message:"XMPP username/password not correct",details:{}}},e.TYPINGNOTIFICATION_CONSTANTS={TOO_MANY_REQUEST:{code:"TOO_MANY_REQUEST",name:"TOO MANY REQUEST",message:"too many request, wait for `%s` seconds before sending next request",details:{}}}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=function(){function t(t,e){this.joinedAt=0,this.isBanned=0,this.uid=t,e&&(this.scope=e)}return t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t},t.prototype.getAvatar=function(){return this.avatar},t.prototype.setAvatar=function(t){this.avatar=t},t.prototype.getCredits=function(){return this.credits},t.prototype.setCredits=function(t){this.credits=t},t.prototype.getEmail=function(){return this.email},t.prototype.setEmail=function(t){this.email=t},t.prototype.getLastActiveAt=function(){return this.lastActiveAt},t.prototype.setLastActiveAt=function(t){this.lastActiveAt=t},t.prototype.getLink=function(){return this.link},t.prototype.setLink=function(t){this.link=t},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.getRole=function(){return this.role},t.prototype.setRole=function(t){this.role=t},t.prototype.getStatus=function(){return this.status},t.prototype.setStatus=function(t){this.status=t},t.prototype.getStatusMessage=function(){return this.statusMessage},t.prototype.setStatusMessage=function(t){this.statusMessage=t},t.prototype.setGuid=function(t){this.guid=t},t.prototype.setUid=function(t){this.uid=t},t.prototype.setScope=function(t){this.scope=t},t.prototype.setJoinedAt=function(t){this.joinedAt=t},t.prototype.setIsBanned=function(t){this.isBanned=t},t.prototype.setUser=function(t){this.user=t},t.prototype.getGuid=function(){return this.guid},t.prototype.getUid=function(){return this.uid},t.prototype.getuser=function(){return this.user},t.prototype.getScope=function(){return this.scope},t.prototype.getJoinedAt=function(){return this.joinedAt},t.prototype.getIsBanned=function(){return this.isBanned},t.GroupMemberScope=r.GroupMemberScope,t}();e.GroupMember=o},function(t,e){function n(t,e){for(var n in t)e[n]=t[n]}function r(t,e){var r=t.prototype;if(Object.create){var o=Object.create(e.prototype);r.__proto__=o}if(!(r instanceof e)){function i(){}i.prototype=e.prototype,n(r,i=new i),t.prototype=r=i}r.constructor!=t&&(r.constructor=t)}var o="http://www.w3.org/1999/xhtml",i={},s=i.ELEMENT_NODE=1,a=i.ATTRIBUTE_NODE=2,c=i.TEXT_NODE=3,u=i.CDATA_SECTION_NODE=4,l=i.ENTITY_REFERENCE_NODE=5,d=i.ENTITY_NODE=6,f=i.PROCESSING_INSTRUCTION_NODE=7,p=i.COMMENT_NODE=8,h=i.DOCUMENT_NODE=9,g=i.DOCUMENT_TYPE_NODE=10,E=i.DOCUMENT_FRAGMENT_NODE=11,m=i.NOTATION_NODE=12,_={},v={},C=(_.INDEX_SIZE_ERR=(v[1]="Index size error",1),_.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),_.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),S=(_.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),_.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),_.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),_.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),_.NOT_FOUND_ERR=(v[8]="Not found",8)),y=(_.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),_.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));function T(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,v[t]),this.message=v[t],Error.captureStackTrace&&Error.captureStackTrace(this,T);return n.code=t,e&&(this.message=this.message+": "+e),n}function A(){}function I(t,e){this._node=t,this._refresh=e,R(this)}function R(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);nt(t,"length",r.length),n(r,t),t._inc=e}}function N(){}function O(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function M(t,e,n,r){if(r?e[O(e,r)]=n:e[e.length++]=n,t){var o=(n.ownerElement=t).ownerDocument;o&&(r&&U(o,t,r),s=t,a=n,(i=o)&&i._inc++,"http://www.w3.org/2000/xmlns/"==a.namespaceURI&&(s._nsMap[a.prefix?a.localName:""]=a.value))}var i,s,a}function b(t,e,n){var r=O(e,n);if(!(0<=r))throw T(S,new Error(t.tagName+"@"+n));for(var o=e.length-1;r<o;)e[r]=e[++r];if(e.length=o,t){var i=t.ownerDocument;i&&(U(i,t,n),n.ownerElement=null)}}function P(t){if(this._features={},t)for(var e in t)this._features=t[e]}function w(){}function L(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function D(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(D(t,e))return!0}while(t=t.nextSibling)}function x(){}function U(t,e,n,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function Y(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var o=e.firstChild,i=0;o;)o=(r[i++]=o).nextSibling;r.length=i}}}function k(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,Y(t.ownerDocument,t),e}function F(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===E){var o=e.firstChild;if(null==o)return e;var i=e.lastChild}else o=i=e;var s=n?n.previousSibling:t.lastChild;for(o.previousSibling=s,i.nextSibling=n,s?s.nextSibling=o:t.firstChild=o,null==n?t.lastChild=i:n.previousSibling=i;o.parentNode=t,o!==i&&(o=o.nextSibling););return Y(t.ownerDocument||t,t),e.nodeType==E&&(e.firstChild=e.lastChild=null),e}function G(){this._nsMap={}}function j(){}function K(){}function B(){}function H(){}function V(){}function q(){}function $(){}function X(){}function J(){}function W(){}function z(){}function Q(){}function Z(t,e){var n=[],r=9==this.nodeType?this.documentElement:this,o=r.prefix,i=r.namespaceURI;if(i&&null==o&&null==(o=r.lookupPrefix(i)))var s=[{namespace:i,prefix:null}];return et(this,n,t,e,s),n.join("")}function tt(t,e,n){var r=t.prefix||"",o=t.namespaceURI;if(!r&&!o)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var i=n.length;i--;){var s=n[i];if(s.prefix==r)return s.namespace!=o}return!0}function et(t,e,n,r,i){if(r){if(!(t=r(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case s:i||(i=[]),i.length;var d=t.attributes,m=d.length,_=t.firstChild,v=t.tagName;n=o===t.namespaceURI||n,e.push("<",v);for(var C=0;C<m;C++)"xmlns"==(S=d.item(C)).prefix?i.push({prefix:S.localName,namespace:S.value}):"xmlns"==S.nodeName&&i.push({prefix:"",namespace:S.value});for(C=0;C<m;C++){var S;if(tt(S=d.item(C),0,i)){var y=S.prefix||"",T=S.namespaceURI,A=y?" xmlns:"+y:" xmlns";e.push(A,'="',T,'"'),i.push({prefix:y,namespace:T})}et(S,e,n,r,i)}if(tt(t,0,i)&&(y=t.prefix||"",T=t.namespaceURI,A=y?" xmlns:"+y:" xmlns",e.push(A,'="',T,'"'),i.push({prefix:y,namespace:T})),_||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(e.push(">"),n&&/^script$/i.test(v))for(;_;)_.data?e.push(_.data):et(_,e,n,r,i),_=_.nextSibling;else for(;_;)et(_,e,n,r,i),_=_.nextSibling;e.push("</",v,">")}else e.push("/>");return;case h:case E:for(_=t.firstChild;_;)et(_,e,n,r,i),_=_.nextSibling;return;case a:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,L),'"');case c:return e.push(t.data.replace(/[<&]/g,L));case u:return e.push("<![CDATA[",t.data,"]]>");case p:return e.push("\x3c!--",t.data,"--\x3e");case g:var I=t.publicId,R=t.systemId;if(e.push("<!DOCTYPE ",t.name),I)e.push(' PUBLIC "',I),R&&"."!=R&&e.push('" "',R),e.push('">');else if(R&&"."!=R)e.push(' SYSTEM "',R,'">');else{var N=t.internalSubset;N&&e.push(" [",N,"]"),e.push(">")}return;case f:return e.push("<?",t.target," ",t.data,"?>");case l:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function nt(t,e,n){t[e]=n}_.INVALID_STATE_ERR=(v[11]="Invalid state",11),_.SYNTAX_ERR=(v[12]="Syntax error",12),_.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),_.NAMESPACE_ERR=(v[14]="Invalid namespace",14),_.INVALID_ACCESS_ERR=(v[15]="Invalid access",15),T.prototype=Error.prototype,n(_,T),A.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],r=0;r<this.length;r++)et(this[r],n,t,e);return n.join("")}},I.prototype.item=function(t){return R(this),this[t]},r(I,A),N.prototype={length:0,item:A.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new T(y);var n=this.getNamedItem(t.nodeName);return M(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new T(y);return e=this.getNamedItemNS(t.namespaceURI,t.localName),M(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return b(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return b(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},P.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var r=new x;if(r.implementation=this,r.childNodes=new A,(r.doctype=n)&&r.appendChild(n),e){var o=r.createElementNS(t,e);r.appendChild(o)}return r},createDocumentType:function(t,e,n){var r=new q;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},w.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return F(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return k(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,r){var o=new n.constructor;for(var i in n){var c=n[i];"object"!=typeof c&&c!=o[i]&&(o[i]=c)}switch(n.childNodes&&(o.childNodes=new A),o.ownerDocument=e,o.nodeType){case s:var u=n.attributes,l=o.attributes=new N,d=u.length;l._ownerElement=o;for(var f=0;f<d;f++)o.setAttributeNode(t(e,u.item(f),!0));break;case a:r=!0}if(r)for(var p=n.firstChild;p;)o.appendChild(t(e,p,r)),p=p.nextSibling;return o}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==c&&t.nodeType==c?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},n(i,w),n(i,w.prototype),x.prototype={nodeName:"#document",nodeType:h,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType!=E)return null==this.documentElement&&t.nodeType==s&&(this.documentElement=t),F(this,t,e),t.ownerDocument=this,t;for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),k(this,t)},importNode:function(t,e){return function t(e,n,r){var o;switch(n.nodeType){case s:(o=n.cloneNode(!1)).ownerDocument=e;case E:break;case a:r=!0}if(o||(o=n.cloneNode(!1)),o.ownerDocument=e,o.parentNode=null,r)for(var i=n.firstChild;i;)o.appendChild(t(e,i,r)),i=i.nextSibling;return o}(this,t,e)},getElementById:function(t){var e=null;return D(this.documentElement,function(n){if(n.nodeType==s&&n.getAttribute("id")==t)return e=n,!0}),e},createElement:function(t){var e=new G;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new A,(e.attributes=new N)._ownerElement=e},createDocumentFragment:function(){var t=new W;return t.ownerDocument=this,t.childNodes=new A,t},createTextNode:function(t){var e=new B;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new H;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new V;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new z;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new j;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new J;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new G,r=e.split(":"),o=n.attributes=new N;return n.childNodes=new A,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,o._ownerElement=n},createAttributeNS:function(t,e){var n=new j,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},r(x,w),x.prototype.getElementsByTagName=(G.prototype={nodeType:s,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===E?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e),r=t.lastChild}return r=t.lastChild,e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,Y(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new I(this,function(e){var n=[];return D(e,function(r){r===e||r.nodeType!=s||"*"!==t&&r.tagName!=t||n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new I(this,function(n){var r=[];return D(n,function(o){o===n||o.nodeType!==s||"*"!==t&&o.namespaceURI!==t||"*"!==e&&o.localName!=e||r.push(o)}),r})}}).getElementsByTagName,x.prototype.getElementsByTagNameNS=G.prototype.getElementsByTagNameNS,r(G,w),j.prototype.nodeType=a,r(j,w),K.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(v[C])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},r(K,w),B.prototype={nodeName:"#text",nodeType:c,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(B,K),H.prototype={nodeName:"#comment",nodeType:p},r(H,K),V.prototype={nodeName:"#cdata-section",nodeType:u},r(V,K),q.prototype.nodeType=g,r(q,w),$.prototype.nodeType=m,r($,w),X.prototype.nodeType=d,r(X,w),J.prototype.nodeType=l,r(J,w),W.prototype.nodeName="#document-fragment",W.prototype.nodeType=E,r(W,w),z.prototype.nodeType=f,r(z,w),Q.prototype.serializeToString=function(t,e,n){return Z.call(t,e,n)},w.prototype.toString=Z;try{Object.defineProperty&&(Object.defineProperty(I.prototype,"length",{get:function(){return R(this),this.$$length}}),Object.defineProperty(w.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case s:case E:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case s:case E:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),nt=function(t,e,n){t["$$"+e]=n})}catch(t){}e.DOMImplementation=P,e.XMLSerializer=Q},function(t,e,n){"use strict";e.__esModule=!0;var r=n(2);e.init=function(t){return r.CometChat.getInstance(t)},e.CometChat=r.CometChat},function(t,e,n){"use strict";e.__esModule=!0;var r=n(22);e.getEndPoint=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});var n=new r.EndpointFactory;return new Promise(function(r,o){n.getEndpointData(t).then(function(t){var n=t;if(n){for(var i in e)n.endpoint=n.endpoint.replace("{{"+i+"}}",e[i]);r(n)}else o({error:"Unknown endPoint name."})})})}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(12),o=n(7),i=n(0),s=n(1);e.$iq=r.$iq,e.$build=r.$build,e.$msg=r.$msg,e.$pres=r.$pres,e.Strophe=r.Strophe,e.NS=r.Strophe.NS,e.Status=r.Strophe.Status,window.Strophe=e.Strophe,window.$iq=e.$iq,window.$msg=e.$msg,e.Strophe.addConnectionPlugin("chatstates",{init:function(t){this._connection=t,e.Strophe.addNamespace("CHATSTATES","http://jabber.org/protocol/chatstates")},statusChanged:function(t){},addActive:function(t){return t.c("active",{xmlns:e.Strophe.NS.CHATSTATES}).up()},_notificationReceived:function(t){var e=t.getElementsByTagName("composing"),n=t.getElementsByTagName("paused");return t.getAttribute("from"),0<e.length&&JSON.stringify(unescape(o.parseHTML(t.getElementsByTagName("body")[0]))),n.length,!0},sendActive:function(t,e,n){this._sendNotification(t,e,"active",n)},sendComposing:function(t,e,n){this._sendNotification(t,e,"composing",n)},sendPaused:function(t,e,n){this._sendNotification(t,e,"paused",n)},sendInactive:function(t,e){this._sendNotification(t,e,"inactive")},sendGone:function(t,e){this._sendNotification(t,e,"gone")},_sendNotification:function(t,n,r,o){n||(n="chat"),s.isFalsy(o)?this._connection.send(e.$msg({to:t,from:this._connection.jid,type:n}).c(r,{xmlns:e.Strophe.NS.CHATSTATES})):this._connection.send(e.$msg({to:t,from:this._connection.jid,type:n}).c("body",JSON.stringify(o)).up().c(r,{xmlns:e.Strophe.NS.CHATSTATES}))}}),e.Strophe.addConnectionPlugin("receipts",{_conn:null,_msgQueue:{},_retries:{},_resendCount:10,_resendTime:9e3,init:function(t){this._conn=t,e.Strophe.addNamespace("RECEIPTS","urn:xmpp:receipts")},statusChanged:function(t){if(t===e.Strophe.Status.CONNECTED||t===e.Strophe.Status.ATTACHED){this._conn.addHandler(this._onRequestReceived.bind(this),e.Strophe.NS.RECEIPTS,"message");var n=this;setTimeout(function(){n.resendQueue()},5e3)}},sendMessage:function(t){var n=this._conn.getUniqaueId();t.tree().setAttribute("id",n);var r=e.Strophe.xmlElement("request",{xmlns:e.Strophe.NS.RECEIPTS});return t.tree().appendChild(r),this._msgQueue[n]=t,this._retries[n]=0,this._conn.send(t),this.resendMessage(n),n},resendMessage:function(t){var e=this;setTimeout(function(){if(e._msgQueue[t]){if(!e._conn.connected)return void e.resendMessage(t);if(e._retries[t]++,e._retries[t]>e._resendCount)return;e._msgQueue[t].tree().setAttribute("from",e._conn.jid),e._conn.send(e._msgQueue[t]),e.resendMessage(t)}},this._resendTime)},addReceiptHandler:function(t,n,r,o){var i=this;this._conn.addHandler(function(e){return i._processReceipt(e),t(e)},e.Strophe.NS.RECEIPTS,"message",n,null,r,o)},_processReceipt:function(t,n){void 0===n&&(n=0);var r=t.getAttribute(i.DELIVERY_RECEIPTS.ID),s=e.Strophe.getBareJidFromJid(t.getAttribute(i.MessageConstatnts.XMPP_KEYS.FROM)),a=o.getUidFromJid(s),c=i.MessageConstatnts.XMPP_KEYS.TYPE_USER,u=i.MessageConstatnts.RECEIVER_TYPE.USER,l=t.getElementsByTagName("request"),d=t.getElementsByTagName("received");if(t.getAttribute(i.MessageConstatnts.XMPP_KEYS.TYPE)==i.MessageConstatnts.XMPP_KEYS.TYPE_GROUP&&(u=i.MessageConstatnts.RECEIVER_TYPE.GROUP,s=o.getFullJidForGroup(t.getAttribute(i.MessageConstatnts.XMPP_KEYS.FROM)),c=i.MessageConstatnts.XMPP_KEYS.TYPE_USER),0<l.length){var f=e.$msg({to:s,type:c,from:this._conn.jid,id:this._conn.getUniqueId()}),p=e.Strophe.xmlElement("delivered",{type:u,receiverId:a,xmlns:e.Strophe.NS.RECEIPTS,id:r});f.tree().appendChild(p),this._conn.send(f)}if(0<d.length){var h=d[0].getAttribute(i.DELIVERY_RECEIPTS.ID);h&&(delete this._msgQueue[h],delete this._retries[h])}},resendQueue:function(){if(this._conn.connected)for(var t in this._msgQueue)this._msgQueue.hasOwnProperty(t)&&this._conn.send(this._msgQueue[t]);else{var e=this;setTimeout(function(){e.resendQueue()},5e3)}},getUnreceivedMsgs:function(){var t=[];for(var e in this._msgQueue)this._msgQueue.hasOwnProperty(e)&&t.push(this._msgQueue[e]);return t},clearMessages:function(){this._msgQueue={}}})},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(){this.RECEIPT_TYPE={READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"},this.receiptType=this.RECEIPT_TYPE.DELIVERY_RECEIPT}return t.prototype.getReceiverType=function(){return this.receiverType},t.prototype.setReceiverType=function(t){this.receiverType=t},t.prototype.getSender=function(){return this.sender},t.prototype.setSender=function(t){this.sender=t},t.prototype.getReceiver=function(){return this.receiver},t.prototype.setReceiver=function(t){this.receiver=t},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(t){this.timestamp=t},t.prototype.setReadAt=function(t){this.readAt=t},t.prototype.getReceivedAt=function(){return this.readAt},t.prototype.setDeliveredAt=function(t){this.deliveredAt=t},t.prototype.getDeliveredAt=function(){return this.deliveredAt},t.prototype.getMessageId=function(){return this.messageId},t.prototype.setMessageId=function(t){this.messageId=t},t.prototype.getReceiptType=function(){return this.receiptType},t.prototype.setReceiptType=function(t){void 0===t&&(t=this.RECEIPT_TYPE.DELIVERY_RECEIPT),this.receiptType=t},t}();e.MessageReceipt=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=function(){function t(t){t.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION)&&(this.fileEextension=t[r.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION]),t.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE)&&(this.fileMimeType=t[r.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE]),t.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.NAME)&&(this.fileName=t[r.ATTACHMENTS_CONSTANTS.KEYS.NAME]),t.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.SIZE)&&(this.fileSize=t[r.ATTACHMENTS_CONSTANTS.KEYS.SIZE]),t.hasOwnProperty(r.ATTACHMENTS_CONSTANTS.KEYS.URL)&&(this.fileUrl=t[r.ATTACHMENTS_CONSTANTS.KEYS.URL])}return t.prototype.createFileFromJSON=function(e){return new t(e)},t.prototype.toJSON=function(t){return JSON.stringify(t)},t.prototype.getFileExtension=function(){return this.fileEextension},t.prototype.setFileExtension=function(t){this.fileEextension=t},t.prototype.getFileMimeType=function(){return this.fileMimeType},t.prototype.setFileMimeType=function(t){this.fileMimeType=t},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(t){this.fileName=t},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(t){this.fileSize=t},t.prototype.getFileUrl=function(){return this.fileUrl},t.prototype.setFileUrl=function(t){this.fileUrl=t},t}();e.Attachment=o},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(7),i=function(){function t(t,e,n,i){r.isFalsy(t)||(this.jid=t,this.uid=o.getUidFromJid(t),r.isFalsy(i)||(this.priority=i),r.isFalsy(e)||(this.status=e),r.isFalsy(n)||(this.lastActiveAt=n))}return t.prototype.getUid=function(){return this.uid},t.prototype.setUid=function(t){this.uid=t},t.prototype.getJid=function(){return this.jid},t.prototype.setJid=function(t){this.jid=t},t.prototype.getPriority=function(){return this.priority},t.prototype.setPriority=function(t){this.priority=t},t.prototype.getStatus=function(){return this.status},t.prototype.setStatus=function(t){this.status=t},t.prototype.getLastActiveAt=function(){return this.lastActiveAt},t.prototype.setLastActiveAt=function(t){this.lastActiveAt=t},t.prototype.getStatusMessage=function(){return this.statusMessage},t.prototype.setStatusMessage=function(t){this.statusMessage=t},t}();e.UserPresence=i},function(t,e,n){!function(t){"use strict";var e,n,r={}.hasOwnProperty,o=function(t,e){return function(){return t.apply(e,arguments)}};t.Strophe.addConnectionPlugin("muc",{_connection:null,rooms:{},roomNames:[],init:function(e){return this._connection=e,this._muc_handler=null,t.Strophe.addNamespace("MUC_OWNER",t.Strophe.NS.MUC+"#owner"),t.Strophe.addNamespace("MUC_ADMIN",t.Strophe.NS.MUC+"#admin"),t.Strophe.addNamespace("MUC_USER",t.Strophe.NS.MUC+"#user"),t.Strophe.addNamespace("MUC_ROOMCONF",t.Strophe.NS.MUC+"#roomconfig"),t.Strophe.addNamespace("MUC_REGISTER","jabber:iq:register")},join:function(e,r,o,i,s,a,c,u){var l,d,f;return d=this.test_append_nick(e,r),l=t.$pres({from:this._connection.jid,to:d}).c("x",{xmlns:t.Strophe.NS.MUC}),null!=c&&(l=l.c("history",c).up()),null!=a&&l.cnode(t.Strophe.xmlElement("password",[],a)),null!=u&&l.up().cnode(u),null==this._muc_handler&&(this._muc_handler=this._connection.addHandler((f=this,function(n){var r,o,i,s,a,c,u,l,d;if(!(r=n.getAttribute("from")))return!0;if(c=r.split("/")[0],!f.rooms[c])return!0;if(e=f.rooms[c],o={},"message"===n.nodeName)o=e._message_handlers;else if("presence"===n.nodeName&&0<(d=n.getElementsByTagName("x")).length)for(i=0,a=d.length;i<a;i++)if(u=d[i],(l=u.getAttribute("xmlns"))&&l.match(t.Strophe.NS.MUC)){o=e._presence_handlers;break}for(s in o)(0,o[s])(n,e)||delete o[s];return!0}))),this.rooms.hasOwnProperty(e)||(this.rooms[e]=new n(this,e,r,a),i&&this.rooms[e].addHandler("presence",i),o&&this.rooms[e].addHandler("message",o),s&&this.rooms[e].addHandler("roster",s),this.roomNames.push(e)),this._connection.send(l)},leave:function(e,n,r,o){var i,s,a,c;return i=this.roomNames.indexOf(e),delete this.rooms[e],0<=i&&(this.roomNames.splice(i,1),0===this.roomNames.length&&(this._connection.deleteHandler(this._muc_handler),this._muc_handler=null)),c=this.test_append_nick(e,n),a=this._connection.getUniqueId(),s=t.$pres({type:"unavailable",id:a,from:this._connection.jid,to:c}),null!=o&&s.c("status",o),null!=r&&this._connection.addHandler(r,null,"presence",null,a),this._connection.send(s),a},message:function(e,n,r,o,i,s){var a,c,u;return u=this.test_append_nick(e,n),i=i||(null!=n?"chat":"groupchat"),s=s||this._connection.getUniqueId(),(a=t.$msg({to:u,from:this._connection.jid,type:i,id:s}).c("body").t(r)).up(),null!=o&&(a.c("html",{xmlns:t.Strophe.NS.XHTML_IM}).c("body",{xmlns:t.Strophe.NS.XHTML}).h(o),0===a.node.childNodes.length?(c=a.node.parentNode,a.up().up(),a.node.removeChild(c)):a.up().up()),a.c("x",{xmlns:"jabber:x:event"}).c("composing"),this._connection.send(a),s},groupchat:function(t,e,n,r){return this.message(t,null,e,n,void 0,r)},invite:function(e,n,r){var o,i;return i=this._connection.getUniqueId(),o=t.$msg({from:this._connection.jid,to:e,id:i}).c("x",{xmlns:t.Strophe.NS.MUC_USER}).c("invite",{to:n}),null!=r&&o.c("reason",r),this._connection.send(o),i},multipleInvites:function(e,n,r){var o,i,s,a,c;for(a=this._connection.getUniqueId(),i=t.$msg({from:this._connection.jid,to:e,id:a}).c("x",{xmlns:t.Strophe.NS.MUC_USER}),o=0,s=n.length;o<s;o++)c=n[o],i.c("invite",{to:c}),null!=r&&(i.c("reason",r),i.up()),i.up();return this._connection.send(i),a},directInvite:function(e,n,r,o){var i,s,a;return a=this._connection.getUniqueId(),i={xmlns:"jabber:x:conference",jid:e},null!=r&&(i.reason=r),null!=o&&(i.password=o),s=t.$msg({from:this._connection.jid,to:n,id:a}).c("x",i),this._connection.send(s),a},queryOccupants:function(e,n,r){var o,i;return o={xmlns:t.Strophe.NS.DISCO_ITEMS},i=t.$iq({from:this._connection.jid,to:e,type:"get"}).c("query",o),this._connection.sendIQ(i,n,r)},configure:function(e,n,r){var o,i;return o=t.$iq({to:e,type:"get"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}),i=o.tree(),this._connection.sendIQ(i,n,r)},cancelConfigure:function(e){var n,r;return n=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"cancel"}),r=n.tree(),this._connection.sendIQ(r)},saveConfiguration:function(e,n,r,o){var i,s,a,c,u;if(a=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}),void 0!==t.Strophe.x&&void 0!==t.Strophe.x.Form&&n instanceof t.Strophe.x.Form)n.type="submit",a.cnode(n.toXML());else for(a.c("x",{xmlns:"jabber:x:data",type:"submit"}),s=0,c=n.length;s<c;s++)i=n[s],a.cnode(i).up();return u=a.tree(),this._connection.sendIQ(u,r,o)},createInstantRoom:function(e,n,r){var o;return o=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"}),this._connection.sendIQ(o.tree(),n,r)},createConfiguredRoom:function(e,n,o,i){var s,a,c;for(s in(a=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"})).c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),n)r.call(n,s)&&(c=n[s],a.c("field",{var:s}).c("value").t(c).up().up());return this._connection.sendIQ(a.tree(),o,i)},setTopic:function(e,n){var r;return r=t.$msg({to:e,from:this._connection.jid,type:"groupchat"}).c("subject",{xmlns:"jabber:client"}).t(n),this._connection.send(r.tree())},_modifyPrivilege:function(e,n,r,o,i){var s;return s=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_ADMIN}).cnode(n.node),null!=r&&s.c("reason",r),this._connection.sendIQ(s.tree(),o,i)},modifyRole:function(e,n,r,o,i,s){var a;return a=t.$build("item",{nick:n,role:r}),this._modifyPrivilege(e,a,o,i,s)},kick:function(t,e,n,r,o){return this.modifyRole(t,e,"none",n,r,o)},voice:function(t,e,n,r,o){return this.modifyRole(t,e,"participant",n,r,o)},mute:function(t,e,n,r,o){return this.modifyRole(t,e,"visitor",n,r,o)},op:function(t,e,n,r,o){return this.modifyRole(t,e,"moderator",n,r,o)},deop:function(t,e,n,r,o){return this.modifyRole(t,e,"participant",n,r,o)},modifyAffiliation:function(e,n,r,o,i,s){var a;return a=t.$build("item",{jid:n,affiliation:r}),this._modifyPrivilege(e,a,o,i,s)},ban:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"outcast",n,r,o)},member:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"member",n,r,o)},revoke:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"none",n,r,o)},owner:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"owner",n,r,o)},admin:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"admin",n,r,o)},changeNick:function(e,n){var r,o;return o=this.test_append_nick(e,n),r=t.$pres({from:this._connection.jid,to:o,id:this._connection.getUniqueId()}),this._connection.send(r.tree())},setStatus:function(e,n,r,o){var i,s;return s=this.test_append_nick(e,n),i=t.$pres({from:this._connection.jid,to:s}),null!=r&&i.c("show",r).up(),null!=o&&i.c("status",o),this._connection.send(i.tree())},registrationRequest:function(e,n,r){var o;return o=t.$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:t.Strophe.NS.MUC_REGISTER}),this._connection.sendIQ(o,function(t){var e,r,o,i,s,a;for((r=t.getElementsByTagName("field")).length,i={required:[],optional:[]},s=0,a=r.length;s<a;s++)e=r[s],o={var:e.getAttribute("var"),label:e.getAttribute("label"),type:e.getAttribute("type")},0<e.getElementsByTagName("required").length?i.required.push(o):i.optional.push(o);return n(i)},r)},submitRegistrationForm:function(e,n,r,o){var i,s,a;for(s in(i=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_REGISTER})).c("x",{xmlns:"jabber:x:data",type:"submit"}),i.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#register").up().up(),n)a=n[s],i.c("field",{var:s}).c("value").t(a).up().up();return this._connection.sendIQ(i,r,o)},listRooms:function(e,n,r){var o;return o=t.$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:t.Strophe.NS.DISCO_ITEMS}),this._connection.sendIQ(o,n,r)},test_append_nick:function(e,n){var r,o;return o=t.Strophe.escapeNode(t.Strophe.getNodeFromJid(e)),r=t.Strophe.getDomainFromJid(e),o+"@"+r+(null!=n?"/"+n:"")}}),n=function(){function n(e,n,r,i){this.client=e,this.name=n,this.nick=r,this.password=i,this._roomRosterHandler=o(this._roomRosterHandler,this),this._addOccupant=o(this._addOccupant,this),this.roster={},this._message_handlers={},this._presence_handlers={},this._roster_handlers={},this._handler_ids=0,this.client.muc&&(this.client=this.client.muc),this.name=t.Strophe.getBareJidFromJid(this.name),this.addHandler("presence",this._roomRosterHandler)}return n.prototype.join=function(t,e,n){return this.client.join(this.name,this.nick,t,e,n,this.password)},n.prototype.leave=function(t,e){return this.client.leave(this.name,this.nick,t,e),delete this.client.rooms[this.name]},n.prototype.message=function(t,e,n,r){return this.client.message(this.name,t,e,n,r)},n.prototype.groupchat=function(t,e){return this.client.groupchat(this.name,t,e)},n.prototype.invite=function(t,e){return this.client.invite(this.name,t,e)},n.prototype.multipleInvites=function(t,e){return this.client.invite(this.name,t,e)},n.prototype.directInvite=function(t,e){return this.client.directInvite(this.name,t,e,this.password)},n.prototype.configure=function(t){return this.client.configure(this.name,t)},n.prototype.cancelConfigure=function(){return this.client.cancelConfigure(this.name)},n.prototype.saveConfiguration=function(t){return this.client.saveConfiguration(this.name,t)},n.prototype.queryOccupants=function(t,e){return this.client.queryOccupants(this.name,t,e)},n.prototype.setTopic=function(t){return this.client.setTopic(this.name,t)},n.prototype.modifyRole=function(t,e,n,r,o){return this.client.modifyRole(this.name,t,e,n,r,o)},n.prototype.kick=function(t,e,n,r){return this.client.kick(this.name,t,e,n,r)},n.prototype.voice=function(t,e,n,r){return this.client.voice(this.name,t,e,n,r)},n.prototype.mute=function(t,e,n,r){return this.client.mute(this.name,t,e,n,r)},n.prototype.op=function(t,e,n,r){return this.client.op(this.name,t,e,n,r)},n.prototype.deop=function(t,e,n,r){return this.client.deop(this.name,t,e,n,r)},n.prototype.modifyAffiliation=function(t,e,n,r,o){return this.client.modifyAffiliation(this.name,t,e,n,r,o)},n.prototype.ban=function(t,e,n,r){return this.client.ban(this.name,t,e,n,r)},n.prototype.member=function(t,e,n,r){return this.client.member(this.name,t,e,n,r)},n.prototype.revoke=function(t,e,n,r){return this.client.revoke(this.name,t,e,n,r)},n.prototype.owner=function(t,e,n,r){return this.client.owner(this.name,t,e,n,r)},n.prototype.admin=function(t,e,n,r){return this.client.admin(this.name,t,e,n,r)},n.prototype.changeNick=function(t){return this.nick=t,this.client.changeNick(this.name,nick)},n.prototype.setStatus=function(t,e){return this.client.setStatus(this.name,this.nick,t,e)},n.prototype.addHandler=function(t,e){var n;switch(n=this._handler_ids++,t){case"presence":this._presence_handlers[n]=e;break;case"message":this._message_handlers[n]=e;break;case"roster":this._roster_handlers[n]=e;break;default:return this._handler_ids--,null}return n},n.prototype.removeHandler=function(t){return delete this._presence_handlers[t],delete this._message_handlers[t],delete this._roster_handlers[t]},n.prototype._addOccupant=function(t){var n;return n=new e(t,this),this.roster[n.nick]=n},n.prototype._roomRosterHandler=function(t){var e,r,o,i,s;switch(e=n._parsePresence(t),i=e.nick,o=e.newnick||null,e.type){case"error":return!0;case"unavailable":o&&(e.nick=o,this.roster[i]&&this.roster[o]&&(this.roster[i].update(this.roster[o]),this.roster[o]=this.roster[i]),this.roster[i]&&!this.roster[o]&&(this.roster[o]=this.roster[i].update(e))),delete this.roster[i];break;default:this.roster[i]?this.roster[i].update(e):this._addOccupant(e)}for(r in s=this._roster_handlers)(0,s[r])(this.roster,this)||delete this._roster_handlers[r];return!0},n._parsePresence=function(e){var n,r,o,i,s,a,c,u,l,d;for((o={}).nick=t.Strophe.getResourceFromJid(e.getAttribute("from")),o.type=e.getAttribute("type"),o.states=[],u=e.childNodes,i=0,a=u.length;i<a;i++)switch((n=u[i]).nodeName){case"error":o.errorcode=n.getAttribute("code"),o.error=null!=(l=n.childNodes[0])?l.nodeName:void 0;break;case"status":o.status=n.textContent||null;break;case"show":o.show=n.textContent||null;break;case"x":if(n.getAttribute("xmlns")===t.Strophe.NS.MUC_USER)for(d=n.childNodes,s=0,c=d.length;s<c;s++)switch((r=d[s]).nodeName){case"item":o.affiliation=r.getAttribute("affiliation"),o.role=r.getAttribute("role"),o.jid=r.getAttribute("jid"),o.newnick=r.getAttribute("nick");break;case"status":r.getAttribute("code")&&o.states.push(r.getAttribute("code"))}}return o},n}(),function(){function t(t){this.parse=o(this.parse,this),null!=t&&this.parse(t)}t.prototype.parse=function(t){var e,n,r,o,i,s,a,c,u,l,d,f,p;for(f=t.getElementsByTagName("query")[0].childNodes,this.identities=[],this.features=[],this.x=[],i=0,u=f.length;i<u;i++)switch(r=f[i],n=r.attributes,r.nodeName){case"identity":for(s={},a=0,l=n.length;a<l;a++)e=n[a],s[e.name]=e.textContent;this.identities.push(s);break;case"feature":this.features.push(r.getAttribute("var"));break;case"x":if("FORM_TYPE"===!r.childNodes[0].getAttribute("var")||"hidden"===!r.childNodes[0].getAttribute("type"))break;for(p=r.childNodes,c=0,d=p.length;c<d;c++)(o=p[c]).attributes.type||this.x.push({var:o.getAttribute("var"),label:o.getAttribute("label")||"",value:o.firstChild.textContent||""})}return{identities:this.identities,features:this.features,x:this.x}}}(),e=function(){function t(t,e){this.room=e,this.update=o(this.update,this),this.admin=o(this.admin,this),this.owner=o(this.owner,this),this.revoke=o(this.revoke,this),this.member=o(this.member,this),this.ban=o(this.ban,this),this.modifyAffiliation=o(this.modifyAffiliation,this),this.deop=o(this.deop,this),this.op=o(this.op,this),this.mute=o(this.mute,this),this.voice=o(this.voice,this),this.kick=o(this.kick,this),this.modifyRole=o(this.modifyRole,this),this.update(t)}return t.prototype.modifyRole=function(t,e,n,r){return this.room.modifyRole(this.nick,t,e,n,r)},t.prototype.kick=function(t,e,n){return this.room.kick(this.nick,t,e,n)},t.prototype.voice=function(t,e,n){return this.room.voice(this.nick,t,e,n)},t.prototype.mute=function(t,e,n){return this.room.mute(this.nick,t,e,n)},t.prototype.op=function(t,e,n){return this.room.op(this.nick,t,e,n)},t.prototype.deop=function(t,e,n){return this.room.deop(this.nick,t,e,n)},t.prototype.modifyAffiliation=function(t,e,n,r){return this.room.modifyAffiliation(this.jid,t,e,n,r)},t.prototype.ban=function(t,e,n){return this.room.ban(this.jid,t,e,n)},t.prototype.member=function(t,e,n){return this.room.member(this.jid,t,e,n)},t.prototype.revoke=function(t,e,n){return this.room.revoke(this.jid,t,e,n)},t.prototype.owner=function(t,e,n){return this.room.owner(this.jid,t,e,n)},t.prototype.admin=function(t,e,n){return this.room.admin(this.jid,t,e,n)},t.prototype.update=function(t){return this.nick=t.nick||null,this.affiliation=t.affiliation||null,this.role=t.role||null,this.jid=t.jid||null,this.status=t.status||null,this.show=t.show||null,this},t}()}(n(12))},function(t,e,n){var r,o;r=[n(12)],void 0===(o=function(t){var e,n,r;return e=t.Strophe,t.$build,n=t.$iq,t.$msg,t.$pres,r=function(t,r,o){var i=n(r?{type:t,to:r}:{type:t});return i.c("vCard",{xmlns:e.NS.VCARD}),o&&i.cnode(o),i},e.addConnectionPlugin("vcard",{_connection:null,init:function(t){return this._connection=t,e.addNamespace("VCARD","vcard-temp")},get:function(t,e,n){var o=r("get",e);return this._connection.sendIQ(o,t,n)},set:function(t,e,n,o){var i=r("set",n,e);return this._connection.sendIQ(i,t,o)}}),t}.apply(e,r))||(t.exports=o)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5),o=n(0),i=n(7),s=function(){function t(){}return t.transformVCard=function(t){var e={};return e[o.UserConstants.NAME]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.NAME)[0])),e[o.UserConstants.UID]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.UID)[0])),e[o.UserConstants.AVATAR]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.AVATAR)[0])),e[o.UserConstants.LINK]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.LINK)[0])),e[o.UserConstants.STATUS]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.STATUS)[0])),e[o.UserConstants.LAST_ACTIVE_AT]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.LAST_ACTIVE_AT)[0])),e[o.UserConstants.ROLE]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.ROLE)[0])),e[o.UserConstants.USER_NAME]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.USER_NAME)[0])),new r.User(e)},t}();e.VCardController=s},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),o=n(1),i=n(3),s=n(31),a=function(){function t(e){this.limit=t.DEFAULT_LIMIT,this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.hasJoined=0,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},o.isFalsy(e)||(o.isFalsy(e.limit)&&(e.limit=t.DEFAULT_LIMIT),e.limit>t.MAX_LIMIT&&(e.limit=t.MAX_LIMIT),this.limit=e.limit,o.isFalsy(e.searchKeyword)||(this.searchKeyword=e.searchKeyword),o.isFalsy(e.hasJoined)||(this.hasJoined=1))}return t.prototype.fetchPrevious=function(){var t=this;return new Promise(function(e,n){if(0!=t.next_page)return r.makeApiCall("groups",{},t.getPreData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(t,e){r.push(s.GroupsController.trasformJSONGroup(t))}),e(r)}e([])});e([])})},t.prototype.fetchNext=function(){var t=this;return new Promise(function(e,n){r.makeApiCall("getGroups",{},t.getNextData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(t,e){r.push(s.GroupsController.trasformJSONGroup(t))}),e(r)}e([])},function(t){n(new i.CometChatException(t.error))})})},t.prototype.getNextData=function(){var t={};if(t.per_page=this.limit,o.isFalsy(this.searchKeyword)||(t.searchKey=this.searchKeyword),o.isFalsy(this.hasJoined)||(t.hasJoined=1),1==this.current_page)t.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return t.page=this.next_page,t;t.page=this.next_page++}return t},t.prototype.getPreData=function(){var t={};return t.per_page=this.limit,0<=this.next_page&&0<this.next_page&&(t.page=--this.next_page),t},t.MAX_LIMIT=100,t.DEFAULT_LIMIT=30,t}();e.GroupsRequest=a;var c=function(){function t(){}return t.prototype.setLimit=function(t){return this.limit=t,this},t.prototype.setSearchKeyWord=function(t){return this.searchKeyword=t,this},t.prototype.joinedOnly=function(t){return this.hasJoined=t,this},t.prototype.build=function(){return new a(this)},t}();e.GroupsRequestBuilder=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var i=n(4),s=n(1),a=n(6),c=n(3),u=n(47),l=function(){function t(e){this.limit=t.DEFAULT_LIMIT,this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.isOutCastReq=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},this.store=a.LocalStorage.getInstance(),s.isFalsy(e)||(this.limit=e.limit,this.guid=e.guid,s.isFalsy(e.searchKeyword)||(this.searchKeyword=e.searchKeyword),e instanceof f&&(this.isOutCastReq=e.isOutCastReq))}return t.prototype.fetchPrevious=function(){var t=this;return new Promise(function(e,n){if(0!=t.next_page)return i.makeApiCall(t.isOutCastReq?"getBannedGroupMembers":"getGroupMembers",{guid:t.guid},t.getPreData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(e){e.guid=t.guid,r.push(u.GroupMembersController.trasformJSONGroupMember(e))}),e(r)}e([])},function(t){n(new c.CometChatException(t.error))});e([])})},t.prototype.fetchNext=function(){var t=this;return new Promise(function(e,n){i.makeApiCall(t.isOutCastReq?"getBannedGroupMembers":"getGroupMembers",{guid:t.guid},t.getNextData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(e){e.guid=t.guid,r.push(u.GroupMembersController.trasformJSONGroupMember(e))}),e(r)}else e([])},function(t){n(new c.CometChatException(t.error))})})},t.prototype.getNextData=function(){var t={};if(t.per_page=this.limit,s.isFalsy(this.searchKeyword)||(t.search=this.searchKeyword),1==this.current_page)t.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return t.page=this.next_page,t;t.page=++this.next_page}return t},t.prototype.getPreData=function(){var t={};return t.per_page=this.limit,0<=this.next_page&&0<this.next_page&&(t.page=--this.next_page),t},t.MAX_LIMIT=2,t.DEFAULT_LIMIT=1,t}();e.GroupMembersRequest=l;var d=function(){function t(t){this.guid=t}return t.prototype.setLimit=function(t){return this.limit=t,this},t.prototype.setSearchKeyWord=function(t){return this.searchKeyword=t,this},t.prototype.build=function(){return new l(this)},t}(),f=function(t){function e(e){var n=t.call(this,e)||this;return n.isOutCastReq=!0,n}return o(e,t),e.prototype.build=function(){return new l(this)},e}(e.GroupMembersRequestBuilder=d);e.GroupOutCastMembersRequestBuilder=f},function(t,e,n){"use strict";e.__esModule=!0;var r=n(34),o=n(0),i=n(1),s=function(){function t(){}return t.trasformJSONGroupMember=function(t){var e;try{return e=new r.GroupMember(t[o.GroupMemersConstans.KEYS.UID]),Object.assign(e,t),e}catch(e){return i.Logger.error("GroupMembersController:trasformJSONGroupMember",{e:e,groupMember:t}),t}},t}();e.GroupMembersController=s},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),o=n(1),i=n(6),s=n(14),a=n(3),c=n(32),u=n(0),l=n(2),d=function(){function t(e){this.limit=t.DEFAULT_LIMIT,this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.hideBlockedUsers=!1,this.fetchingInProgress=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},this.store=i.LocalStorage.getInstance(),t.userStore=c.UserStore.getInstance(),o.isFalsy(e)||(this.limit=e.limit,o.isFalsy(e.searchKeyword)||(this.searchKeyword=e.searchKeyword),o.isFalsy(e.status)||(this.status=e.status),o.isFalsy(e.shouldHideBlockedUsers)||(this.hideBlockedUsers=e.shouldHideBlockedUsers),o.isFalsy(e.role)||(this.role=e.role))}return t.prototype.fetchPrevious=function(){var e=this;return this.fetchingInProgress=!0,new Promise(function(n,o){if(0==e.next_page)n([]),e.fetchingInProgress=!1;else{if(!e.fetchingInProgress)return r.makeApiCall("users",{},e.getPreData()).then(function(r){if(r.meta&&(e.total_pages=r.meta.pagination.total_pages),0<r.data.length){e.pagination=r.meta.pagination;var o=[];r.data.map(function(t,e){o.push(s.UsersController.trasformJSONUser(t))}),t.userStore.storeUsers(o),n(o),e.fetchingInProgress=!1}n([]),e.fetchingInProgress=!1},function(t){o(new a.CometChatException(t.error)),e.fetchingInProgress=!1});n([])}})},t.prototype.fetchNext=function(){var t=this;return new Promise(function(e,n){t.fetchingInProgress?(t.fetchingInProgress=!1,e([])):(t.fetchingInProgress=!0,r.makeApiCall("users",{},t.getNextData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[],i=[];n.data.map(function(t){r.push(s.UsersController.trasformJSONUser(t)),i.push(o.format(u.XMPP.username_string,l.CometChat.getAppId(),t[u.UserConstants.UID]))}),e(r)}else e([])},function(e){t.fetchingInProgress=!1,n(new a.CometChatException(e.error))}))})},t.prototype.getNextData=function(){var t={};if(t.per_page=this.limit,o.isFalsy(this.searchKeyword)||(t.searchKey=this.searchKeyword),o.isFalsy(this.status)||(t.status=this.status),o.isFalsy(this.hideBlockedUsers)||(t.hideBlockedUsers=1),o.isFalsy(this.role)||(t.role=this.role),0==this.current_page)t.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return t.page=this.next_page,t;t.page=++this.next_page}return t},t.prototype.getPreData=function(){var t={};return t.per_page=this.limit,0<=this.next_page&&0<this.next_page&&(t.page=--this.next_page),t},t.MAX_LIMIT=2,t.DEFAULT_LIMIT=1,t.USER_STATUS={ONLINE:u.PresenceConstatnts.STATUS.ONLINE,OFFLINE:u.PresenceConstatnts.STATUS.OFFLINE},t}();e.UsersRequest=d;var f=function(){function t(){}return t.prototype.setLimit=function(t){return this.limit=t,this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setSearchKeyWord=function(t){return this.searchKeyword=t,this},t.prototype.hideBlockedUsers=function(t){return void 0===t&&(t=!0),this.shouldHideBlockedUsers=t,this},t.prototype.setRole=function(t){return this.role=t,this},t.prototype.build=function(){return new d(this)},t}();e.UsersRequestBuilder=f},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};e.__esModule=!0;var i=n(3),s=n(4),a=n(9),c=n(1),u=n(17),l=n(0),d=n(33),f=n(2),p=n(8),h=n(7),g=n(20),E=n(15),m=function(){function t(t){this.limit=l.DEFAULT_VALUES.MSGS_LIMIT,this.timestamp=0,this.id=l.DEFAULT_VALUES.DEFAULT_MSG_ID,this.messageStore=u.MessagesStore.getInstance(),this.endpointName="getUserMessages",this.listId="",this.totalPages=0,this.unread=0,this.undelivered=0,this.inProgress=!1,this.hideMessagesFromBlockedUsers=!1,this.updatedAt=0,this.onlyUpdates=0,this.paginationMeta={},this.limit=t.limit,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,this.uid=t.uid,this.uid&&(this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.UID]=this.uid),this.guid=t.guid,this.timestamp=t.timestamp,this.timestamp&&(this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=this.timestamp),this.id=t.id,this.id!=l.DEFAULT_VALUES.DEFAULT_MSG_ID&&(this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.ID]=this.id),t.HideMessagesFromBlockedUsers&&(this.hideMessagesFromBlockedUsers=t.HideMessagesFromBlockedUsers,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=1),t.unread&&(this.unread=1,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.UNREAD]=this.unread),t.undelivered&&(this.undelivered=1,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.UNDELIVERED]=this.undelivered),t.searchKey&&(this.searchKey=t.searchKey,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=this.searchKey),t.onlyUpdate&&(this.onlyUpdates=t.onlyUpdate,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.ONLY_UPDATES]=this.onlyUpdates),t.updatedAt&&(this.updatedAt=t.updatedAt,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=this.updatedAt)}return t.prototype.fetchNext=function(){var t=this;return new Promise(function(e,n){return r(t,void 0,void 0,function(){var t,r,s;return o(this,function(o){switch(o.label){case 0:if(this.inProgress)return this.inProgress=!1,n(new i.CometChatException(d.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),[2];if(this.inProgress=!0,this.onlyUpdates){if(0==this.updatedAt)return this.inProgress=!1,n(new i.CometChatException(d.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2]}else if(0==this.timestamp&&0==this.id&&0==this.updatedAt)return this.inProgress=!1,n(new i.CometChatException(d.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=l.MessageConstatnts.PAGINATION.AFFIX.APPEND,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=l.MessageConstatnts.PAGINATION.AFFIX.APPEND,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.makeAPICall()];case 2:return t=o.sent(),[4,E.ExtensionController.hookOnMessageListIsFetched(t)];case 3:return r=o.sent(),e(r),this.inProgress=!1,[3,5];case 4:return s=o.sent(),n(s),this.inProgress=!1,[3,5];case 5:return[2]}})})})},t.prototype.fetchPrevious=function(){var t=this;return new Promise(function(e,n){return r(t,void 0,void 0,function(){var t,r,s;return o(this,function(o){switch(o.label){case 0:if(this.inProgress)return n(new i.CometChatException(d.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),this.inProgress=!1,[2];if(this.inProgress=!0,this.onlyUpdates&&0==this.updatedAt)return this.inProgress=!1,n(new i.CometChatException(d.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=l.MessageConstatnts.PAGINATION.AFFIX.PREPEND,this.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=l.MessageConstatnts.PAGINATION.AFFIX.PREPEND,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.makeAPICall()];case 2:return t=o.sent(),[4,E.ExtensionController.hookOnMessageListIsFetched(t)];case 3:return r=o.sent(),e(r),this.inProgress=!1,[3,5];case 4:return s=o.sent(),n(s),this.inProgress=!1,[3,5];case 5:return[2]}})})})},t.prototype.makeAPICall=function(){var t=this;return new Promise(function(e,n){if(t.createEndpoint(),t.totalPages)if(1!=t.totalPages);else if(t.lastAffix==t.affix)return void e([]);s.makeApiCall(t.endpointName,{listId:t.listId},t.paginationMeta).then(function(n){var r=[];n[l.ResponseConstants.RESPONSE_KEYS.KEY_META][l.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(l.MessageConstatnts.PAGINATION.KEYS.ID)&&0==t.id&&(t.id=n.meta.cursor[l.MessageConstatnts.PAGINATION.KEYS.ID]),n[l.ResponseConstants.RESPONSE_KEYS.KEY_META][l.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(l.MessageConstatnts.PAGINATION.KEYS.SENT_AT)&&0==t.timestamp&&(t.timestamp=n.meta.cursor[l.MessageConstatnts.PAGINATION.KEYS.SENT_AT]),n.meta.pagination.hasOwnProperty("total_pages")&&(t.totalPages=n.meta.pagination.total_pages),n.meta.cursor.hasOwnProperty("affix")&&(t.lastAffix=n.meta.cursor.affix),n.data[0]?(0<t.id&&(t.id=n.data[0].id),0<t.timestamp&&(t.timestamp=n.data[0].sentAt),n.data.map(function(e){if(e.sender.toLowerCase()!=h.getUidFromJid(p.XMPPConnectionHelper.getInstance().connection.jid).toLowerCase()){var n=e.id,o=e.receiverType,i=l.MessageConstatnts.XMPP_KEYS.TYPE_USER,s=e.sender;o==l.MessageConstatnts.RECEIVER_TYPE.USER?c.isFalsy(e.deliveredAt)&&(i=l.MessageConstatnts.XMPP_KEYS.TYPE_USER,h.getJidFromUid(s).then(function(t){var e=$msg({to:t,type:i,from:p.XMPPConnectionHelper.getInstance().connection.jid,id:p.XMPPConnectionHelper.getInstance().connection.getUniqueId()}),r=Strophe.xmlElement("delivered",{receiverId:s,type:o,xmlns:"urn:xmpp:receipts",id:"["+f.CometChat.getAppId()+"]"+n});e.tree().appendChild(r),p.XMPPConnectionHelper.getInstance().connection.send(e)})):c.isFalsy(e.myReceipt)&&(i=l.MessageConstatnts.XMPP_KEYS.TYPE_USER,s=e.sender,h.getJidFromUid(s).then(function(t){var e=$msg({to:t,type:i,from:p.XMPPConnectionHelper.getInstance().connection.jid,id:p.XMPPConnectionHelper.getInstance().connection.getUniqueId()}),r=Strophe.xmlElement("delivered",{receiverId:s,type:o,xmlns:"urn:xmpp:receipts",id:"["+f.CometChat.getAppId()+"]"+n});e.tree().appendChild(r),p.XMPPConnectionHelper.getInstance().connection.send(e)}))}g.MessageListnerMaping.getInstance().get("all").then(function(t){e.id>t&&g.MessageListnerMaping.getInstance().set("all",e.id)},function(t){g.MessageListnerMaping.getInstance().set("all",e.id)}),t.affix==l.MessageConstatnts.PAGINATION.AFFIX.APPEND?(t.id<e.id&&0<t.id&&(t.id=e.id),t.timestamp<e.sentAt&&0<t.timestamp&&(t.timestamp=e.sentAt),t.updatedAt<e.updatedAt&&0<t.updatedAt&&(t.updatedAt=e.updatedAt)):(t.id>e.id&&(t.id=e.id),t.timestamp>e.sentAt&&(t.timestamp=e.sentAt),t.updatedAt>e.updatedAt&&(t.updatedAt=e.updatedAt)),t.id&&(t.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.ID]=t.id),t.timestamp&&(t.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=t.timestamp),t.updatedAt&&(t.paginationMeta[l.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=t.updatedAt),r.push(a.MessageController.trasformJSONMessge(e))})):r=[],e(r)},function(t){n(t)})})},t.prototype.createEndpoint=function(){(c.isFalsy(this.guid)||c.isFalsy(this.uid))&&c.isFalsy(this.guid)?(c.isFalsy(this.uid)?this.endpointName="getMessages":this.endpointName="getUserMessages",this.listId=this.uid):(this.endpointName="getGroupMessages",this.listId=this.guid)},t.prototype.makeData=function(){var t={};t[l.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,t[l.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,(c.isFalsy(this.guid)||c.isFalsy(this.uid))&&c.isFalsy(this.guid)&&c.isFalsy(this.uid)},t.prototype.getFilteredPreviousDataByReceiverId=function(t){return r(this,void 0,void 0,function(){var e,n=this;return o(this,function(r){switch(r.label){case 0:switch(e=[],t){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,u.MessagesStore.getInstance().get(this.uid).then(function(t){Object.keys(t).filter(function(t){return parseInt(t)>n.id}).map(function(n){e=e.concat([t[n]])})})];case 2:return r.sent(),[3,9];case 3:return[4,u.MessagesStore.getInstance().get(this.guid).then(function(t){Object.keys(t).filter(function(t){return parseInt(t)>n.id}).map(function(n){e=e.concat([t[n]])})})];case 4:r.sent(),r.label=5;case 5:return[4,u.MessagesStore.getInstance().get(this.guid).then(function(t){Object.keys(t).filter(function(t){return parseInt(t)>n.id}).filter(function(e){return t[e].sender.uid==n.uid}).map(function(n){e=e.concat([t[n]])})})];case 6:return r.sent(),[3,9];case 7:return[4,u.MessagesStore.getInstance().getAllMessages().then(function(t){Object.keys(t).filter(function(t){return parseInt(t)>n.id}).map(function(n){e=e.concat([t[n]])})})];case 8:return r.sent(),[3,9];case 9:return[2,e]}})})},t.prototype.getFilteredNextDataByReceiverId=function(t){return r(this,void 0,void 0,function(){var e,n=this;return o(this,function(r){switch(r.label){case 0:switch(e=[],t){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,u.MessagesStore.getInstance().get(this.uid).then(function(t){Object.keys(t).filter(function(t){return parseInt(t)>n.id}).map(function(n){e=e.concat([t[n]])})})];case 2:return r.sent(),[3,9];case 3:return[4,u.MessagesStore.getInstance().get(this.guid).then(function(t){Object.keys(t).filter(function(t){return parseInt(t)>n.id}).map(function(n){e=e.concat([t[n]])})})];case 4:r.sent(),r.label=5;case 5:return[4,u.MessagesStore.getInstance().get(this.guid).then(function(t){Object.keys(t).filter(function(t){return parseInt(t)>n.id}).filter(function(e){return t[e].sender.uid==n.uid}).map(function(n){e=e.concat([t[n]])})})];case 6:return r.sent(),[3,9];case 7:return[4,u.MessagesStore.getInstance().getAllMessages().then(function(t){Object.keys(t).filter(function(t){return parseInt(t)>n.id}).map(function(n){e=e.concat([t[n]])})})];case 8:return r.sent(),[3,9];case 9:return[2,e]}})})},t}();e.DefaultMessagesRequest=m;var _=function(){function t(){this.limit=l.DEFAULT_VALUES.MSGS_LIMIT,this.maxLimit=l.DEFAULT_VALUES.MSGS_MAX_LIMIT,this.timestamp=0,this.id=l.DEFAULT_VALUES.DEFAULT_MSG_ID,this.unread=!1,this.undelivered=!1,this.HideMessagesFromBlockedUsers=!1,this.onlyUpdate=0}return t.prototype.setLimit=function(t){return void 0===t&&(t=l.DEFAULT_VALUES.MSGS_LIMIT),t>this.maxLimit&&(t=this.maxLimit),this.limit=t,this},t.prototype.setGUID=function(t){return this.guid=t,this},t.prototype.setUID=function(t){return this.uid=t,this},t.prototype.setTimestamp=function(t){return void 0===t&&(t=c.getCurrentTime()),this.timestamp=t,this},t.prototype.setMessageId=function(t){return void 0===t&&(t=l.DEFAULT_VALUES.DEFAULT_MSG_ID),this.id=t,this},t.prototype.setUnread=function(t){return void 0===t&&(t=!1),this.unread=t,this},t.prototype.setUndelivered=function(t){return void 0===t&&(t=!1),this.undelivered=t,this},t.prototype.hideMessagesFromBlockedUsers=function(t){return void 0===t&&(t=!1),this.HideMessagesFromBlockedUsers=t,this},t.prototype.setSearchKey=function(t){return this.searchKey=t,this},t.prototype.setUpdatedAfter=function(t){return this.updatedAt=t,this},t.prototype.updatesOnly=function(t){return t&&(this.onlyUpdate=1),this},t.prototype.build=function(){return new m(this)},t}();e.DefaultMessagesRequestBuilder=_},function(t,e,n){"use strict";e.__esModule=!0,n(15);var r=function(t){};e.CometChatExtension=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),o=n(1),i=n(14),s=n(3),a=n(0),c=function(){function t(e){this.limit=t.DEFAULT_LIMIT,this.next_page=1,this.current_page=1,this.total_pages=-1,this.direction=a.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BOTH,this.fetchingInProgress=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},o.isFalsy(e)||(this.limit=e.limit,o.isFalsy(e.searchKeyword)||(this.searchKeyword=e.searchKeyword),o.isFalsy(e.direction)||(this.direction=e.direction))}return t.prototype.fetchPrevious=function(){var t=this;return this.fetchingInProgress=!0,new Promise(function(e,n){if(0==t.next_page)e([]),t.fetchingInProgress=!1;else{if(!t.fetchingInProgress)return r.makeApiCall("blockedUsersList",{},t.getPreData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(t,e){r.push(i.UsersController.trasformJSONUser(t))}),e(r),t.fetchingInProgress=!1}e([]),t.fetchingInProgress=!1},function(e){n(new s.CometChatException(e.error)),t.fetchingInProgress=!1});e([])}})},t.prototype.fetchNext=function(){var t=this;return new Promise(function(e,n){t.fetchingInProgress?(t.fetchingInProgress=!1,e([])):(t.fetchingInProgress=!0,r.makeApiCall("blockedUsersList",{},t.getNextData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(t){r.push(i.UsersController.trasformJSONUser(t))}),e(r)}else e([])},function(e){t.fetchingInProgress=!1,n(new s.CometChatException(e.error))}))})},t.prototype.getNextData=function(){var t={};if(o.isFalsy(this.direction)||(t.direction=this.direction),o.isFalsy(this.searchKeyword)||(t.search=this.searchKeyword),t.per_page=this.limit,0==this.current_page)t.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return t.page=this.next_page,t;t.page=++this.next_page}return t},t.prototype.getPreData=function(){var t={};return t.per_page=this.limit,0<=this.next_page&&0<this.next_page&&(t.page=--this.next_page),t},t.MAX_LIMIT=2,t.DEFAULT_LIMIT=1,t.directions=a.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS,t}();e.BlockedUsersRequest=c;var u=function(){function t(){this.direction=a.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BOTH}return t.prototype.setLimit=function(t){return this.limit=t,this},t.prototype.setSearchKeyWord=function(t){return this.searchKeyword=t,this},t.prototype.setDirection=function(t){return this.direction=t,this},t.prototype.blockedByMe=function(){return this.direction=a.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME,this},t.prototype.hasBlockedMe=function(){return this.direction=a.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME,this},t.prototype.build=function(){return new c(this)},t}();e.BlockedUsersRequestBuilder=u},function(t,e,n){function r(t){this.options=t||{locator:{}}}function o(){this.cdata=!1}function i(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function s(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function a(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function c(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}r.prototype.parseFromString=function(t,e){var n=this.options,r=new u,i=n.domBuilder||new o,a=n.errorHandler,c=n.locator,l=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&i.setDocumentLocator(c),r.errorHandler=function(t,e,n){if(!t){if(e instanceof o)return e;t=e}var r={},i=t instanceof Function;function a(e){var o=t[e];!o&&i&&(o=2==t.length?function(n){t(e,n)}:t),r[e]=o&&function(t){o("[xmldom "+e+"]\t"+t+s(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(a,i,c),r.domBuilder=n.domBuilder||i,/\/x?html?$/.test(e)&&(d.nbsp=" ",d.copy="©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,l,d):r.errorHandler.error("invalid doc source"),i.doc},o.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var o=this.doc,s=o.createElementNS(t,n||e),a=r.length;c(this,s),this.currentElement=s,this.locator&&i(this.locator,s);for(var u=0;u<a;u++){t=r.getURI(u);var l=r.getValue(u),d=(n=r.getQName(u),o.createAttributeNS(t,n));this.locator&&i(r.getLocator(u),d),d.value=d.nodeValue=l,s.setAttributeNode(d)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&i(this.locator,n),c(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=a.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&i(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=a.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&i(this.locator,r),c(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(t,e,n);this.locator&&i(this.locator,o),c(this,o)}},warning:function(t){},error:function(t){},fatalError:function(t){throw t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){o.prototype[t]=function(){return null}});var u=n(53).XMLReader,l=e.DOMImplementation=n(35).DOMImplementation;e.XMLSerializer=n(35).XMLSerializer,e.DOMParser=r},function(t,e){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),i=0,s=1,a=2,c=3,u=4,l=5,d=6,f=7;function p(){}function h(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function g(t,e,n,r,o,p){for(var h,g=++e,E=i;;){var m=t.charAt(g);switch(m){case"=":if(E===s)h=t.slice(e,g),E=c;else{if(E!==a)throw new Error("attribute equal must after attrName");E=c}break;case"'":case'"':if(E===c||E===s){if(E===s&&(p.warning('attribute value must after "="'),h=t.slice(e,g)),e=g+1,!(0<(g=t.indexOf(m,e))))throw new Error("attribute value no end '"+m+"' match");_=t.slice(e,g).replace(/&#?\w+;/g,o),n.add(h,_,e-1),E=l}else{if(E!=u)throw new Error('attribute value must after "="');_=t.slice(e,g).replace(/&#?\w+;/g,o),n.add(h,_,e),p.warning('attribute "'+h+'" missed start quot('+m+")!!"),e=g+1,E=l}break;case"/":switch(E){case i:n.setTagName(t.slice(e,g));case l:case d:case f:E=f,n.closed=!0;case u:case s:case a:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),E==i&&n.setTagName(t.slice(e,g)),g;case">":switch(E){case i:n.setTagName(t.slice(e,g));case l:case d:case f:break;case u:case s:"/"===(_=t.slice(e,g)).slice(-1)&&(n.closed=!0,_=_.slice(0,-1));case a:E===a&&(_=h),E==u?(p.warning('attribute "'+_+'" missed quot(")!!'),n.add(h,_.replace(/&#?\w+;/g,o),e)):("http://www.w3.org/1999/xhtml"===r[""]&&_.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+_+'" missed value!! "'+_+'" instead!!'),n.add(_,_,e));break;case c:throw new Error("attribute value missed!!")}return g;case"":m=" ";default:if(m<=" ")switch(E){case i:n.setTagName(t.slice(e,g)),E=d;break;case s:h=t.slice(e,g),E=a;break;case u:var _=t.slice(e,g).replace(/&#?\w+;/g,o);p.warning('attribute "'+_+'" missed quot(")!!'),n.add(h,_,e);case l:E=d}else switch(E){case a:n.tagName,"http://www.w3.org/1999/xhtml"===r[""]&&h.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+h+'" missed value!! "'+h+'" instead2!!'),n.add(h,h,e),e=g,E=s;break;case l:p.warning('attribute space is required"'+h+'"!!');case d:E=s,e=g;break;case c:E=u,e=g;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function E(t,e,n){for(var r=t.tagName,o=null,i=t.length;i--;){var s=t[i],a=s.qName,c=s.value;if(0<(f=a.indexOf(":")))var u=s.prefix=a.slice(0,f),l=a.slice(f+1),d="xmlns"===u&&l;else u=null,d="xmlns"===(l=a)&&"";s.localName=l,!1!==d&&(null==o&&(o={},v(n,n={})),n[d]=o[d]=c,s.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,c))}for(i=t.length;i--;)(u=(s=t[i]).prefix)&&("xml"===u&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(s.uri=n[u||""]));var f=r.indexOf(":");l=t.localName=0<f?(u=t.prefix=r.slice(0,f),r.slice(f+1)):(u=null,r);var p=t.uri=n[u||""];if(e.startElement(p,l,r,t),!t.closed)return t.currentNSMap=n,t.localNSMap=o,!0;if(e.endElement(p,l,r),o)for(u in o)e.endPrefixMapping(u)}function m(t,e,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var i=t.indexOf("</"+n+">",e),s=t.substring(e+1,i);if(/[&<]/.test(s))return/^script$/i.test(n)||(s=s.replace(/&#?\w+;/g,r)),o.characters(s,0,s.length),i}return e+1}function _(t,e,n,r){var o=r[n];return null==o&&((o=t.lastIndexOf("</"+n+">"))<e&&(o=t.lastIndexOf("</"+n)),r[n]=o),o<e}function v(t,e){for(var n in t)e[n]=t[n]}function C(t,e,n,r){switch(t.charAt(e+2)){case"-":return"-"!==t.charAt(e+3)?-1:e<(o=t.indexOf("--\x3e",e+4))?(n.comment(t,e+4,o-e-4),o+3):(r.error("Unclosed comment"),-1);default:if("CDATA["==t.substr(e+3,6)){var o=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,o-e-9),n.endCDATA(),o+3}var i=function(t,e){var n,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=e,o.exec(t);n=o.exec(t);)if(r.push(n),n[1])return r}(t,e),s=i.length;if(1<s&&/!doctype/i.test(i[0][0])){var a=i[1][0],c=3<s&&/^public$/i.test(i[2][0])&&i[3][0],u=4<s&&i[4][0],l=i[s-1];return n.startDTD(a,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),l.index+l[0].length}}return-1}function S(t,e,n){var r=t.indexOf("?>",e);if(r){var o=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,n.processingInstruction(o[1],o[2]),r+2):-1}return-1}function y(t){}function T(t,e){return t.__proto__=e,t}p.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),v(e,e={}),function(t,e,n,r,o){function i(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(65535<t){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(o.error("entity not found:"+t),t)}function s(e){if(v<e){var n=t.substring(v,e).replace(/&#?\w+;/g,i);d&&a(v),r.characters(n,0,e-v),v=e}}function a(e,n){for(;u<=e&&(n=l.exec(t));)c=n.index,u=c+n[0].length,d.lineNumber++;d.columnNumber=e-c+1}for(var c=0,u=0,l=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,f=[{currentNSMap:e}],p={},v=0;;){try{var T=t.indexOf("<",v);if(T<0){if(!t.substr(v).match(/^\s*$/)){var A=r.doc,I=A.createTextNode(t.substr(v));A.appendChild(I),r.currentElement=I}return}switch(v<T&&s(T),t.charAt(T+1)){case"/":var R=t.indexOf(">",T+3),N=t.substring(T+2,R),O=f.pop();R<0?(N=t.substring(T+2).replace(/[\s<].*/,""),o.error("end tag name: "+N+" is not complete:"+O.tagName),R=T+1+N.length):N.match(/\s</)&&(N=N.replace(/[\s<].*/,""),o.error("end tag name: "+N+" maybe not complete"),R=T+1+N.length);var M=O.localNSMap,b=O.tagName==N,P=b||O.tagName&&O.tagName.toLowerCase()==N.toLowerCase();if(P){if(r.endElement(O.uri,O.localName,N),M)for(var w in M)r.endPrefixMapping(w);b||o.fatalError("end tag name: "+N+" is not match the current start tagName:"+O.tagName)}else f.push(O);R++;break;case"?":d&&a(T),R=S(t,T,r);break;case"!":d&&a(T),R=C(t,T,r,o);break;default:d&&a(T);var L=new y,D=f[f.length-1].currentNSMap,x=(R=g(t,T,L,D,i,o),L.length);if(!L.closed&&_(t,R,L.tagName,p)&&(L.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),d&&x){for(var U=h(d,{}),Y=0;Y<x;Y++){var k=L[Y];a(k.offset),k.locator=h(d,{})}r.locator=U,E(L,r,D)&&f.push(L),r.locator=d}else E(L,r,D)&&f.push(L);"http://www.w3.org/1999/xhtml"!==L.uri||L.closed?R++:R=m(t,R,L.tagName,i,r)}}catch(e){o.error("element parse error: "+e),R=-1}v<R?v=R:s(Math.max(T,v)+1)}}(t,e,n,r,this.errorHandler),r.endDocument()}},y.prototype={setTagName:function(t){if(!o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!o.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},T({},T.prototype)instanceof T||(T=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n}),e.XMLReader=p}])})},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),o=Array.prototype;void 0==o[r]&&n("32e9")(o,r,{}),t.exports=function(t){o[r][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9def":function(t,e,n){var r=n("4588"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a159:function(t,e,n){var r=n("e4ae"),o=n("7e90"),i=n("1691"),s=n("5559")("IE_PROTO"),a=function(){},c="prototype",u=function(){var t,e=n("1ec9")("iframe"),r=i.length,o="<",s=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),u=t.F;while(r--)delete u[c][i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[s]=t):n=u(),void 0===e?n:o(n,e)}},a25f:function(t,e,n){var r=n("7726"),o=r.navigator;t.exports=o&&o.userAgent||""},a5b8:function(t,e,n){"use strict";var r=n("d8e8");function o(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}},a745:function(t,e,n){t.exports=n("f410")},aa77:function(t,e,n){var r=n("5ca1"),o=n("be13"),i=n("79e5"),s=n("fdef"),a="["+s+"]",c="​",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),d=function(t,e,n){var o={},a=i(function(){return!!s[t]()||c[t]()!=c}),u=o[t]=a?e(f):s[t];n&&(o[n]=u),r(r.P+r.F*a,"String",o)},f=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0dc:function(t,e,n){var r=n("e4ae");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(s){var i=t["return"];throw void 0!==i&&r(i.call(t)),s}}},b447:function(t,e,n){var r=n("3a38"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},b8e3:function(t,e){t.exports=!0},bcaa:function(t,e,n){var r=n("cb7c"),o=n("d3f4"),i=n("a5b8");t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t),s=n.resolve;return s(e),n.promise}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),o=n("9def"),i=n("77f1");t.exports=function(t){return function(e,n,s){var a,c=r(e),u=o(c.length),l=i(s,u);if(t&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var r=n("8436"),o=n("50ed"),i=n("481b"),s=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},c3a1:function(t,e,n){var r=n("e6f3"),o=n("1691");t.exports=Object.keys||function(t){return r(t,o)}},c5f6:function(t,e,n){"use strict";var r=n("7726"),o=n("69a8"),i=n("2d95"),s=n("5dbc"),a=n("6a99"),c=n("79e5"),u=n("9093").f,l=n("11e9").f,d=n("86cc").f,f=n("aa77").trim,p="Number",h=r[p],g=h,E=h.prototype,m=i(n("2aeb")(E))==p,_="trim"in String.prototype,v=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():f(e,3);var n,r,o,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var s,c=e.slice(2),u=0,l=c.length;u<l;u++)if(s=c.charCodeAt(u),s<48||s>o)return NaN;return parseInt(c,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(m?c(function(){E.valueOf.call(n)}):i(n)!=p)?s(new g(v(e)),n,h):v(e)};for(var C,S=n("9e1e")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;S.length>y;y++)o(g,C=S[y])&&!o(h,C)&&d(h,C,l(g,C));h.prototype=E,E.constructor=h,n("2aba")(r,p,h)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},c8bb:function(t,e,n){t.exports=n("54a1")},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),o=n("d53b"),i=n("84f2"),s=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var r=n("69a8"),o=n("6821"),i=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(e.length>c)r(a,n=e[c++])&&(~i(u,n)||u.push(n));return u}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d864:function(t,e,n){var r=n("79aa");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,n){var r=n("e4ae"),o=n("794b"),i=n("1bc3"),s=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},dbdb:function(t,e,n){var r=n("584a"),o=n("e53d"),i="__core-js_shared__",s=o[i]||(o[i]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dcbc:function(t,e,n){var r=n("2aba");t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e4ae:function(t,e,n){var r=n("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(t,e,n){var r=n("07e3"),o=n("36c3"),i=n("5b4e")(!1),s=n("5559")("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(e.length>c)r(a,n=e[c++])&&(~i(u,n)||u.push(n));return u}},ebd6:function(t,e,n){var r=n("cb7c"),o=n("d8e8"),i=n("2b4c")("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[i])?e:o(n)}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f605:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-vendors.beefddbf.js.map